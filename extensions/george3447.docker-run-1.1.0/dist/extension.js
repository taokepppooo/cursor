module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=56)}([function(e,t){e.exports=require("util")},function(e,t){e.exports=require("vscode")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_AT_LEAST_ONE_CONTAINER_TO_WORKSPACE="Please add at least one container to workspace",t.ADD_CONTAINERS_FOR_WORKSPACE="Do you want to add containers for this workspace?",t.ALL_CONTAINERS_ARE_RUNNING="All containers for current workspace are running",t.ALL_CONTAINERS_ARE_STOPPED="All containers for current workspace are stopped",t.ALREADY_ADDED_TO_WORKSPACE="All available containers are already added to workspace",t.CONFIGURATION_ARRAY_IS_EMPTY="Configuration array is empty",t.CONFIGURATION_FILE_IS_EMPTY="Configuration file is empty",t.CONFIGURATION_FILE_NOT_FOUND="Configuration file not found",t.CONTAINER_ALREADY_RUNNING=e=>`Container ${e} already running`,t.DISABLED_AUTO_GENERATE_CONFIG_ERROR="Disabled auto generate config error",t.DISABLED_AUTO_STOP_NON_RELATED_ERROR="Disabled auto stop non related error",t.DOCKER_RUN_COMMANDS="Docker Run commands (pick one)",t.EMPTY_CONFIG_FILE_NAME=e=>`Empty config [${e}]`,t.NO_CONTAINERS_FOUND="No containers found",t.NO_CONTAINERS_FOUND_FOR_THIS_WORKSPACE="No containers found for this workspace",t.NO_CONTAINER_WITH_CONTAINER_ID_FOUND=e=>`No container with given container id ${e} found`,t.NO_DEFAULT_FILE_NAME_PROVIDED=e=>`No ${e} provided`,t.NO_FOLDER_OR_WORKSPACE_OPENED="No folder or workspace opened",t.NO_NON_RELATED_CONTAINER_FOUND="No non related container found",t.SELECT_AT_LEAST_ONE_CONTAINER_TO_ADD="Please select at least one container to add",t.SELECT_AT_LEAST_ONE_CONTAINER_TO_REMOVE="Please select at least one container to remove",t.SELECT_AT_LEAST_ONE_CONTAINER_TO_START="Please select at least one container to start",t.SELECT_AT_LEAST_ONE_CONTAINER_TO_STOP="Please select at least one container to stop",t.SELECT_CONTAINERS="Select containers that you need for this workspace",t.SELECT_CONTAINERS_TO_REMOVE="Select containers you need to remove from this workspace",t.STARTING_ALL_CONTAINERS="Starting all containers",t.STARTING_CONTAINER=e=>"Starting container "+e,t.STARTING_SELECTED_CONTAINERS="Starting Selected Containers",t.STOPPING_ALL_CONTAINERS="Stopping all containers",t.STOPPING_CONTAINER=e=>"Stopping container "+e,t.STOPPING_NON_RELATED_CONTAINER=e=>"Stopping non related container "+e,t.STOPPING_NON_RELATED_CONTAINERS="Stopping non related containers",t.STOPPING_SELECTED_CONTAINERS="Stopping selected containers",t.SUCCESSFULLY_STARTED_CONTAINER=e=>"Successfully started "+e,t.SUCCESSFULLY_STOPPED_CONTAINER=e=>"Successfully stopped "+e,t.SUCCESSFULLY_STOPPED_NON_RELATED_CONTAINER=e=>"Successfully stopped non related container "+e},function(e,t){var r=[],n=r.forEach,i=r.slice;e.exports.extend=function(e){return n.call(i.call(arguments,1),(function(t){if(t)for(var r in t)e[r]=t[r]})),e},e.exports.processArgs=function(t,r,n){return r||"function"!=typeof t||(r=t,t=null),{callback:r,opts:e.exports.extend({},n,t)}},e.exports.parseRepositoryTag=function(e){var t,r=e.indexOf("@"),n=e.lastIndexOf(":");if(r>=0)t=r;else{if(!(n>=0))return{repository:e};t=n}var i=e.slice(t+1);return-1===i.indexOf("/")?{repository:e.slice(0,t),tag:i}:{repository:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10),i=r(2);class o extends Error{constructor(e=i.NO_FOLDER_OR_WORKSPACE_OPENED){super(e),this.name=i.NO_FOLDER_OR_WORKSPACE_OPENED+" Error"}}t.NoFolderOrWorkspaceOpenedError=o;class s extends Error{constructor(e){super(e),this.name=i.DISABLED_AUTO_GENERATE_CONFIG_ERROR}}t.AutoGenerateConfigDisabledError=s;class a extends Error{constructor(e){super(e),this.name=i.DISABLED_AUTO_STOP_NON_RELATED_ERROR}}t.AutoStopNonRelatedDisabledError=a;class c extends Error{constructor(e=i.NO_DEFAULT_FILE_NAME_PROVIDED(n.DEFAULT_FILE_NAME)){super(e),this.name=i.CONFIGURATION_FILE_NOT_FOUND}}t.DockerrcNotFoundError=c;class u extends Error{constructor(e,t){super(e),this.setFileName(t)}setFileName(e){this.name=i.EMPTY_CONFIG_FILE_NAME(e)}}t.EmptyConfigError=u;t.EmptyConfigArrayError=class extends u{constructor(e=i.CONFIGURATION_ARRAY_IS_EMPTY,t="Config Util"){super(e,t)}};t.EmptyConfigFileError=class extends u{constructor(e=i.CONFIGURATION_FILE_IS_EMPTY,t="Config Util"){super(e,t)}};class f extends Error{constructor(e=i.NO_CONTAINERS_FOUND){super(e)}}t.NoContainersFoundError=f,t.handleError=e=>console.warn(e)},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ext||(t.ext={})},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(19),s=r(10),a=r(4);function c(e){return n(this,void 0,void 0,(function*(){const t=yield i.ext.dockerode.listContainers({all:!0});return!(!t||!t.length)&&t.findIndex(t=>t.Id.substring(0,12)===e)>-1}))}function u(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=[];for(let s=0;s<e.length;s++){const a=e[s];if(yield c(a)){const e=i.ext.dockerode.getContainer(a),s=yield e.inspect();if(t||s.State.Running===r){const e=f(s,o);n.push({label:e,containerId:a})}}}return n.sort((e,t)=>e.label>t.label?1:e.label<t.label?-1:0)}))}function f(e,t=s.defaultContainerLabelFormat){const{Config:{Image:r}}=e,[n,i]=r.split(":"),o=function(e){return"/"===e[0]?e.substring(1):e}(e.Name),a=Object.assign(Object.assign({},s.defaultContainerLabelFormatSymbols),{name:o,imageName:n,imageVersion:i});return t.reduce((e,t)=>e+a[t],"")}t.extractContainerIds=function(e){return e.map(e=>e.containerId)},t.getWorkspaceContainers=function(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield o.getConfig().catch(e=>{throw e.setFileName("list.ts"),e});return yield u(n,e,t,r)}))},t.getGlobalContainers=function(e,t){return n(this,void 0,void 0,(function*(){const r=yield i.ext.dockerode.listContainers({all:!0});if(!r||!r.length)throw new a.NoContainersFoundError;return u(r.map(e=>e.Id.substring(0,12)),e,t)}))},t.isContainerExists=c},function(e,t){e.exports=require("stream")},function(e,t,r){var n=r(27).Ber,i=r(14).readUInt32BE,o=r(14).writeUInt32BE;function s(e,t,r,n,o,s){r&&!Buffer.isBuffer(r)&&"string"!=typeof r&&("number"==typeof o&&(s=o),o=n,n=r,r=void 0),t||(t=0);var a,c,u=e.length,f=u-t;return t<0||t>=u||f<4||(a=i(e,t))>(s||1/0)||f<4+a?(n&&n._cleanup(o),!1):(c=(t+=4)+a,e._pos=c,r?Buffer.isBuffer(r)?(e.copy(r,0,t,c),r):e.toString(r,t,c):e.slice(t,c))}e.exports={iv_inc:function(e){var t=12,r=0;do{if(--t,255!==(r=e[t]))return void(e[t]=++r);e[t]=0}while(t>4)},readInt:function(e,t,r,n){var o=e.length;if(t<0||t>=o||o-t<4)return r&&r._cleanup(n),!1;return i(e,t)},readString:s,parseKey:r(41).parseKey,sigSSHToASN1:function(e,t,r,i){var o;switch(t){case"ssh-dss":if(e.length>40)return e;(o=new n.Writer).startSequence();var a=e.slice(0,20),c=e.slice(20);if(128&a[0]){var u=Buffer.allocUnsafe(21);u[0]=0,a.copy(u,1),a=u}else 0!==a[0]||128&a[1]||(a=a.slice(1));if(128&c[0]){var f=Buffer.allocUnsafe(21);f[0]=0,c.copy(f,1),c=f}else 0!==c[0]||128&c[1]||(c=c.slice(1));return o.writeBuffer(a,n.Integer),o.writeBuffer(c,n.Integer),o.endSequence(),o.buffer;case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return!1!==(a=s(e,0,r,i))&&(!1!==(c=s(e,e._pos,r,i))&&((o=new n.Writer).startSequence(),o.writeBuffer(a,n.Integer),o.writeBuffer(c,n.Integer),o.endSequence(),o.buffer));default:return e}},DSASigBERToBare:function(e){if(e.length<=40)return e;var t=new n.Reader(e);t.readSequence();var r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0),o=0,s=0;if(r.length<20){var a=Buffer.allocUnsafe(20);r.copy(a,1),(r=a)[0]=0}if(i.length<20){var c=Buffer.allocUnsafe(20);i.copy(c,1),(i=c)[0]=0}r.length>20&&0===r[0]&&(o=1);i.length>20&&0===i[0]&&(s=1);var u=Buffer.allocUnsafe(r.length-o+(i.length-s));return r.copy(u,0,o),i.copy(u,r.length-o,s),u},ECDSASigASN1ToSSH:function(e){if(0===e[0])return e;var t=new n.Reader(e);t.readSequence();var r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0);if(null===r||null===i)return!1;var s=Buffer.allocUnsafe(4+r.length+4+i.length);return o(s,r.length,0),r.copy(s,4),o(s,i.length,4+r.length),i.copy(s,8+r.length),s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(34);t.DEFAULT_FILE_NAME=".dockerrc",t.CONFIGURATION_KEY="DockerRun",t.CONFIGURATION={SECTION:"DockerRun",DISABLE_AUTO_GENERATE_CONFIG:"DisableAutoGenerateConfig",DISABLE_AUTO_STOP_NON_RELATED:"DisableAutoStopNonRelated",DISABLE_DOCKERRC:"DisableDockerrc",CONTAINERS:"Containers",DISABLE_STATUS_BAR_ITEM:"DisableStatusBarItem",STATUS_BAR_ITEM_REFRESH_INTERVAL:"StatusBarItemRefreshInterval"},t.autoAddList=[{label:"Yes",id:n.AutoAdd.YES},{label:"No",id:n.AutoAdd.No},{label:"Never add for this workspace",id:n.AutoAdd.SKIP_WORK_SPACE},{label:"Never, I will add it myself for each workspaces",id:n.AutoAdd.SKIP_GLOBAL}],t.configTargetList=[{label:"VS Code settings",id:n.ConfigTarget.Settings,picked:!0},{label:"Separate .dockerrc file",id:n.ConfigTarget.DockerrcFile}],t.defaultContainerLabelFormat=["imageName","imageSeparator","imageVersion","emptySpace","openBracket","name","closedBracket"],t.defaultContainerLabelFormatSymbols={emptySpace:" ",imageSeparator:":",openBracket:"(",closedBracket:")"},t.COMMANDS={ADD:"docker-run.add",REMOVE:"docker-run.remove",START:"docker-run.start",START_ALL:"docker-run.start:all",STOP:"docker-run.stop",STOP_ALL:"docker-run.stop:all",STOP_NON_RELATED:"docker-run.stop:non-related"},t.dockerRunCommands=[{command:t.COMMANDS.ADD,title:"Add Containers"},{command:t.COMMANDS.REMOVE,title:"Remove Containers"},{command:t.COMMANDS.START,title:"Start Containers"},{command:t.COMMANDS.START_ALL,title:"Start All Containers"},{command:t.COMMANDS.STOP,title:"Stop Containers"},{command:t.COMMANDS.STOP_ALL,title:"Stop All Containers"},{command:t.COMMANDS.STOP_NON_RELATED,title:"Stop Non Related Containers"}],t.dockerRunCommandList=t.dockerRunCommands.map(({command:e,title:t})=>({id:e,label:t}))},function(e,t){e.exports=require("events")},function(e,t,r){try{var n=r(0);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(93)}},function(e,t){e.exports=require("path")},function(e,t){e.exports={readUInt32BE:function(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]},writeUInt32BE:function(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r},writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r}}},function(e,t,r){var n=r(8);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(44)).Stream=n||t,t.Readable=t,t.Writable=r(48),t.Duplex=r(18),t.Transform=r(50),t.PassThrough=r(98),t.finished=r(31),t.pipeline=r(99))},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=". Received type "+typeof r,a}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(44),o=r(48);r(12)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(10),s=r(4),a=r(58),c=r(22);function u(){return c.getConfiguration(o.CONFIGURATION.CONTAINERS)}function f(e){return n(this,void 0,void 0,(function*(){yield c.updateSettings(o.CONFIGURATION.CONTAINERS,e,i.ConfigurationTarget.Workspace)}))}t.isDockerrcDisabled=()=>c.isSettingsDisabled(o.CONFIGURATION.DISABLE_DOCKERRC),t.isConfigAvailable=function(){if(t.isDockerrcDisabled()){return null!==c.getConfiguration(o.CONFIGURATION.CONTAINERS)}return!!a.getFileUri()},t.getConfig=function(){return n(this,void 0,void 0,(function*(){let e;if(e=t.isDockerrcDisabled()?u():yield a.getConfigFromDockerrc(),!e.length)throw new s.EmptyConfigArrayError;return e}))},t.moveToDockerrc=function(){return n(this,void 0,void 0,(function*(){const e=u();e&&e.length>0&&(yield a.writeConfigToDockerrc(e),yield f([]))}))},t.moveToSettings=function(){return n(this,void 0,void 0,(function*(){const e=yield a.getConfigFromDockerrc();e&&e.length>0&&(yield f(e),yield a.removeDockerrc())}))},t.writeConfig=function(e){return n(this,void 0,void 0,(function*(){t.isDockerrcDisabled()?yield f(e):yield a.writeConfigToDockerrc(e)}))}},function(e,t){e.exports=require("crypto")},function(e,t){e.exports={readUInt32BE:function(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]},writeUInt32BE:function(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r},writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(10);function s(e){return a().inspect(e)}function a(){return i.workspace.getConfiguration(o.CONFIGURATION.SECTION)}t.isSettingsDisabled=function(e){const t=s(e);return!(!t||!t.globalValue&&!t.workspaceValue)},t.getConfiguration=function(e){const t=s(e);return t&&(t.globalValue||t.workspaceValue)?t.globalValue||t.workspaceValue:null},t.updateSettings=function(e,t,r){return n(this,void 0,void 0,(function*(){const n=a();yield n.update(e,t,r)}))},t.settingsChanged=function(e){return t=>e.affectsConfiguration(`${o.CONFIGURATION.SECTION}.${t}`)}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("net")},function(e,t,r){e.exports={SFTPStream:r(74),SSH2Stream:r(82),utils:r(9),constants:r(30)}},function(e,t,r){var n=r(75);e.exports={Ber:n,BerReader:n.Reader,BerWriter:n.Writer}},function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},function(e,t,r){var n,i,o,s=r(20),a=function(){if("function"==typeof s.sign&&"function"==typeof s.verify){var e,t,r="-----BEGIN PRIVATE KEY-----\r\nMC4CAQAwBQYDK2VwBCIEIHKj+sVa9WcD/q2DJUJaf43Kptc8xYuUQA4bOFj9vC8T\r\n-----END PRIVATE KEY-----",n=Buffer.from("a");try{e=s.sign(null,n,r),t=s.verify(null,n,r,e)}catch(e){}return Buffer.isBuffer(e)&&64===e.length&&!0===t}return!1}(),c="function"==typeof s.diffieHellman&&"function"==typeof s.generateKeyPairSync&&"function"==typeof s.createPublicKey,u=t.MESSAGE={DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,KEXINIT:20,NEWKEYS:21,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100};for(n=0,o=(i=Object.keys(u)).length;n<o;++n)u[u[i[n]]]=i[n];u.KEXDH_INIT=30,u.KEXDH_REPLY=31,u.KEXDH_GEX_REQUEST=34,u.KEXDH_GEX_GROUP=31,u.KEXDH_GEX_INIT=32,u.KEXDH_GEX_REPLY=33,u.KEXECDH_INIT=30,u.KEXECDH_REPLY=31,u.USERAUTH_PASSWD_CHANGEREQ=60,u.USERAUTH_PK_OK=60,u.USERAUTH_INFO_REQUEST=60,u.USERAUTH_INFO_RESPONSE=61;var f=t.DYNAMIC_KEXDH_MESSAGE={};f[u.KEXDH_GEX_GROUP]="KEXDH_GEX_GROUP",f[u.KEXDH_GEX_REPLY]="KEXDH_GEX_REPLY";var h=t.KEXDH_MESSAGE={};h[u.KEXDH_INIT]="KEXDH_INIT",h[u.KEXDH_REPLY]="KEXDH_REPLY";var l=t.DISCONNECT_REASON={HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15};for(n=0,o=(i=Object.keys(l)).length;n<o;++n)l[l[i[n]]]=i[n];var d=t.CHANNEL_OPEN_FAILURE={ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4};for(n=0,o=(i=Object.keys(d)).length;n<o;++n)d[d[i[n]]]=i[n];var p=t.TERMINAL_MODE={TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129};for(n=0,o=(i=Object.keys(p)).length;n<o;++n)p[p[i[n]]]=i[n];var m=t.CHANNEL_EXTENDED_DATATYPE={STDERR:1};for(n=0,o=(i=Object.keys(m)).length;n<o;++n)m[m[i[n]]]=i[n];t.SIGNALS=["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"];var g=["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha256","diffie-hellman-group16-sha512","diffie-hellman-group18-sha512","diffie-hellman-group14-sha1"];c&&(g.unshift("curve25519-sha256"),g.unshift("curve25519-sha256@libssh.org"));var y=["diffie-hellman-group-exchange-sha1","diffie-hellman-group1-sha1"],_=Buffer.from(g.join(","),"ascii");y=g.concat(y);var v=["ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","ssh-rsa"];a&&v.unshift("ssh-ed25519");var E=["ssh-dss"],w=Buffer.from(v.join(","),"ascii");E=v.concat(E);var b=["aes128-ctr","aes192-ctr","aes256-ctr","aes128-gcm","aes128-gcm@openssh.com","aes256-gcm","aes256-gcm@openssh.com"],S=["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"],T=Buffer.from(b.join(","),"ascii");S=b.concat(S);var k=["hmac-sha2-256","hmac-sha2-512","hmac-sha1"],A=["hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"],I=Buffer.from(k.join(","),"ascii");A=k.concat(A);var O=["none","zlib@openssh.com","zlib"],C=[],N=Buffer.from(O.join(","),"ascii");function R(e,t,r,n,i,o){return{blockLen:e,keyLen:t,ivLen:0===r?e:r,authLen:n,discardLen:i,stream:o}}function P(e,t){return{len:e,actualLen:t}}C=O.concat(C),t.CIPHER_INFO={"aes128-gcm":R(16,16,12,16,0,!1),"aes256-gcm":R(16,32,12,16,0,!1),"aes128-gcm@openssh.com":R(16,16,12,16,0,!1),"aes256-gcm@openssh.com":R(16,32,12,16,0,!1),"aes128-cbc":R(16,16,0,0,0,!1),"aes192-cbc":R(16,24,0,0,0,!1),"aes256-cbc":R(16,32,0,0,0,!1),"rijndael-cbc@lysator.liu.se":R(16,32,0,0,0,!1),"3des-cbc":R(8,24,0,0,0,!1),"blowfish-cbc":R(8,16,0,0,0,!1),"idea-cbc":R(8,16,0,0,0,!1),"cast128-cbc":R(8,16,0,0,0,!1),"camellia128-cbc":R(16,16,0,0,0,!1),"camellia192-cbc":R(16,24,0,0,0,!1),"camellia256-cbc":R(16,32,0,0,0,!1),"camellia128-cbc@openssh.com":R(16,16,0,0,0,!1),"camellia192-cbc@openssh.com":R(16,24,0,0,0,!1),"camellia256-cbc@openssh.com":R(16,32,0,0,0,!1),"aes128-ctr":R(16,16,0,0,0,!1),"aes192-ctr":R(16,24,0,0,0,!1),"aes256-ctr":R(16,32,0,0,0,!1),"3des-ctr":R(8,24,0,0,0,!1),"blowfish-ctr":R(8,16,0,0,0,!1),"cast128-ctr":R(8,16,0,0,0,!1),"camellia128-ctr":R(16,16,0,0,0,!1),"camellia192-ctr":R(16,24,0,0,0,!1),"camellia256-ctr":R(16,32,0,0,0,!1),"camellia128-ctr@openssh.com":R(16,16,0,0,0,!1),"camellia192-ctr@openssh.com":R(16,24,0,0,0,!1),"camellia256-ctr@openssh.com":R(16,32,0,0,0,!1),arcfour:R(8,16,0,0,1536,!0),arcfour128:R(8,16,0,0,1536,!0),arcfour256:R(8,32,0,0,1536,!0),arcfour512:R(8,64,0,0,1536,!0)},t.HMAC_INFO={"hmac-md5":P(16,16),"hmac-md5-96":P(16,12),"hmac-ripemd160":P(20,20),"hmac-sha1":P(20,20),"hmac-sha1-96":P(20,12),"hmac-sha2-256":P(32,32),"hmac-sha2-256-96":P(32,12),"hmac-sha2-512":P(64,64),"hmac-sha2-512-96":P(64,12)},t.ALGORITHMS={KEX:g,KEX_BUF:_,SUPPORTED_KEX:y,SERVER_HOST_KEY:v,SERVER_HOST_KEY_BUF:w,SUPPORTED_SERVER_HOST_KEY:E,CIPHER:b,CIPHER_BUF:T,SUPPORTED_CIPHER:S,HMAC:k,HMAC_BUF:I,SUPPORTED_HMAC:A,COMPRESS:O,COMPRESS_BUF:N,SUPPORTED_COMPRESS:C},t.SSH_TO_OPENSSL={"ecdh-sha2-nistp256":"prime256v1","ecdh-sha2-nistp384":"secp384r1","ecdh-sha2-nistp521":"secp521r1","aes128-gcm":"aes-128-gcm","aes256-gcm":"aes-256-gcm","aes128-gcm@openssh.com":"aes-128-gcm","aes256-gcm@openssh.com":"aes-256-gcm","3des-cbc":"des-ede3-cbc","blowfish-cbc":"bf-cbc","aes256-cbc":"aes-256-cbc","aes192-cbc":"aes-192-cbc","aes128-cbc":"aes-128-cbc","idea-cbc":"idea-cbc","cast128-cbc":"cast-cbc","rijndael-cbc@lysator.liu.se":"aes-256-cbc",arcfour128:"rc4",arcfour256:"rc4",arcfour512:"rc4",arcfour:"rc4","camellia128-cbc":"camellia-128-cbc","camellia192-cbc":"camellia-192-cbc","camellia256-cbc":"camellia-256-cbc","camellia128-cbc@openssh.com":"camellia-128-cbc","camellia192-cbc@openssh.com":"camellia-192-cbc","camellia256-cbc@openssh.com":"camellia-256-cbc","3des-ctr":"des-ede3","blowfish-ctr":"bf-ecb","aes256-ctr":"aes-256-ctr","aes192-ctr":"aes-192-ctr","aes128-ctr":"aes-128-ctr","cast128-ctr":"cast5-ecb","camellia128-ctr":"camellia-128-ecb","camellia192-ctr":"camellia-192-ecb","camellia256-ctr":"camellia-256-ecb","camellia128-ctr@openssh.com":"camellia-128-ecb","camellia192-ctr@openssh.com":"camellia-192-ecb","camellia256-ctr@openssh.com":"camellia-256-ecb","hmac-sha1-96":"sha1","hmac-sha1":"sha1","hmac-sha2-256":"sha256","hmac-sha2-256-96":"sha256","hmac-sha2-512":"sha512","hmac-sha2-512-96":"sha512","hmac-md5-96":"md5","hmac-md5":"md5","hmac-ripemd160":"ripemd160"};var B=t.BUGS={BAD_DHGEX:1,OLD_EXIT:2,DYN_RPORT_BUG:4};t.BUGGY_IMPLS=[["Cisco-1.25",B.BAD_DHGEX],[/^[0-9.]+$/,B.OLD_EXIT],[/^OpenSSH_5\.\d+/,B.DYN_RPORT_BUG]],t.EDDSA_SUPPORTED=a,t.CURVE25519_SUPPORTED=c},function(e,t,r){"use strict";var n=r(16).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||f()},u=t._writableState&&t._writableState.finished,f=function(){a=!1,u=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,h=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",f),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",l),t.on("finish",f),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(7),s=r(2),a=r(6);t.Operation=class{operateContainers(e,t=!1){return n(this,void 0,void 0,(function*(){const r={location:i.ProgressLocation.Notification};if(1===e.length){const[t]=e;r.title=this.getProgressTitleForSingleContainer(t.label),yield i.window.withProgress(r,()=>n(this,void 0,void 0,(function*(){yield this.operateContainer(t)})))}else r.title=this.getProgressTitleForMultipleContainers(t),yield i.window.withProgress(r,t=>n(this,void 0,void 0,(function*(){yield this.operateContainersWithProgress(e,t)})))}))}operateContainersWithProgress(e,t){return n(this,void 0,void 0,(function*(){const r=e.length;t.report({message:"0/"+r});for(let n=0;n<r;n++)t.report({message:`${n+1}/${r}`}),yield this.operateContainer(e[n])}))}operateContainer(e){return n(this,void 0,void 0,(function*(){const{containerId:t,label:r}=e;if(!(yield o.isContainerExists(t)))return void i.window.showWarningMessage(s.NO_CONTAINER_WITH_CONTAINER_ID_FOUND(t));const n=a.ext.dockerode.getContainer(t);yield this.operate(n,r)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.YES=1]="YES",e[e.No=2]="No",e[e.SKIP_WORK_SPACE=3]="SKIP_WORK_SPACE",e[e.SKIP_GLOBAL=4]="SKIP_GLOBAL"}(t.AutoAdd||(t.AutoAdd={})),function(e){e[e.Settings=1]="Settings",e[e.DockerrcFile=2]="DockerrcFile"}(t.ConfigTarget||(t.ConfigTarget={}))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(66),s=r(6),a=r(10),c=r(7),u=r(22);function f(){s.ext.statusBarItemRefreshTimer&&clearInterval(s.ext.statusBarItemRefreshTimer)}function h(e=!1){return n(this,void 0,void 0,(function*(){s.ext.statusBarItem||(s.ext.statusBarItem=i.window.createStatusBarItem(i.StatusBarAlignment.Left));const t=yield function(){return n(this,void 0,void 0,(function*(){let e="";const t=yield c.getWorkspaceContainers(!0,!1,["imageName","emptySpace","imageSeparator","emptySpace","name"]).catch(()=>[]);for(let r=0;r<t.length;r++){r>0&&(e+=" | ");e+=`${(yield l(t[r].containerId))?o.codicons.play:o.codicons.chrome_maximize} ${t[r].label}`}return e}))}();e&&s.ext.statusBarItem.text===t||(s.ext.statusBarItem.text=t,s.ext.statusBarItem.tooltip="Click to see docker run commands",s.ext.statusBarItem.command="docker-run.show-commands",s.ext.statusBarItem.show())}))}function l(e){return n(this,void 0,void 0,(function*(){const t=s.ext.dockerode.getContainer(e),{State:{Running:r}}=yield t.inspect();return!0===r}))}t.initStatusBarItemRefreshTimer=function(){f();const e=u.getConfiguration(a.CONFIGURATION.STATUS_BAR_ITEM_REFRESH_INTERVAL);s.ext.statusBarItemRefreshTimer=setInterval(()=>n(this,void 0,void 0,(function*(){yield h(!0)})),e||2e3)},t.clearStatusBarRefreshTimer=f,t.disposeStatusBarItem=function(){s.ext.statusBarItem&&(s.ext.statusBarItem.dispose(),s.ext.statusBarItem=null)},t.createStatusBarItem=h},function(e,t){e.exports=require("https")},function(e,t){var r=[],n=r.forEach,i=r.slice;e.exports.extend=function(e){return n.call(i.call(arguments,1),(function(t){if(t)for(var r in t)e[r]=t[r]})),e},e.exports.parseJSON=function(e){try{return JSON.parse(e)}catch(e){return null}}},function(e,t,r){var n=r(20),i=r(25).Socket,o=r(73).lookup,s=r(11).EventEmitter,a=r(0).inherits,c=n.getHashes(),u=r(26),f=u.SSH2Stream,h=u.SFTPStream,l=u.constants,d=l.BUGS,p=l.ALGORITHMS,m=l.EDDSA_SUPPORTED,g=u.utils.parseKey,y=r(85),_=r(43),v=r(86),E=r(88),w=r(21).readUInt32BE,b=Math.pow(2,32)-1,S=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/,T=function(e){};function k(){if(!(this instanceof k))return new k;s.call(this),this.config={host:void 0,port:void 0,localAddress:void 0,localPort:void 0,forceIPv4:void 0,forceIPv6:void 0,keepaliveCountMax:void 0,keepaliveInterval:void 0,readyTimeout:void 0,username:void 0,password:void 0,privateKey:void 0,tryKeyboard:void 0,agent:void 0,allowAgentFwd:void 0,authHandler:void 0,hostHashAlgo:void 0,hostHashCb:void 0,strictVendor:void 0,debug:void 0},this._readyTimeout=void 0,this._channels=void 0,this._callbacks=void 0,this._forwarding=void 0,this._forwardingUnix=void 0,this._acceptX11=void 0,this._agentFwdEnabled=void 0,this._curChan=void 0,this._remoteVer=void 0,this._sshstream=void 0,this._sock=void 0,this._resetKA=void 0}function A(e,t,r,n){var i=I(e),o=_.MAX_WINDOW,s=_.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=n;var c=e._sshstream;return c.once("CHANNEL_OPEN_CONFIRMATION:"+i,u).once("CHANNEL_OPEN_FAILURE:"+i,f).once("CHANNEL_CLOSE:"+i,f),"session"===t?a=c.session(i,o,s):"direct-tcpip"===t?a=c.directTcpip(i,o,s,r):"direct-streamlocal@openssh.com"===t&&(a=c.openssh_directStreamLocal(i,o,s,r)),a;function u(r){c.removeListener("CHANNEL_OPEN_FAILURE:"+i,f),c.removeListener("CHANNEL_CLOSE:"+i,f);var a={type:t,incoming:{id:i,window:o,packetSize:s,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new _(a,e))}function f(t){var r;c.removeListener("CHANNEL_OPEN_CONFIRMATION:"+i,u),c.removeListener("CHANNEL_OPEN_FAILURE:"+i,f),c.removeListener("CHANNEL_CLOSE:"+i,f),delete e._channels[i],t instanceof Error?r=t:"object"==typeof t&&null!==t?((r=new Error("(SSH) Channel open failure: "+t.description)).reason=t.reason,r.lang=t.lang):(r=new Error("(SSH) Channel open failure: server closed channel unexpectedly")).reason=r.lang="",n(r)}}function I(e){if(e._curChan<b)return++e._curChan;for(var t=0,r=e._channels;t<b;++t)if(!r[t])return t;return!1}function O(e,t,r){var n={single:!1,protocol:"MIT-MAGIC-COOKIE-1",cookie:void 0,screen:0};"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("boolean"==typeof t.single&&(n.single=t.single),"number"==typeof t.screen&&(n.screen=t.screen),"string"==typeof t.protocol&&(n.protocol=t.protocol),"string"==typeof t.cookie?n.cookie=t.cookie:Buffer.isBuffer(t.cookie)&&(n.cookie=t.cookie.toString("hex"))),void 0===n.cookie&&(n.cookie=B());var i="function"==typeof r;return"open"!==e.outgoing.state?(i&&r(new Error("Channel is not open")),!0):(i&&e._callbacks.push((function(t){if(t)return r(!0!==t?t:new Error("Unable to request X11"));e._hasX11=!0,++e._client._acceptX11,e.once("close",(function(){e._client._acceptX11&&--e._client._acceptX11})),r()})),e._client._sshstream.x11Forward(e.outgoing.id,n,i))}function C(e,t,r){var n=24,i=80,o=640,s=480,a="vt100",c=null;"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("number"==typeof t.rows&&(n=t.rows),"number"==typeof t.cols&&(i=t.cols),"number"==typeof t.width&&(o=t.width),"number"==typeof t.height&&(s=t.height),"string"==typeof t.term&&(a=t.term),"object"==typeof t.modes&&(c=t.modes));var u="function"==typeof r;return"open"!==e.outgoing.state?(u&&r(new Error("Channel is not open")),!0):(u&&e._callbacks.push((function(e){if(e)return r(!0!==e?e:new Error("Unable to request a pseudo-terminal"));r()})),e._client._sshstream.pty(e.outgoing.id,n,i,s,o,a,c,u))}function N(e,t){var r="function"==typeof t;return"open"!==e.outgoing.state?(r&&t(new Error("Channel is not open")),!0):e._client._agentFwdEnabled?(r&&t(!1),!0):(e._client._agentFwdEnabled=!0,e._callbacks.push((function(n){if(n)return e._client._agentFwdEnabled=!1,void(r&&t(!0!==n?n:new Error("Unable to request agent forwarding")));r&&t()})),e._client._sshstream.openssh_agentForward(e.outgoing.id,!0))}function R(e,t){if("open"!==e.outgoing.state)return!0;for(var r,n,i=!0,o=Object.keys(t||{}),s=0,a=o.length;s<a;++s)n=t[r=o[s]],i=e._client._sshstream.env(e.outgoing.id,r,n,!1);return i}function P(e,t,r){return"open"!==e.outgoing.state?(r(new Error("Channel is not open")),!0):(e._callbacks.push((function(n){if(n)return r(!0!==n?n:new Error("Unable to start subsystem: "+t));e.subtype="subsystem",r(void 0,e)})),e._client._sshstream.subsystem(e.outgoing.id,t,!0))}a(k,s),k.prototype.connect=function(e){var t=this;if(this._sock&&this._sock.writable)return this.once("close",(function(){t.connect(e)})),void this.end();this.config.host=e.hostname||e.host||"localhost",this.config.port=e.port||22,this.config.localAddress="string"==typeof e.localAddress?e.localAddress:void 0,this.config.localPort="string"==typeof e.localPort||"number"==typeof e.localPort?e.localPort:void 0,this.config.forceIPv4=e.forceIPv4||!1,this.config.forceIPv6=e.forceIPv6||!1,this.config.keepaliveCountMax="number"==typeof e.keepaliveCountMax&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3,this.config.keepaliveInterval="number"==typeof e.keepaliveInterval&&e.keepaliveInterval>0?e.keepaliveInterval:0,this.config.readyTimeout="number"==typeof e.readyTimeout&&e.readyTimeout>=0?e.readyTimeout:2e4;var r,s={kex:void 0,kexBuf:void 0,cipher:void 0,cipherBuf:void 0,serverHostKey:void 0,serverHostKeyBuf:void 0,hmac:void 0,hmacBuf:void 0,compress:void 0,compressBuf:void 0};if("object"==typeof e.algorithms&&null!==e.algorithms){var a,u;if(u=e.algorithms.kex,Array.isArray(u)&&u.length>0){for(a=p.SUPPORTED_KEX,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported key exchange algorithm: "+u[r]);s.kex=u}if(u=e.algorithms.cipher,Array.isArray(u)&&u.length>0){for(a=p.SUPPORTED_CIPHER,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported cipher algorithm: "+u[r]);s.cipher=u}if(u=e.algorithms.serverHostKey,Array.isArray(u)&&u.length>0){for(a=p.SUPPORTED_SERVER_HOST_KEY,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported server host key algorithm: "+u[r]);s.serverHostKey=u}if(u=e.algorithms.hmac,Array.isArray(u)&&u.length>0){for(a=p.SUPPORTED_HMAC,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported HMAC algorithm: "+u[r]);s.hmac=u}if(u=e.algorithms.compress,Array.isArray(u)&&u.length>0){for(a=p.SUPPORTED_COMPRESS,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported compression algorithm: "+u[r]);s.compress=u}}if(void 0===s.compress&&(e.compress?(s.compress=["zlib@openssh.com","zlib"],"force"!==e.compress&&s.compress.push("none")):!1===e.compress&&(s.compress=["none"])),"string"==typeof e.username)this.config.username=e.username;else{if("string"!=typeof e.user)throw new Error("Invalid username");this.config.username=e.user}this.config.password="string"==typeof e.password?e.password:void 0,this.config.privateKey="string"==typeof e.privateKey||Buffer.isBuffer(e.privateKey)?e.privateKey:void 0,this.config.localHostname="string"==typeof e.localHostname&&e.localHostname.length?e.localHostname:void 0,this.config.localUsername="string"==typeof e.localUsername&&e.localUsername.length?e.localUsername:void 0,this.config.tryKeyboard=!0===e.tryKeyboard,this.config.agent="string"==typeof e.agent&&e.agent.length?e.agent:void 0,this.config.allowAgentFwd=!0===e.agentForward&&void 0!==this.config.agent;var h=this.config.authHandler="function"==typeof e.authHandler?e.authHandler:void 0;this.config.strictVendor="boolean"!=typeof e.strictVendor||e.strictVendor;var d=this.config.debug="function"==typeof e.debug?e.debug:T;if(!0===e.agentForward&&!this.config.allowAgentFwd)throw new Error("You must set a valid agent path to allow agent forwarding");var y,E=this._callbacks=[];if(this._channels={},this._forwarding={},this._forwardingUnix={},this._acceptX11=0,this._agentFwdEnabled=!1,this._curChan=-1,this._remoteVer=void 0,this.config.privateKey){if((y=g(this.config.privateKey,e.passphrase))instanceof Error)throw new Error("Cannot parse privateKey: "+y.message);if(Array.isArray(y)&&(y=y[0]),null===y.getPrivatePEM())throw new Error("privateKey value does not contain a (valid) private key")}var b=this._sshstream=new f({algorithms:s,debug:d===T?void 0:d}),S=this._sock=e.sock||new i;this._sock.stderr&&"function"==typeof this._sock.stderr.resume&&this._sock.stderr.resume();var k,A,O=this.config.keepaliveInterval,C=this.config.keepaliveCountMax,N=0;function R(){if(++N>C){if(clearInterval(k),S.readable){var e=new Error("Keepalive timeout");e.level="client-timeout",t.emit("error",e),S.destroy()}}else S.writable?(E.push(P),b.ping()):clearInterval(k)}function P(){O>0&&(N=0,clearInterval(k),S.writable&&(k=setInterval(R,O)))}if(this._resetKA=P,b.on("USERAUTH_BANNER",(function(e){t.emit("banner",e)})),S.on("connect",(function(){d("DEBUG: Client: Connected"),t.emit("connect"),e.sock||b.pipe(S).pipe(b)})).on("timeout",(function(){t.emit("timeout")})).on("error",(function(e){clearTimeout(t._readyTimeout),e.level="client-socket",t.emit("error",e)})).on("end",(function(){b.unpipe(S),clearTimeout(t._readyTimeout),clearInterval(k),t.emit("end")})).on("close",(function(){b.unpipe(S),clearTimeout(t._readyTimeout),clearInterval(k),t.emit("close");var e=E,n=new Error("No response from server");for(E=t._callbacks=[],r=0;r<e.length;++r)e[r](n);var i=t._channels,o=Object.keys(i);for(t._channels={},r=0;r<o.length;++r){var s,a=b.emit("CHANNEL_OPEN_FAILURE:"+o[r],n),c=b.emit("CHANNEL_CLOSE:"+o[r]);a||c||!(s=i[o[r]])||"function"!=typeof s||s(n)}})),b.on("drain",(function(){t.emit("drain")})).once("header",(function(e){t._remoteVer=e.versions.software,e.greeting&&t.emit("greeting",e.greeting)})).on("continue",(function(){t.emit("continue")})).on("error",(function(e){void 0===e.level?e.level="protocol":"handshake"===e.level&&clearTimeout(t._readyTimeout),t.emit("error",e)})).on("end",(function(){S.resume()})),"function"==typeof e.hostVerifier){if(-1===c.indexOf(e.hostHash))throw new Error("Invalid host hash algorithm: "+e.hostHash);var B=e.hostVerifier,U=n.createHash(e.hostHash);b.once("fingerprint",(function(e,t){U.update(e);var r=B(U.digest("hex"),t);void 0!==r&&t(r)}))}var L,D=null,x=null,H=0,M=["none"];if(void 0!==this.config.password&&M.push("password"),void 0!==y&&M.push("publickey"),void 0!==this.config.agent&&M.push("agent"),this.config.tryKeyboard&&M.push("keyboard-interactive"),void 0!==y&&void 0!==this.config.localHostname&&void 0!==this.config.localUsername&&M.push("hostbased"),void 0===h){var F=0;h=function(e,t,r){return F!==M.length&&M[F++]}}var G=!1;function $(e){if(G=!0,!1===e){b.removeListener("USERAUTH_FAILURE",z),b.removeListener("USERAUTH_PK_OK",W);var r=new Error("All configured authentication methods failed");return r.level="client-authentication",t.emit("error",r),void(b.writable&&t.end())}if(-1===M.indexOf(e))throw new Error("Authentication method not allowed: "+e);switch(A=e){case"password":b.authPassword(t.config.username,t.config.password);break;case"publickey":b.authPK(t.config.username,y),b.once("USERAUTH_PK_OK",W);break;case"hostbased":b.authHostbased(t.config.username,y,t.config.localHostname,t.config.localUsername,(function(e,r){var n=y.sign(e);if(n instanceof Error)return n.message="Error while signing data with privateKey: "+n.message,n.level="client-authentication",t.emit("error",n),K();r(n)}));break;case"agent":v(t.config.agent,(function(e,r){return e?(e.level="agent",t.emit("error",e),L=void 0,K()):0===r.length?(d("DEBUG: Agent: No keys stored in agent"),L=void 0,K()):(L=r,H=0,b.authPK(t.config.username,r[0]),void b.once("USERAUTH_PK_OK",W))}));break;case"keyboard-interactive":b.authKeyboard(t.config.username),b.on("USERAUTH_INFO_REQUEST",j);break;case"none":b.authNone(t.config.username)}}function K(){G=!1;var e=h(x,D,$);G||void 0===e||$(e)}function q(){if("agent"===A){if(H>=L.length)return;++H>=L.length?(d("DEBUG: Agent: No more keys left to try"),d("DEBUG: Client: agent auth failed"),L=void 0,K()):(d("DEBUG: Agent: Trying key #"+(H+1)),b.authPK(t.config.username,L[H]),b.once("USERAUTH_PK_OK",W))}}function j(e,r,n,i){if(0===(Array.isArray(i)?i.length:0))return d("DEBUG: Client: Sending automatic USERAUTH_INFO_RESPONSE"),b.authInfoRes();t.emit("keyboard-interactive",e,r,n,i,(function(e){b.authInfoRes(e)}))}function W(){if("agent"===A){var e=L[H],r=w(e,0),n=e.toString("ascii",4,4+r),i=n.slice(4);switch(n){case"ssh-rsa":case"ssh-dss":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":break;default:if(m&&"ssh-ed25519"===n)break;return d("DEBUG: Agent: Skipping unsupported key type: "+n),q()}b.authPK(t.config.username,e,(function(r,o){v(t.config.agent,e,i,r,(function(e,r){if(e)e.level="agent",t.emit("error",e);else{var i=w(r,0);if(4+i+4<r.length){if(r.toString("ascii",4,4+i)===n)return o(r.slice(4+i+4));(e=new Error("Agent key/signature type mismatch")).level="agent",t.emit("error",e)}}q()}))}))}else"publickey"===A&&b.authPK(t.config.username,y,(function(e,r){var n=y.sign(e);if(n instanceof Error)return n.message="Error while signing data with privateKey: "+n.message,n.level="client-authentication",t.emit("error",n),K();r(n)}))}function z(e,t){if(b.removeListener("USERAUTH_PK_OK",W),b.removeListener("USERAUTH_INFO_REQUEST",j),"agent"===A)return d("DEBUG: Client: Agent key #"+(H+1)+" failed"),q();d("DEBUG: Client: "+A+" auth failed"),D=t,x=e,K()}if(b.once("USERAUTH_SUCCESS",(function(){b.removeListener("USERAUTH_FAILURE",z),b.removeListener("USERAUTH_INFO_REQUEST",j),P(),clearTimeout(t._readyTimeout),t.emit("ready")})).on("USERAUTH_FAILURE",z),b.once("ready",(function(){b.service("ssh-userauth"),b.once("SERVICE_ACCEPT",(function(e){"ssh-userauth"===e&&K()}))})),b.on("CHANNEL_OPEN",(function(e){!function(e,t){var r,n=!1;function i(){var r={type:t.type,incoming:{id:n,window:_.MAX_WINDOW,packetSize:_.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new _(r,e);return e._sshstream.channelOpenConfirm(t.sender,n,_.MAX_WINDOW,_.PACKET_SIZE),i}function o(){void 0===r&&(r=!1===n?l.CHANNEL_OPEN_FAILURE.RESOURCE_SHORTAGE:l.CHANNEL_OPEN_FAILURE.CONNECT_FAILED),e._sshstream.channelOpenFail(t.sender,r,"","")}if("forwarded-tcpip"===t.type||"x11"===t.type||"auth-agent@openssh.com"===t.type||"forwarded-streamlocal@openssh.com"===t.type){var s="forwarded-tcpip"===t.type&&void 0===e._forwarding[t.data.destIP+":"+t.data.destPort]||"forwarded-streamlocal@openssh.com"===t.type&&void 0===e._forwardingUnix[t.data.socketPath]||"x11"===t.type&&0===e._acceptX11||"auth-agent@openssh.com"===t.type&&!e._agentFwdEnabled;s?(r=l.CHANNEL_OPEN_FAILURE.ADMINISTRATIVELY_PROHIBITED,e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unexpected channel open for: "+t.type)):!1===(n=I(e))?(e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: no channels available"),s=!0):e._channels[n]=!0,s&&o(),!1!==n&&("forwarded-tcpip"===t.type?(0===t.data.destPort&&(t.data.destPort=e._forwarding[t.data.destIP+":"+t.data.destPort]),e.emit("tcp connection",t.data,i,o)):"x11"===t.type?e.emit("x11",t.data,i,o):"forwarded-streamlocal@openssh.com"===t.type?e.emit("unix connection",t.data,i,o):v(e.config.agent,i,o))}else e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unsupported type: "+t.type),r=l.CHANNEL_OPEN_FAILURE.UNKNOWN_CHANNEL_TYPE,o()}(t,e)})),b.on("REQUEST_SUCCESS",(function(e){E.length&&E.shift()(!1,e)})).on("REQUEST_FAILURE",(function(){E.length&&E.shift()(!0)})),b.on("GLOBAL_REQUEST",(function(e,t,r){t&&b.requestFailure()})),e.sock)Z(),b.pipe(S).pipe(b);else{var X=this.config.host,V=this.config.forceIPv4,Y=this.config.forceIPv6;function Q(){Z(),t._sock.connect({host:X,port:t.config.port,localAddress:t.config.localAddress,localPort:t.config.localPort}),t._sock.setNoDelay(!0),t._sock.setMaxListeners(0),t._sock.setTimeout("number"==typeof e.timeout?e.timeout:0)}d("DEBUG: Client: Trying "+X+" on port "+this.config.port+" ..."),!V&&!Y||V&&Y?Q():o(X,V?4:6,(function(e,r,n){if(e){var i=new Error("Error while looking up "+(V?"IPv4":"IPv6")+" address for host "+X+": "+e);return clearTimeout(t._readyTimeout),i.level="client-dns",t.emit("error",i),void t.emit("close")}X=r,Q()}))}function Z(){t.config.readyTimeout>0&&(t._readyTimeout=setTimeout((function(){var e=new Error("Timed out while waiting for handshake");e.level="client-timeout",t.emit("error",e),S.destroy()}),t.config.readyTimeout))}},k.prototype.end=function(){return!!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable)&&this._sshstream.disconnect()},k.prototype.destroy=function(){this._sock&&this._sock.destroy()},k.prototype.exec=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");"function"==typeof t&&(r=t,t={});var n=this;return A(this,"session",{allowHalfOpen:!1!==t.allowHalfOpen},(function(i,o){if(i)return r(i);var s=[];function a(e){if(e)return o.close(),r(e);s.length&&s.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&s.push((function(){N(o,a)})),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&R(o,t.env),("object"==typeof t.pty&&null!==t.pty||!0===t.pty)&&s.push((function(){C(o,t.pty,a)})),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&s.push((function(){O(o,t.x11,a)}))),s.push((function(){!function(e,t,r,n){if("open"!==e.outgoing.state)return n(new Error("Channel is not open")),!0;e._callbacks.push((function(t){if(t)return n(!0!==t?t:new Error("Unable to exec"));e.subtype="exec",e.allowHalfOpen=!1!==r.allowHalfOpen,n(void 0,e)})),e._client._sshstream.exec(e.outgoing.id,t,!0)}(o,e,t,r)})),s.shift()()}))},k.prototype.shell=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this;return"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),!e||void 0===e.x11&&void 0===e.env||(t=e,e=void 0),A(this,"session",(function(i,o){if(i)return r(i);var s=[];function a(e){if(e)return o.close(),r(e);s.length&&s.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&s.push((function(){N(o,a)})),!1!==e&&s.push((function(){C(o,e,a)})),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&R(o,t.env),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&s.push((function(){O(o,t.x11,a)}))),s.push((function(){!function(e,t){if("open"!==e.outgoing.state)return t(new Error("Channel is not open")),!0;e._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to open shell"));e.subtype="shell",t(void 0,e)})),e._client._sshstream.shell(e.outgoing.id,!0)}(o,r)})),s.shift()()}))},k.prototype.subsys=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return A(this,"session",(function(r,n){if(r)return t(r);P(n,e,(function(e,r){if(e)return t(e);t(void 0,r)}))}))},k.prototype.sftp=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t=this;return A(this,"session",(function(r,n){if(r)return e(r);P(n,"sftp",(function(r,n){if(r)return e(r);var i=t._sshstream._state.incoming.identRaw,o={debug:t.config.debug},s=new h(o,i);function a(t){s.removeListener("ready",c),n.removeListener("exit",u),e(t)}function c(){s.removeListener("error",a),n.removeListener("exit",u),e(void 0,new E(s))}function u(t,r){var n;s.removeListener("ready",c),s.removeListener("error",a),n="number"==typeof t?"Received exit code "+t+" while establishing SFTP session":"Received signal "+r+" while establishing SFTP session";var i=new Error(n);i.code=t,i.signal=r,e(i)}s.once("error",a).once("ready",c).once("close",(function(){n.end()})),n.once("exit",u),s.pipe(n).pipe(s)}))}))},k.prototype.forwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push((function(i,o){if(i)return r(!0!==i?i:new Error("Unable to bind to "+e+":"+t));var s=t;0===t&&o&&o.length>=4&&(s=w(o,0),n._sshstream.remoteBugs&d.DYN_RPORT_BUG||(t=s)),n._forwarding[e+":"+t]=s,r(void 0,s)})),this._sshstream.tcpipForward(e,t,i)},k.prototype.unforwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push((function(i){if(i)return r(!0!==i?i:new Error("Unable to unbind from "+e+":"+t));delete n._forwarding[e+":"+t],r()})),this._sshstream.cancelTcpipForward(e,t,i)},k.prototype.forwardOut=function(e,t,r,n,i){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return A(this,"direct-tcpip",{srcIP:e,srcPort:t,dstIP:r,dstPort:n},i)},k.prototype.openssh_noMoreSessions=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t="function"==typeof e;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(t&&this._callbacks.push((function(t){if(t)return e(!0!==t?t:new Error("Unable to disable future sessions"));e()})),this._sshstream.openssh_noMoreSessions(t)):(t&&process.nextTick((function(){e(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},k.prototype.openssh_forwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t,n=this;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(r&&this._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to bind to "+e));n._forwardingUnix[e]=!0,t()})),this._sshstream.openssh_streamLocalForward(e,r)):(r&&process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},k.prototype.openssh_unforwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t,n=this;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(r&&this._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to unbind on "+e));delete n._forwardingUnix[e],t()})),this._sshstream.openssh_cancelStreamLocalForward(e,r)):(r&&process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},k.prototype.openssh_forwardOutStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?A(this,"direct-streamlocal@openssh.com",{socketPath:e},t):(process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)};var B=function(){if("function"==typeof n.randomFillSync){var e=Buffer.alloc(16);return function(){return n.randomFillSync(e,0,16),e.toString("hex")}}return function(){return n.randomBytes(16).toString("hex")}}();k.Client=k,k.Server=r(89),k.utils=u.utils,k.SFTP_STATUS_CODE=h.STATUS_CODE,k.SFTP_OPEN_MODE=h.OPEN_MODE,k.HTTPAgent=y.SSHTTPAgent,k.HTTPSAgent=y.SSHTTPSAgent,e.exports=k},function(e,t){e.exports=require("assert")},function(e,t,r){"use strict";var n,i=r(17),o=i.Buffer,s={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=i[n]);var a=s.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=o[n]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},function(e,t,r){var n,i=r(20),o=i.sign,s=i.verify,a=i.createSign,c=i.createVerify,u=i.createDecipheriv,f=i.createHash,h=i.createHmac,l=i.getCiphers(),d=r(27).Ber,p=r(78).pbkdf,m=r(14),g=m.readUInt32BE,y=m.writeUInt32BE,_=r(30),v=_.ALGORITHMS.SUPPORTED_CIPHER,E=_.CIPHER_INFO,w=_.SSH_TO_OPENSSL,b=_.EDDSA_SUPPORTED,S=Symbol("Hash Algorithm"),T=Symbol("Private key PEM"),k=Symbol("Public key PEM"),A=Symbol("Public key SSH"),I=Symbol("Decrypted Key"),O=Object.create(null);!function(){for(var e=Object.keys(E),t=0;t<e.length;++t){var r=w[e[t]];r&&!O[r]&&(O[r]=E[e[t]])}}();var C="function"==typeof String.prototype.trimStart?function(e){return e.trimStart()}:function(e){for(var t=0,r=0;r<e.length;++r){switch(e.charCodeAt(r)){case 32:case 9:case 13:case 10:case 12:++t;continue}break}return 0===t?e:e.slice(t)};function N(e,t){return"-----BEGIN "+e+" KEY-----\n"+(t=t.toString("base64")).replace(/.{64}/g,"$&\n")+(t.length%64?"\n":"")+"-----END "+e+" KEY-----"}function R(e,t){var r=Buffer.allocUnsafe(e.length+t.length);return e.copy(r,0),t.copy(r,e.length),r}function P(e,t){for(var r=e.length,n=e._pos||0,i=0;i<t;++i){var o=r-n;if(n>=r||o<4)return!1;var s=g(e,n);if(o<4+s)return!1;n+=4+s}return e._pos=n,!0}function B(e,t){var r=new d.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.113549.1.1.1"),r.writeNull(),r.endSequence(),r.startSequence(d.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e,d.Integer),r.writeBuffer(t,d.Integer),r.endSequence(),r.endSequence(),r.endSequence(),N("PUBLIC",r.buffer)}function U(e,t){var r=Buffer.allocUnsafe(15+e.length+4+t.length);y(r,7,0),r.write("ssh-rsa",4,7,"ascii");var n=11;return y(r,t.length,n),t.copy(r,n+=4),y(r,e.length,n+=t.length),e.copy(r,n+4),r}var L=function(){function e(e,t,r,n,i,o,s,a){var c=new d.Writer;return c.startSequence(),c.writeInt(0,d.Integer),c.writeBuffer(e,d.Integer),c.writeBuffer(t,d.Integer),c.writeBuffer(r,d.Integer),c.writeBuffer(n,d.Integer),c.writeBuffer(i,d.Integer),c.writeBuffer(o,d.Integer),c.writeBuffer(s,d.Integer),c.writeBuffer(a,d.Integer),c.endSequence(),c.buffer}try{var t=["return function genOpenSSLRSAPriv(n, e, d, iqmp, p, q) {","  var bn_d = bigIntFromBuffer(d);","  var dmp1 = bigIntToBuffer(bn_d % (bigIntFromBuffer(p) - 1n));","  var dmq1 = bigIntToBuffer(bn_d % (bigIntFromBuffer(q) - 1n));","  return makePEM('RSA PRIVATE', genRSAASN1Buf(n, e, d, p, q, dmp1, dmq1, iqmp));","};"].join("\n");return new Function("bigIntFromBuffer, bigIntToBuffer, makePEM, genRSAASN1Buf",t)((function(e){return BigInt("0x"+e.toString("hex"))}),(function(e){var t=e.toString(16);if(0!=(1&t.length))t="0"+t;else{var r=t.charCodeAt(0);(56===r||r>=97&&r<=102)&&(t="00"+t)}return Buffer.from(t,"hex")}),N,e)}catch(t){return n=r(80),function(t,r,i,o,s,a){var c=new n(s,256),u=new n(a,256),f=new n(i,256),h=f.mod(c.subtract(n.ONE)),l=f.mod(u.subtract(n.ONE));return N("RSA PRIVATE",e(t,r,i,s,a,Buffer.from(h.toByteArray()),Buffer.from(l.toByteArray()),o))}}var n}();function D(e,t,r,n){var i=new d.Writer;return i.startSequence(),i.startSequence(),i.writeOID("1.2.840.10040.4.1"),i.startSequence(),i.writeBuffer(e,d.Integer),i.writeBuffer(t,d.Integer),i.writeBuffer(r,d.Integer),i.endSequence(),i.endSequence(),i.startSequence(d.BitString),i.writeByte(0),i.writeBuffer(n,d.Integer),i.endSequence(),i.endSequence(),N("PUBLIC",i.buffer)}function x(e,t,r,n){var i=Buffer.allocUnsafe(15+e.length+4+t.length+4+r.length+4+n.length);y(i,7,0),i.write("ssh-dss",4,7,"ascii");var o=11;return y(i,e.length,o),e.copy(i,o+=4),y(i,t.length,o+=e.length),t.copy(i,o+=4),y(i,r.length,o+=t.length),r.copy(i,o+=4),y(i,n.length,o+=r.length),n.copy(i,o+4),i}function H(e,t,r,n,i){var o=new d.Writer;return o.startSequence(),o.writeInt(0,d.Integer),o.writeBuffer(e,d.Integer),o.writeBuffer(t,d.Integer),o.writeBuffer(r,d.Integer),o.writeBuffer(n,d.Integer),o.writeBuffer(i,d.Integer),o.endSequence(),N("DSA PRIVATE",o.buffer)}function M(e){var t=new d.Writer;return t.startSequence(),t.startSequence(),t.writeOID("1.3.101.112"),t.endSequence(),t.startSequence(d.BitString),t.writeByte(0),t._ensure(e.length),e.copy(t._buf,t._offset,0,e.length),t._offset+=e.length,t.endSequence(),t.endSequence(),N("PUBLIC",t.buffer)}function F(e){var t=Buffer.allocUnsafe(19+e.length);return y(t,11,0),t.write("ssh-ed25519",4,11,"ascii"),y(t,e.length,15),e.copy(t,19),t}function G(e,t){var r=new d.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.10045.2.1"),r.writeOID(e),r.endSequence(),r.startSequence(d.BitString),r.writeByte(0),r._ensure(t.length),t.copy(r._buf,r._offset,0,t.length),r._offset+=t.length,r.endSequence(),r.endSequence(),N("PUBLIC",r.buffer)}function $(e,t){var r;switch(e){case"1.2.840.10045.3.1.7":r="nistp256";break;case"1.3.132.0.34":r="nistp384";break;case"1.3.132.0.35":r="nistp521";break;default:return}var n=Buffer.allocUnsafe(39+t.length);return y(n,19,0),n.write("ecdsa-sha2-"+r,4,19,"ascii"),y(n,8,23),n.write(r,27,8,"ascii"),y(n,t.length,35),t.copy(n,39),n}function K(e,t,r){var n=new d.Writer;return n.startSequence(),n.writeInt(1,d.Integer),n.writeBuffer(r,d.OctetString),n.startSequence(160),n.writeOID(e),n.endSequence(),n.startSequence(161),n.startSequence(d.BitString),n.writeByte(0),n._ensure(t.length),t.copy(n._buf,n._offset,0,t.length),n._offset+=t.length,n.endSequence(),n.endSequence(),n.endSequence(),N("EC PRIVATE",n.buffer)}var q,j={sign:function(){if("function"==typeof o)return function(e){var t=this[T];if(null===t)return new Error("No private key available");try{return o(this[S],e,t)}catch(e){return e}};return function(e){var t=this[T];if(null===t)return new Error("No private key available");var r=a(this[S]);return r.update(e),function(e,t){try{return e.sign(t)}catch(e){return e}}(r,t)}}(),verify:function(){if("function"==typeof s)return function(e,t){var r=this[k];if(null===r)return new Error("No public key available");try{return s(this[S],e,r,t)}catch(e){return e}};return function(e,t){var r=this[k];if(null===r)return new Error("No public key available");var n=c(this[S]);return n.update(e),function(e,t,r){try{return e.verify(t,r)}catch(e){return e}}(n,r,t)}}(),getPrivatePEM:function(){return this[T]},getPublicPEM:function(){return this[k]},getPublicSSH:function(){return this[A]}};function W(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[T]=r,this[k]=n,this[A]=i,this[S]=o,this[I]=s}function z(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[T]=r,this[k]=n,this[A]=i,this[S]=o,this[I]=s}function X(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[T]=r,this[k]=n,this[A]=i,this[S]=o,this[I]=s}function V(e,t,i,o){var s;n||(n=r(9));var a=null,c=null;switch(t){case"ssh-rsa":var u=n.readString(e,e._pos);if(!1===u)return new Error("Malformed OpenSSH public key");var f=n.readString(e,e._pos);if(!1===f)return new Error("Malformed OpenSSH public key");a=B(f,u),c=U(f,u),s="sha1";break;case"ssh-dss":var h=n.readString(e,e._pos);if(!1===h)return new Error("Malformed OpenSSH public key");var l=n.readString(e,e._pos);if(!1===l)return new Error("Malformed OpenSSH public key");var d=n.readString(e,e._pos);if(!1===d)return new Error("Malformed OpenSSH public key");var p=n.readString(e,e._pos);if(!1===p)return new Error("Malformed OpenSSH public key");a=D(h,l,d,p),c=x(h,l,d,p),s="sha1";break;case"ssh-ed25519":var m=n.readString(e,e._pos);if(!1===m||32!==m.length)return new Error("Malformed OpenSSH public key");a=M(m),c=F(m),s=null;break;case"ecdsa-sha2-nistp256":s="sha256",oid="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===s&&(s="sha384",oid="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===s&&(s="sha512",oid="1.3.132.0.35"),!P(e,1))return new Error("Malformed OpenSSH public key");var g=n.readString(e,e._pos);if(!1===g)return new Error("Malformed OpenSSH public key");a=G(oid,g),c=$(oid,g);break;default:return new Error("Unsupported OpenSSH public key type: "+t)}return new Y(o,i,a,c,s)}function Y(e,t,r,n,i){this.type=e,this.comment=t,this[T]=null,this[k]=r,this[A]=n,this[S]=i,this[I]=!1}function Q(e,t,r,n,i){this.type=e,this.comment=t,this[T]=null,this[k]=r,this[A]=n,this[S]=i,this[I]=!1}W.prototype=j,q=/^-----BEGIN OPENSSH PRIVATE KEY-----(?:\r\n|\n)([\s\S]+)(?:\r\n|\n)-----END OPENSSH PRIVATE KEY-----$/,W.parse=function(e,t){var i,o=q.exec(e);if(null===o)return null;var s=Buffer.from(o[1],"base64");if(s.length<31)return new Error("Malformed OpenSSH private key");var a=s.toString("ascii",0,15);if("openssh-key-v1\0"!==a)return new Error("Unsupported OpenSSH key magic: "+a);n||(n=r(9));var c=n.readString(s,15,"ascii");if(!1===c)return new Error("Malformed OpenSSH private key");if("none"!==c&&-1===v.indexOf(c))return new Error("Unsupported cipher for OpenSSH key: "+c);var f,h,l,m=n.readString(s,s._pos,"ascii");if(!1===m)return new Error("Malformed OpenSSH private key");if("none"!==m){if("none"===c)return new Error("Malformed OpenSSH private key");if("bcrypt"!==m)return new Error("Unsupported kdf name for OpenSSH key: "+m);if(!t)return new Error("Encrypted private OpenSSH key detected, but no passphrase given")}else if("none"!==c)return new Error("Malformed OpenSSH private key");"none"!==c&&(f=E[c]);var y=n.readString(s,s._pos);if(!1===y)return new Error("Malformed OpenSSH private key");if(y.length)switch(m){case"none":return new Error("Malformed OpenSSH private key");case"bcrypt":var _=n.readString(y,0);if(!1===_||y._pos+4>y.length)return new Error("Malformed OpenSSH private key");var S=g(y,y._pos),T=Buffer.allocUnsafe(f.keyLen+f.ivLen);if(0!==p(t,t.length,_,_.length,T,T.length,S))return new Error("Failed to generate information to decrypt key");h=T.slice(0,f.keyLen),l=T.slice(f.keyLen)}else if("none"!==m)return new Error("Malformed OpenSSH private key");var k=n.readInt(s,s._pos);if(!1===k)return new Error("Malformed OpenSSH private key");if(s._pos+=4,k>0){for(var A=0;A<k;++A){var I=n.readString(s,s._pos);if(!1===I)return new Error("Malformed OpenSSH private key");if(!1===n.readString(I,0,"ascii"))return new Error("Malformed OpenSSH private key")}var O=n.readString(s,s._pos);if(!1===O)return new Error("Malformed OpenSSH private key");if(void 0!==h){if(O.length<f.blockLen||O.length%f.blockLen!=0)return new Error("Malformed OpenSSH private key");try{var C={authTagLength:f.authLen},j=u(w[c],h,l,C);if(f.authLen>0){if(s.length-s._pos<f.authLen)return new Error("Malformed OpenSSH private key");j.setAuthTag(s.slice(s._pos,s._pos+=f.authLen))}O=R(j.update(O),j.final())}catch(e){return e}}if(s._pos!==s.length)return new Error("Malformed OpenSSH private key");i=function(e,t,r){var i=[];if(e.length<8)return new Error("Malformed OpenSSH private key");var o,s,a,c,u=g(e,0),f=g(e,4);if(u!==f)return r?new Error("OpenSSH key integrity check failed -- bad passphrase?"):new Error("OpenSSH key integrity check failed");for(e._pos=8,o=0;o<t;++o){var h=void 0,l=void 0,p=void 0,m=void 0,y=n.readString(e,e._pos,"ascii");if(!1===y)return new Error("Malformed OpenSSH private key");switch(y){case"ssh-rsa":var _=n.readString(e,e._pos);if(!1===_)return new Error("Malformed OpenSSH private key");var v=n.readString(e,e._pos);if(!1===v)return new Error("Malformed OpenSSH private key");var E=n.readString(e,e._pos);if(!1===E)return new Error("Malformed OpenSSH private key");var w=n.readString(e,e._pos);if(!1===w)return new Error("Malformed OpenSSH private key");if(!1===(S=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");if(!1===(T=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");p=B(_,v),m=U(_,v),l=L(_,v,E,w,S,T),h="sha1";break;case"ssh-dss":var S,T;if(!1===(S=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");if(!1===(T=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");var k=n.readString(e,e._pos);if(!1===k)return new Error("Malformed OpenSSH private key");var A=n.readString(e,e._pos);if(!1===A)return new Error("Malformed OpenSSH private key");var I=n.readString(e,e._pos);if(!1===I)return new Error("Malformed OpenSSH private key");p=D(S,T,k,A),m=x(S,T,k,A),l=H(S,T,k,A,I),h="sha1";break;case"ssh-ed25519":if(!b)return new Error("Unsupported OpenSSH private key type: "+y);var O=n.readString(e,e._pos);if(!1===O||32!==O.length)return new Error("Malformed OpenSSH private key");var C=n.readString(e,e._pos);if(!1===C||64!==C.length)return new Error("Malformed OpenSSH private key");p=M(O),m=F(O),a=C.slice(0,32),c=void 0,(c=new d.Writer).startSequence(),c.writeInt(0,d.Integer),c.startSequence(),c.writeOID("1.3.101.112"),c.endSequence(),c.startSequence(d.OctetString),c.writeBuffer(a,d.OctetString),c.endSequence(),c.endSequence(),l=N("PRIVATE",c.buffer),h=null;break;case"ecdsa-sha2-nistp256":h="sha256",s="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===h&&(h="sha384",s="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===h&&(h="sha512",s="1.3.132.0.35"),!P(e,1))return new Error("Malformed OpenSSH private key");var R=n.readString(e,e._pos);if(!1===R)return new Error("Malformed OpenSSH private key");var q=n.readString(e,e._pos);if(!1===q)return new Error("Malformed OpenSSH private key");p=G(s,R),m=$(s,R),l=K(s,R,q);break;default:return new Error("Unsupported OpenSSH private key type: "+y)}var j=n.readString(e,e._pos,"utf8");if(!1===j)return new Error("Malformed OpenSSH private key");i.push(new W(y,j,l,p,m,h,r))}var z=0;for(o=e._pos;o<e.length;++o)if(e[o]!==++z%255)return new Error("Malformed OpenSSH private key");return i}(O,k,void 0!==h)}else i=[];return i},z.prototype=j,function(){var e=/^-----BEGIN (RSA|DSA|EC) PRIVATE KEY-----(?:\r\n|\n)((?:[^:]+:\s*[\S].*(?:\r\n|\n))*)([\s\S]+)(?:\r\n|\n)-----END (RSA|DSA|EC) PRIVATE KEY-----$/;z.parse=function(t,r){var n=e.exec(t);if(null===n)return null;var o,s,a,c,h,p,m=Buffer.from(n[3],"base64"),g=n[2],y=!1;if(void 0!==g){g=g.split(/\r\n|\n/g);for(var _=0;_<g.length;++_){var v=g[_],E=v.indexOf(":");if("DEK-Info"===v.slice(0,E)){var w=v.slice(E+2);if(-1===(E=w.indexOf(",")))continue;var b=w.slice(0,E).toLowerCase();if(-1===l.indexOf(b))return new Error("Cipher ("+b+") not supported for encrypted OpenSSH private key");var S=O[b];if(!S)return new Error("Cipher ("+b+") not supported for encrypted OpenSSH private key");var T=Buffer.from(w.slice(E+1),"hex");if(T.length!==S.ivLen)return new Error("Malformed encrypted OpenSSH private key");if(!r)return new Error("Encrypted OpenSSH private key detected, but no passphrase given");for(var k=f("md5").update(r).update(T.slice(0,8)).digest();k.length<S.keyLen;)k=R(k,f("md5").update(k).update(r).update(T).digest().slice(0,8));k.length>S.keyLen&&(k=k.slice(0,S.keyLen));try{var A=u(b,k,T);A.setAutoPadding(!1),m=R(A.update(m),A.final()),y=!0}catch(e){return e}}}}var I,C,P,L="Malformed OpenSSH private key";switch(y&&(L+=". Bad passphrase?"),n[1]){case"RSA":o="ssh-rsa",s=N("RSA PRIVATE",m);try{(p=new d.Reader(m)).readSequence(),p.readInt();var H=p.readString(d.Integer,!0);if(null===H)return new Error(L);var M=p.readString(d.Integer,!0);if(null===M)return new Error(L);a=B(H,M),c=U(H,M)}catch(e){return new Error(L)}h="sha1";break;case"DSA":o="ssh-dss",s=N("DSA PRIVATE",m);try{(p=new d.Reader(m)).readSequence(),p.readInt();var F=p.readString(d.Integer,!0);if(null===F)return new Error(L);var K=p.readString(d.Integer,!0);if(null===K)return new Error(L);var q=p.readString(d.Integer,!0);if(null===q)return new Error(L);var j=p.readString(d.Integer,!0);if(null===j)return new Error(L);a=D(F,K,q,j),c=x(F,K,q,j)}catch(e){return new Error(L)}h="sha1";break;case"EC":var W,X;try{(p=new d.Reader(m)).readSequence(),p.readInt(),X=p.readString(d.OctetString,!0),p.readByte();var V=p.readLength();if(null===V)return new Error(L);p._offset=V;var Y=p.readOID();if(null===Y)return new Error(L);switch(Y){case"1.2.840.10045.3.1.7":W="prime256v1",o="ecdsa-sha2-nistp256",h="sha256";break;case"1.3.132.0.34":W="secp384r1",o="ecdsa-sha2-nistp384",h="sha384";break;case"1.3.132.0.35":W="secp521r1",o="ecdsa-sha2-nistp521",h="sha512";break;default:return new Error("Unsupported private key EC OID: "+Y)}}catch(e){return new Error(L)}s=N("EC PRIVATE",m);var Q=(I=W,C=X,(P=i.createECDH(I)).setPrivateKey(C),P.getPublicKey());a=G(Y,Q),c=$(Y,Q)}return new z(o,"",s,a,c,h,y)}}(),X.prototype=j,function(){var e=Buffer.alloc(0),t=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i=Buffer.from([0,0,0,0]),o=Buffer.from([0,0,0,1]),s=/^PuTTY-User-Key-File-2: (ssh-(?:rsa|dss))\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/;X.parse=function(a,c){var l=s.exec(a);if(null===l)return null;var d=l[2],p="none"!==d;if(p&&!c)return new Error("Encrypted PPK private key detected, but no passphrase given");var m=Buffer.from(l[5],"base64");if(p){var g=E[d],_=R(f("sha1").update(i).update(c).digest(),f("sha1").update(o).update(c).digest());_.length>g.keyLen&&(_=_.slice(0,g.keyLen));try{var v=u(w[d],_,t);v.setAutoPadding(!1),m=R(v.update(m),v.final()),decrypted=!0}catch(e){return e}}var b,S,T,k=l[1],A=l[3],I=Buffer.from(l[4],"base64"),O=l[6],C=k.length,N=d.length,M=Buffer.byteLength(A),F=I.length,G=m.length,$=Buffer.allocUnsafe(4+C+4+N+4+M+4+F+4+G);if(y($,C,z=0),$.write(k,z+=4,C,"ascii"),y($,N,z+=C),$.write(d,z+=4,N,"ascii"),y($,M,z+=N),$.write(A,z+=4,M,"utf8"),y($,F,z+=M),I.copy($,z+=4),y($,G,z+=F),m.copy($,z+4),c||(c=e),h("sha1",f("sha1").update("putty-private-key-file-mac-key").update(c).digest()).update($).digest("hex")!==O)return p?new Error("PPK private key integrity check failed -- bad passphrase?"):new Error("PPK private key integrity check failed");switch(n||(n=r(9)),I._pos=0,P(I,1),k){case"ssh-rsa":var K=n.readString(I,I._pos);if(!1===K)return new Error("Malformed PPK public key");var q=n.readString(I,I._pos);if(!1===q)return new Error("Malformed PPK public key");var j=n.readString(m,0);if(!1===j)return new Error("Malformed PPK private key");if(!1===(z=n.readString(m,m._pos)))return new Error("Malformed PPK private key");if(!1===(V=n.readString(m,m._pos)))return new Error("Malformed PPK private key");var W=n.readString(m,m._pos);if(!1===W)return new Error("Malformed PPK private key");b=B(q,K),S=U(q,K),T=L(q,K,j,W,z,V);break;case"ssh-dss":var z,V;if(!1===(z=n.readString(I,I._pos)))return new Error("Malformed PPK public key");if(!1===(V=n.readString(I,I._pos)))return new Error("Malformed PPK public key");var Y=n.readString(I,I._pos);if(!1===Y)return new Error("Malformed PPK public key");var Q=n.readString(I,I._pos);if(!1===Q)return new Error("Malformed PPK public key");var Z=n.readString(m,0);if(!1===Z)return new Error("Malformed PPK private key");b=D(z,V,Y,Q),S=x(z,V,Y,Q),T=H(z,V,Y,Q,Z)}return new X(k,A,T,b,S,"sha1",p)}}(),Y.prototype=j,function(){var e;e=b?/^(((?:ssh-(?:rsa|dss|ed25519))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/:/^(((?:ssh-(?:rsa|dss))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/,Y.parse=function(t){var i=e.exec(t);if(null===i)return null;n||(n=r(9));var o=i[1],s=i[2],a=Buffer.from(i[3],"base64"),c=i[4]||"",u=n.readString(a,a._pos,"ascii");return!1===u||0!==u.indexOf(s)?new Error("Malformed OpenSSH public key"):V(a,s,c,o)}}(),Q.prototype=j,function(){var e=/^---- BEGIN SSH2 PUBLIC KEY ----(?:\r\n|\n)((?:(?:[\x21-\x7E]+?):(?:(?:.*?\\\r?\n)*.*)(?:\r\n|\n))*)((?:[A-Z0-9a-z\/+=]+(?:\r\n|\n))+)---- END SSH2 PUBLIC KEY ----$/,t=/^([\x21-\x7E]+?):((?:.*?\\\r?\n)*.*)$/gm,i=/\\\r?\n/g;Q.parse=function(o){var s=e.exec(o);if(null===s)return null;var a=s[1],c=Buffer.from(s[2],"base64"),u="";if(void 0!==a)for(;s=t.exec(a);)"comment"===s[1].toLowerCase()&&(u=C(s[2].replace(i,""))).length>1&&34===u.charCodeAt(0)&&34===u.charCodeAt(u.length-1)&&(u=u.slice(1,-1));n||(n=r(9));var f=n.readString(c,0,"ascii");if(!1===f)return new Error("Malformed RFC4716 public key");var h=null,l=null;switch(f){case"ssh-rsa":var d=n.readString(c,c._pos);if(!1===d)return new Error("Malformed RFC4716 public key");var p=n.readString(c,c._pos);if(!1===p)return new Error("Malformed RFC4716 public key");h=B(p,d),l=U(p,d);break;case"ssh-dss":var m=n.readString(c,c._pos);if(!1===m)return new Error("Malformed RFC4716 public key");var g=n.readString(c,c._pos);if(!1===g)return new Error("Malformed RFC4716 public key");var y=n.readString(c,c._pos);if(!1===y)return new Error("Malformed RFC4716 public key");var _=n.readString(c,c._pos);if(!1===_)return new Error("Malformed RFC4716 public key");h=D(m,g,y,_),l=x(m,g,y,_);break;default:return new Error("Malformed RFC4716 public key")}return new Q(f,u,h,l,"sha1")}}(),e.exports={parseDERKey:function(e,t){return V(e,t,"",t)},parseKey:function(e,t){if(Buffer.isBuffer(e))e=e.toString("utf8").trim();else{if("string"!=typeof e)return new Error("Key data must be a Buffer or string");e=e.trim()}if(null!=t)if("string"==typeof t)t=Buffer.from(t);else if(!Buffer.isBuffer(t))return new Error("Passphrase must be a string or Buffer when supplied");var r;return null!==(r=W.parse(e,t))||null!==(r=z.parse(e,t))||null!==(r=X.parse(e,t))||null!==(r=Y.parse(e))||null!==(r=Q.parse(e))?r:new Error("Unsupported key format")}}},function(e,t){e.exports=require("zlib")},function(e,t,r){var n=r(0).inherits,i=r(8).Duplex,o=r(8).Readable,s=r(8).Writable,a=r(26).constants.CHANNEL_EXTENDED_DATATYPE.STDERR,c=["CHANNEL_EOF","CHANNEL_CLOSE","CHANNEL_DATA","CHANNEL_EXTENDED_DATA","CHANNEL_WINDOW_ADJUST","CHANNEL_SUCCESS","CHANNEL_FAILURE","CHANNEL_REQUEST"],u=c.length;function f(e,t,r){var n={highWaterMark:2097152,allowHalfOpen:!r||r&&!1!==r.allowHalfOpen};this.allowHalfOpen=n.allowHalfOpen,i.call(this,n);var s=this,a=r&&r.server;this.server=a,this.type=e.type,this.subtype=void 0;var f,d,p,m,g,y=this.incoming=e.incoming,_=y.id,v=this.outgoing=e.outgoing,E=this._callbacks=[];this._client=t,this._hasX11=!1;var w=t._channels,b=t._sshstream;function S(){s._waitClientDrain&&(s._waitClientDrain=!1,s._waitWindow||(s._chunk?s._write(s._chunk,null,s._chunkcb):s._chunkcb?s._chunkcb():s._chunkErr?s.stderr._write(s._chunkErr,null,s._chunkcbErr):s._chunkcbErr&&s._chunkcbErr()))}function T(){s.eof(),(a||!a&&!s.allowHalfOpen)&&s.close(),s.writable=!1}function k(){s.readable=!1}t._sock.on("drain",S),b.once("CHANNEL_EOF:"+_,(function(){"open"===y.state&&(y.state="eof",s.readable&&s.push(null),!a&&s.stderr.readable&&s.stderr.push(null))})).once("CHANNEL_CLOSE:"+_,(function(){if("closed"!==y.state){y.state="closed",s.readable&&s.push(null),a&&s.stderr.writable?s.stderr.end():!a&&s.stderr.readable&&s.stderr.push(null),"open"!==v.state&&"eof"!==v.state||s.close(),"closing"===v.state&&(v.state="closed"),delete w[_];var e=s._writableState;t._sock.removeListener("drain",S),e.ending||e.finished||s.end(),s._callbacks=[];for(var r=0;r<E.length;++r)E[r](!0);E=s._callbacks,a?s.readable?s.once("end",(function(){s.emit("close")})):s.emit("close"):(s.readable?s.once("end",(function(){null===f?s.emit("close",f,d,p,m,g):s.emit("close",f)})):null===f?s.emit("close",f,d,p,m,g):s.emit("close",f),s.stderr.readable?s.stderr.once("end",(function(){s.stderr.emit("close")})):s.stderr.emit("close"));for(r=0;r<u;++r)b.removeAllListeners(c[r]+":"+_)}})).on("CHANNEL_DATA:"+_,(function(e){0!==y.window&&(y.window-=e.length,s.push(e)?y.window<=1048576&&h(s):s._waitChanDrain=!0)})).on("CHANNEL_WINDOW_ADJUST:"+_,(function(e){v.window+=e,s._waitWindow&&(s._waitWindow=!1,s._waitClientDrain||(s._chunk?s._write(s._chunk,null,s._chunkcb):s._chunkcb?s._chunkcb():s._chunkErr?s.stderr._write(s._chunkErr,null,s._chunkcbErr):s._chunkcbErr&&s._chunkcbErr()))})).on("CHANNEL_SUCCESS:"+_,(function(){a?(b._kalast=Date.now(),b._kacnt=0):t._resetKA(),E.length&&E.shift()(!1)})).on("CHANNEL_FAILURE:"+_,(function(){a?(b._kalast=Date.now(),b._kacnt=0):t._resetKA(),E.length&&E.shift()(!0)})).on("CHANNEL_REQUEST:"+_,(function(e){if(!a){if("exit-status"===e.request)return void s.emit("exit",f=e.code);if("exit-signal"===e.request)return void s.emit("exit",f=null,d="SIG"+e.signal,p=e.coredump,m=e.description,g=e.lang)}e.wantReply&&b.channelFailure(v.id)})),this.stdin=this.stdout=this,a?this.stderr=new l(this):(this.stderr=new o(n),this.stderr._read=function(e){s._waitChanDrain&&(s._waitChanDrain=!1,y.window<=1048576&&h(s))},b.on("CHANNEL_EXTENDED_DATA:"+_,(function(e,t){0!==y.window&&(y.window-=t.length,s.stderr.push(t)?y.window<=1048576&&h(s):s._waitChanDrain=!0)}))),this._waitClientDrain=!1,this._waitWindow=!1,this._waitChanDrain=!1,this._chunk=void 0,this._chunkcb=void 0,this._chunkErr=void 0,this._chunkcbErr=void 0,this.on("finish",T).on("prefinish",T),this.on("end",k).on("close",k)}function h(e){if("closed"===e.outgoing.state)return!0;var t=2097152-e.incoming.window;return t<=0||(e.incoming.window+=t,e._client._sshstream.channelWindowAdjust(e.outgoing.id,t))}function l(e){s.call(this,{highWaterMark:2097152}),this._channel=e}n(f,i),f.prototype.eof=function(){var e=!0,t=this.outgoing;return"open"===t.state&&(t.state="eof",e=this._client._sshstream.channelEOF(t.id)),e},f.prototype.close=function(){var e=!0,t=this.outgoing;return"open"!==t.state&&"eof"!==t.state||(t.state="closing",e=this._client._sshstream.channelClose(t.id)),e},f.prototype._read=function(e){this._waitChanDrain&&(this._waitChanDrain=!1,this.incoming.window<=1048576&&h(this))},f.prototype._write=function(e,t,r){var n,i,o,s=this._client._sshstream,a=this.outgoing,c=a.packetSize,u=a.id,f=a.window,h=e.length,l=0;if("open"===a.state){for(;h-l>0&&f>0;)if((o=h-l)>f&&(o=f),o>c&&(o=c),n=s.channelData(u,e.slice(l,l+o)),l+=o,f-=o,!n){this._waitClientDrain=!0,this._chunk=void 0,this._chunkcb=r;break}if(a.window=f,h-l>0)return 0===f&&(this._waitWindow=!0),l>0?(i=Buffer.allocUnsafe(h-l),e.copy(i,0,l),this._chunk=i):this._chunk=e,void(this._chunkcb=r);this._waitClientDrain||r()}},f.prototype.destroy=function(){this.end()},f.prototype.setWindow=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||"shell"!==this.subtype&&"exec"!==this.subtype||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.windowChange(this.outgoing.id,e,t,r,n)},f.prototype.signal=function(e){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.signal(this.outgoing.id,e)},f.prototype.exit=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||("number"==typeof e?this._client._sshstream.exitStatus(this.outgoing.id,e):this._client._sshstream.exitSignal(this.outgoing.id,e,t,r))},f.MAX_WINDOW=2097152,f.PACKET_SIZE=32768,n(l,s),l.prototype._write=function(e,t,r){var n,i,o,s=this._channel,c=s._client._sshstream,u=s.outgoing,f=u.packetSize,h=u.id,l=u.window,d=e.length,p=0;if("open"===s.outgoing.state){for(;d-p>0&&l>0;)if((o=d-p)>l&&(o=l),o>f&&(o=f),n=c.channelExtData(h,e.slice(p,p+o),a),p+=o,l-=o,!n){s._waitClientDrain=!0,s._chunkErr=void 0,s._chunkcbErr=r;break}if(u.window=l,d-p>0)return 0===l&&(s._waitWindow=!0),p>0?(i=Buffer.allocUnsafe(d-p),e.copy(i,0,p),s._chunkErr=i):s._chunkErr=e,void(s._chunkcbErr=r);s._waitClientDrain||r()}},e.exports=f},function(e,t,r){"use strict";var n;e.exports=T,T.ReadableState=S;r(11).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=r(45),s=r(17).Buffer,a=global.Uint8Array||function(){};var c,u=r(0);c=u&&u.debuglog?u.debuglog("stream"):function(){};var f,h,l,d=r(92),p=r(46),m=r(47).getHighWaterMark,g=r(16).codes,y=g.ERR_INVALID_ARG_TYPE,_=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(12)(T,o);var w=p.errorOrDestroy,b=["error","close","destroy","pause","resume"];function S(e,t,i){n=n||r(18),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(49).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function T(e){if(n=n||r(18),!(this instanceof T))return new T(e);var t=this instanceof n;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function k(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)w(e,o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?w(e,new E):A(e,u,t,!0);else if(u.ended)w(e,new _);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?A(e,u,t,!1):N(e,u)):A(e,u,t,!1)}else n||(u.reading=!1,N(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),N(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=p.destroy,T.prototype._undestroy=p.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},T.prototype.unshift=function(e){return k(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){f||(f=r(49).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(C,e))}function C(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function N(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function x(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(H,t,e))}function H(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function M(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?x(this):O(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&x(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&x(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){w(this,new v("_read()"))},T.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function s(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),f=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",u);var f=!1;function h(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==M(n.pipes,e))&&!f&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function l(t){c("onerror",t),m(),e.removeListener("error",l),0===i(e,"error")&&w(e,t)}function d(){e.removeListener("finish",p),m()}function p(){c("onfinish"),e.removeListener("close",d),m()}function m(){c("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=M(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?O(this):n.reading||process.nextTick(B,this))),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),r},T.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(U,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(96)),h(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=D,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===l&&(l=r(97)),l(T,e,t)})},function(e,t,r){e.exports=r(8)},function(e,t,r){"use strict";function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(i,r):(r._writableState.errorEmitted=!0,process.nextTick(n,r,e)):process.nextTick(n,r,e):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,r){"use strict";var n=r(16).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=T,T.WritableState=S;var o={deprecate:r(94)},s=r(45),a=r(17).Buffer,c=global.Uint8Array||function(){};var u,f=r(46),h=r(47).getHighWaterMark,l=r(16).codes,d=l.ERR_INVALID_ARG_TYPE,p=l.ERR_METHOD_NOT_IMPLEMENTED,m=l.ERR_MULTIPLE_CALLBACK,g=l.ERR_STREAM_CANNOT_PIPE,y=l.ERR_STREAM_DESTROYED,_=l.ERR_STREAM_NULL_VALUES,v=l.ERR_STREAM_WRITE_AFTER_END,E=l.ERR_UNKNOWN_ENCODING,w=f.errorOrDestroy;function b(){}function S(e,t,o){i=i||r(18),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(N,e,t),e._writableState.errorEmitted=!0,w(e,n)):(i(n),e._writableState.errorEmitted=!0,w(e,n),N(e,t))}(e,r,n,t,i);else{var o=O(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),n?process.nextTick(A,e,r,o,i):A(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function T(e){var t=this instanceof(i=i||r(18));if(!t&&!u.call(T,this))return new T(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function k(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),N(e,t)}function I(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,k(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,h=r.callback;if(k(e,t,!1,t.objectMode?1:u.length,u,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function O(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=O(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(12)(T,s),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===T&&(e&&e._writableState instanceof S)}})):u=function(e){return e instanceof this},T.prototype.pipe=function(){w(this,new g)},T.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=b),i.ending?function(e,t){var r=new v;w(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new _:"string"==typeof r||t.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(w(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,c,n,i,o);return u}(this,i,s,e,t,r)),o},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new p("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=f.destroy,T.prototype._undestroy=f.undestroy,T.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";var n=r(95).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=f,this.end=h,t=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=f;var n=r(16).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(18);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(12)(f,c),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;a++;const o=n.formatters[i];if("function"==typeof o){const n=e[a];r=o.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e);(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function i(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(102),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=Buffer.alloc,n="0".charCodeAt(0),i=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),s=Buffer.from("ustar ","binary"),a=Buffer.from(" \0","binary"),c=parseInt("7777",8),u=function(e,t,r,n){for(;r<n;r++)if(e[r]===t)return r;return n},f=function(e){for(var t=256,r=0;r<148;r++)t+=e[r];for(var n=156;n<512;n++)t+=e[n];return t},h=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "};var l=function(e,t,r){if(128&(e=e.slice(t,t+r))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var r=[],n=e.length-1;n>0;n--){var i=e[n];t?r.push(i):r.push(255-i)}var o=0,s=r.length;for(n=0;n<s;n++)o+=r[n]*Math.pow(256,n);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var n=(i=u(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof i?s:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);t<n&&0===e[t];)t++;return n===t?0:parseInt(e.slice(t,n).toString(),8);var i,o,s},d=function(e,t,r,n){return e.slice(t,u(e,0,t,t+r)).toString(n)},p=function(e){var t=Buffer.byteLength(e),r=Math.floor(Math.log(t)/Math.log(10))+1;return t+r>=Math.pow(10,r)&&r++,t+r+e};t.decodeLongPath=function(e,t){return d(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=p(" path="+e.name+"\n")),e.linkname&&(t+=p(" linkpath="+e.linkname+"\n"));var r=e.pax;if(r)for(var n in r)t+=p(" "+n+"="+r[n]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var r=0;r<e.length&&32!==e[r];)r++;var n=parseInt(e.slice(0,r).toString(),10);if(!n)return t;var i=e.slice(r+1,n-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(n)}return t},t.encode=function(e){var t=r(512),s=e.name,a="";if(5===e.typeflag&&"/"!==s[s.length-1]&&(s+="/"),Buffer.byteLength(s)!==s.length)return null;for(;Buffer.byteLength(s)>100;){var u=s.indexOf("/");if(-1===u)return null;a+=a?"/"+s.slice(0,u):s.slice(0,u),s=s.slice(u+1)}return Buffer.byteLength(s)>100||Buffer.byteLength(a)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(s),t.write(h(e.mode&c,6),100),t.write(h(e.uid,6),108),t.write(h(e.gid,6),116),t.write(h(e.size,11),124),t.write(h(e.mtime.getTime()/1e3|0,11),136),t[156]=n+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),i.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(h(e.devmajor||0,6),329),t.write(h(e.devminor||0,6),337),a&&t.write(a,345),t.write(h(f(t),6),148),t)},t.decode=function(e,t){var r=0===e[156]?0:e[156]-n,o=d(e,0,100,t),c=l(e,100,8),u=l(e,108,8),h=l(e,116,8),p=l(e,124,12),m=l(e,136,12),g=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(r),y=0===e[157]?null:d(e,157,100,t),_=d(e,265,32),v=d(e,297,32),E=l(e,329,8),w=l(e,337,8),b=f(e);if(256===b)return null;if(b!==l(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===i.compare(e,257,263))e[345]&&(o=d(e,345,155,t)+"/"+o);else if(0!==s.compare(e,257,263)||0!==a.compare(e,263,265))throw new Error("Invalid tar header: unknown format.");return 0===r&&o&&"/"===o[o.length-1]&&(r=5),{name:o,mode:c,uid:u,gid:h,size:p,mtime:new Date(1e3*m),type:g,linkname:y,uname:_,gname:v,devmajor:E,devminor:w}}},function(e,t,r){var n=r(54),i=function(){},o=function(e,t,r){if("function"==typeof t)return o(e,null,t);t||(t={}),r=n(r||i);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,f=!1,h=function(){e.writable||l()},l=function(){u=!1,c||r.call(e)},d=function(){c=!1,u||r.call(e)},p=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){r.call(e,t)},g=function(){process.nextTick(y)},y=function(){if(!f)return(!c||a&&a.ended&&!a.destroyed)&&(!u||s&&s.ended&&!s.destroyed)?void 0:r.call(e,new Error("premature close"))},_=function(){e.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?u&&!s&&(e.on("end",h),e.on("close",h)):(e.on("complete",l),e.on("abort",g),e.req?_():e.on("request",_)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",p),e.on("end",d),e.on("finish",l),!1!==t.error&&e.on("error",m),e.on("close",g),function(){f=!0,e.removeListener("complete",l),e.removeListener("abort",g),e.removeListener("request",_),e.req&&e.req.removeListener("finish",l),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",l),e.removeListener("exit",p),e.removeListener("end",d),e.removeListener("error",m),e.removeListener("close",g)}};e.exports=o},function(e,t,r){var n=r(117);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.start=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/start",method:"POST",isStream:!0,allowEmpty:!0,hijack:i.opts.hijack,openStdin:i.opts.stdin,statusCodes:{200:!0,204:!0,404:"no such exec",409:"container stopped/paused",500:"container not running"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.resize=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/resize?",method:"POST",statusCodes:{200:!0,404:"no such exec",500:"container not running"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.inspect=function(e){var t=this,r={path:"/exec/"+this.id+"/json",method:"GET",statusCodes:{200:!0,404:"no such exec",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},e.exports=i},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(57),s=r(59),a=r(60),c=r(61),u=r(62),f=r(63),h=r(64),l=r(65),d=r(19),p=r(4),m=r(35),g=r(67);t.activate=function(e){return n(this,void 0,void 0,(function*(){g.initDockerode(),g.initContainerOperations(),yield g.initStatusBarItem(),g.initOnDidChangeConfiguration(),e.subscriptions.push(o.disposableAdd,s.disposableRemove,u.disposableStartAll,h.disposableStopAll,l.disposableStopNonRelated,c.disposableStart,f.disposableStop,a.disposableShowCommand),d.isConfigAvailable()?yield g.initAutoStart().catch(p.handleError):yield g.initAutoAdd().catch(p.handleError)}))},t.deactivate=function(){return n(this,void 0,void 0,(function*(){m.clearStatusBarRefreshTimer(),m.disposeStatusBarItem(),yield i.commands.executeCommand("docker-run.stop:all")}))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(19),s=r(4),a=r(7),c=r(2),u=r(6);t.disposableAdd=i.commands.registerCommand("docker-run.add",e=>n(void 0,void 0,void 0,(function*(){let t,r=[];const n=yield a.getGlobalContainers(!0).catch(e=>(s.handleError(e),[]));if(!n.length)return void i.window.showWarningMessage(c.NO_CONTAINERS_FOUND);if(e)t=n;else{const e=yield a.getWorkspaceContainers(!0).catch(e=>(s.handleError(e),[])),o=n.filter(t=>!e.map(e=>e.containerId).includes(t.containerId));if(!o.length)return void i.window.showWarningMessage(c.ALREADY_ADDED_TO_WORKSPACE);t=o,r=e}const f=yield i.window.showQuickPick(t,{canPickMany:!0,placeHolder:c.SELECT_CONTAINERS});if(f&&f.length>0){const e=a.extractContainerIds([...r,...f]);yield o.writeConfig(e),yield u.ext.startOperation.operateContainers(f)}else i.window.showWarningMessage(c.SELECT_AT_LEAST_ONE_CONTAINER_TO_ADD)})))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(5),o=r(13),s=r(1),a=r(2),c=r(10),u=r(4);function f(e,t){return n(this,void 0,void 0,(function*(){const r=Buffer.from(e,"utf8");yield s.workspace.fs.writeFile(t,r)}))}function h(){if(!s.workspace.workspaceFolders)throw new u.NoFolderOrWorkspaceOpenedError;const e=s.workspace.workspaceFolders[0].uri,t=e.with({path:o.posix.join(e.path,c.DEFAULT_FILE_NAME)});return i.existsSync(t.fsPath)?t:null}function l(){if(s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0){const e=s.workspace.workspaceFolders[0].uri;return e.with({path:o.posix.join(e.path,c.DEFAULT_FILE_NAME)})}}t.createConfigFile=f,t.getConfigFromDockerrc=function(){return n(this,void 0,void 0,(function*(){const e=h();if(!e)throw new u.DockerrcNotFoundError;const t=yield s.workspace.fs.readFile(e),r=Buffer.from(t).toString("utf8");if(!r)throw new u.EmptyConfigFileError;const n=JSON.parse(r);return n&&n.containers?n.containers:[]}))},t.getFileUri=h,t.removeDockerrc=function(){return n(this,void 0,void 0,(function*(){const e=h();e&&(yield s.workspace.fs.delete(e))}))},t.writeConfigToDockerrc=function(e){return n(this,void 0,void 0,(function*(){const t=l();if(!t)return s.window.showInformationMessage(a.NO_FOLDER_OR_WORKSPACE_OPENED);const r=JSON.stringify({containers:e});let i=!1;h()||(yield f(r,t),i=!0);const o=yield s.workspace.openTextDocument(t);i||(yield function(e,t){return n(this,void 0,void 0,(function*(){const r=new s.WorkspaceEdit;if(e.lineCount>0){const n=e.lineAt(0).range.start,i=e.lineAt(e.lineCount-1).range.end,o=new s.Range(n,i);r.replace(e.uri,o,t)}else{const n=new s.Position(0,0);r.insert(e.uri,n,t)}yield s.workspace.applyEdit(r),yield e.save()}))}(o,r)),yield function(e){return n(this,void 0,void 0,(function*(){yield s.languages.setTextDocumentLanguage(e,"json"),yield e.save();const{uri:t}=e,r=yield s.window.showTextDocument(t),n=yield s.commands.executeCommand("vscode.executeFormatDocumentProvider",t,r.options),i=new s.WorkspaceEdit;i.set(t,n),yield s.workspace.applyEdit(i),yield e.save()}))}(o)}))},t.getConfigFileDestination=l},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(19),s=r(4),a=r(7),c=r(2),u=r(6);t.disposableRemove=i.commands.registerCommand("docker-run.remove",()=>n(void 0,void 0,void 0,(function*(){const e=yield a.getWorkspaceContainers(!0).catch(e=>(s.handleError(e),[]));if(!e.length)return void i.window.showWarningMessage(c.ADD_AT_LEAST_ONE_CONTAINER_TO_WORKSPACE);const t=yield i.window.showQuickPick(e,{canPickMany:!0,placeHolder:c.SELECT_CONTAINERS_TO_REMOVE});if(t&&t.length>0){const r=a.extractContainerIds(e.filter(({containerId:e})=>t.findIndex(t=>t.containerId===e)<0));yield u.ext.stopOperation.operateContainers(t),yield o.writeConfig(r)}else i.window.showWarningMessage(c.SELECT_AT_LEAST_ONE_CONTAINER_TO_REMOVE)})))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(10),s=r(7),a=r(2);function c(){return n(this,void 0,void 0,(function*(){const e=yield s.getGlobalContainers(!0).catch(()=>[]);if(!e.length)return!1;const t=yield s.getWorkspaceContainers(!0).catch(()=>[]);return!!e.filter(e=>!t.map(e=>e.containerId).includes(e.containerId)).length}))}function u(){return n(this,void 0,void 0,(function*(){return!!(yield s.getWorkspaceContainers(!0).catch(()=>[])).length}))}function f(){return n(this,void 0,void 0,(function*(){return!!(yield s.getWorkspaceContainers(!1,!1).catch(()=>[])).length}))}function h(){return n(this,void 0,void 0,(function*(){const e=yield s.getWorkspaceContainers(!0).catch(()=>[]);if(!e.length)return!1;const t=yield s.getWorkspaceContainers(!1,!0).catch(()=>[]);return!(e.length===t.length)}))}function l(){return n(this,void 0,void 0,(function*(){return!!(yield s.getWorkspaceContainers(!1,!0).catch(()=>[])).length}))}function d(){return n(this,void 0,void 0,(function*(){const e=yield s.getWorkspaceContainers(!0).catch(()=>[]);if(!e.length)return!1;const t=yield s.getWorkspaceContainers(!1,!1).catch(()=>[]);return!(e.length===t.length)}))}function p(){return n(this,void 0,void 0,(function*(){const e=yield s.getWorkspaceContainers(!0).catch(()=>[]);return!!(yield s.getGlobalContainers(!1,!0).catch(()=>[])).filter(t=>!e.map(e=>e.containerId).includes(t.containerId)).length}))}t.disposableShowCommand=i.commands.registerCommand("docker-run.show-commands",()=>n(void 0,void 0,void 0,(function*(){const e=yield function(e){return n(this,void 0,void 0,(function*(){const t=[];for(let r=0;r<e.length;r++){const n=e[r];let i=!1;switch(n.id){case o.COMMANDS.ADD:i=yield c();break;case o.COMMANDS.REMOVE:i=yield u();break;case o.COMMANDS.START:i=yield f();break;case o.COMMANDS.START_ALL:i=yield h();break;case o.COMMANDS.STOP:i=yield l();break;case o.COMMANDS.STOP_ALL:i=yield d();break;case o.COMMANDS.STOP_NON_RELATED:i=yield p()}i&&t.push(n)}return t}))}(o.dockerRunCommandList),t=yield i.window.showQuickPick(e,{canPickMany:!1,placeHolder:a.DOCKER_RUN_COMMANDS});t&&t.id&&i.commands.executeCommand(t.id)})))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(4),s=r(7),a=r(2),c=r(6);t.disposableStart=i.commands.registerCommand("docker-run.start",()=>n(void 0,void 0,void 0,(function*(){const e=yield s.getWorkspaceContainers(!1,!1).catch(e=>{o.handleError(e)});if(!e)return void i.window.showWarningMessage(a.ADD_AT_LEAST_ONE_CONTAINER_TO_WORKSPACE);if(!e.length)return void i.window.showWarningMessage(a.ALL_CONTAINERS_ARE_RUNNING);const t=yield i.window.showQuickPick(e,{canPickMany:!0,placeHolder:"Select Container"});t&&t.length>0?yield c.ext.startOperation.operateContainers(t):i.window.showWarningMessage(a.SELECT_AT_LEAST_ONE_CONTAINER_TO_START)})))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(4),s=r(7),a=r(2),c=r(6);t.disposableStartAll=i.commands.registerCommand("docker-run.start:all",()=>n(void 0,void 0,void 0,(function*(){const e=yield s.getWorkspaceContainers(!0).catch(e=>(o.handleError(e),[]));e.length?yield c.ext.startOperation.operateContainers(e,!0):i.window.showWarningMessage(a.NO_CONTAINERS_FOUND_FOR_THIS_WORKSPACE)})))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(4),s=r(7),a=r(2),c=r(6);t.disposableStop=i.commands.registerCommand("docker-run.stop",()=>n(void 0,void 0,void 0,(function*(){const e=yield s.getWorkspaceContainers(!1,!0).catch(e=>{o.handleError(e)});if(!e)return void i.window.showWarningMessage(a.ADD_AT_LEAST_ONE_CONTAINER_TO_WORKSPACE);if(!e.length)return void i.window.showWarningMessage(a.ALL_CONTAINERS_ARE_STOPPED);const t=yield i.window.showQuickPick(e,{canPickMany:!0,placeHolder:"Select Container"});t&&t.length>0?yield c.ext.stopOperation.operateContainers(t):i.window.showWarningMessage(a.SELECT_AT_LEAST_ONE_CONTAINER_TO_STOP)})))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(4),s=r(7),a=r(2),c=r(6);t.disposableStopAll=i.commands.registerCommand("docker-run.stop:all",()=>n(void 0,void 0,void 0,(function*(){const e=yield s.getWorkspaceContainers(!0).catch(e=>(o.handleError(e),[]));e.length?yield c.ext.stopOperation.operateContainers(e,!0):i.window.showWarningMessage(a.NO_CONTAINERS_FOUND_FOR_THIS_WORKSPACE)})))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(4),s=r(7),a=r(2),c=r(6);t.disposableStopNonRelated=i.commands.registerCommand("docker-run.stop:non-related",()=>n(void 0,void 0,void 0,(function*(){const e=yield s.getWorkspaceContainers(!0).catch(e=>(o.handleError(e),[])),t=(yield s.getGlobalContainers(!0).catch(e=>(o.handleError(e),[]))).filter(t=>!e.map(e=>e.containerId).includes(t.containerId));t.length?yield c.ext.stopNonRelatedOperation.operateContainers(t):i.window.showWarningMessage(a.NO_NON_RELATED_CONTAINER_FOUND)})))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codicons=t.ThemeIcons=void 0;var n=r(1),i={account:new n.ThemeIcon("account"),activate_breakpoints:new n.ThemeIcon("activate-breakpoints"),add:new n.ThemeIcon("add"),alert:new n.ThemeIcon("alert"),archive:new n.ThemeIcon("archive"),array:new n.ThemeIcon("array"),arrow_both:new n.ThemeIcon("arrow-both"),arrow_down:new n.ThemeIcon("arrow-down"),arrow_left:new n.ThemeIcon("arrow-left"),arrow_right:new n.ThemeIcon("arrow-right"),arrow_small_down:new n.ThemeIcon("arrow-small-down"),arrow_small_left:new n.ThemeIcon("arrow-small-left"),arrow_small_right:new n.ThemeIcon("arrow-small-right"),arrow_small_up:new n.ThemeIcon("arrow-small-up"),arrow_up:new n.ThemeIcon("arrow-up"),beaker:new n.ThemeIcon("beaker"),bell_dot:new n.ThemeIcon("bell-dot"),bell:new n.ThemeIcon("bell"),bold:new n.ThemeIcon("bold"),book:new n.ThemeIcon("book"),bookmark:new n.ThemeIcon("bookmark"),briefcase:new n.ThemeIcon("briefcase"),broadcast:new n.ThemeIcon("broadcast"),browser:new n.ThemeIcon("browser"),bug:new n.ThemeIcon("bug"),calendar:new n.ThemeIcon("calendar"),call_incoming:new n.ThemeIcon("call-incoming"),call_outgoing:new n.ThemeIcon("call-outgoing"),case_sensitive:new n.ThemeIcon("case-sensitive"),check:new n.ThemeIcon("check"),check_all:new n.ThemeIcon("check-all"),checklist:new n.ThemeIcon("checklist"),chevron_down:new n.ThemeIcon("chevron-down"),chevron_left:new n.ThemeIcon("chevron-left"),chevron_right:new n.ThemeIcon("chevron-right"),chevron_up:new n.ThemeIcon("chevron-up"),chrome_close:new n.ThemeIcon("chrome-close"),chrome_maximize:new n.ThemeIcon("chrome-maximize"),chrome_minimize:new n.ThemeIcon("chrome-minimize"),chrome_restore:new n.ThemeIcon("chrome-restore"),circle_filled:new n.ThemeIcon("circle-filled"),circle_outline:new n.ThemeIcon("circle-outline"),circle_slash:new n.ThemeIcon("circle-slash"),circuit_board:new n.ThemeIcon("circuit-board"),clear_all:new n.ThemeIcon("clear-all"),clippy:new n.ThemeIcon("clippy"),clock:new n.ThemeIcon("clock"),clone:new n.ThemeIcon("clone"),close_all:new n.ThemeIcon("close-all"),close_dirty:new n.ThemeIcon("close-dirty"),close:new n.ThemeIcon("close"),cloud:new n.ThemeIcon("cloud"),cloud_download:new n.ThemeIcon("cloud-download"),cloud_upload:new n.ThemeIcon("cloud-upload"),code:new n.ThemeIcon("code"),collapse_all:new n.ThemeIcon("collapse-all"),color_mode:new n.ThemeIcon("color-mode"),comment_add:new n.ThemeIcon("comment-add"),comment_discussion:new n.ThemeIcon("comment-discussion"),comment:new n.ThemeIcon("comment"),console:new n.ThemeIcon("console"),credit_card:new n.ThemeIcon("credit-card"),dash:new n.ThemeIcon("dash"),dashboard:new n.ThemeIcon("dashboard"),database:new n.ThemeIcon("database"),debug_alt:new n.ThemeIcon("debug-alt"),debug_alt_small:new n.ThemeIcon("debug-alt-small"),debug_breakpoint_conditional_unverified:new n.ThemeIcon("debug-breakpoint-conditional-unverified"),debug_breakpoint_conditional:new n.ThemeIcon("debug-breakpoint-conditional"),debug_breakpoint_data_unverified:new n.ThemeIcon("debug-breakpoint-data-unverified"),debug_breakpoint_data:new n.ThemeIcon("debug-breakpoint-data"),debug_breakpoint_disabled:new n.ThemeIcon("debug-breakpoint-disabled"),debug_breakpoint_function_unverified:new n.ThemeIcon("debug-breakpoint-function-unverified"),debug_breakpoint_function:new n.ThemeIcon("debug-breakpoint-function"),debug_breakpoint_log_unverified:new n.ThemeIcon("debug-breakpoint-log-unverified"),debug_breakpoint_log:new n.ThemeIcon("debug-breakpoint-log"),debug_breakpoint_unsupported:new n.ThemeIcon("debug-breakpoint-unsupported"),debug_breakpoint:new n.ThemeIcon("debug-breakpoint"),debug_console:new n.ThemeIcon("debug-console"),debug_continue:new n.ThemeIcon("debug-continue"),debug_disconnect:new n.ThemeIcon("debug-disconnect"),debug_hint:new n.ThemeIcon("debug-hint"),debug_pause:new n.ThemeIcon("debug-pause"),debug_restart_frame:new n.ThemeIcon("debug-restart-frame"),debug_restart:new n.ThemeIcon("debug-restart"),debug_reverse_continue:new n.ThemeIcon("debug-reverse-continue"),debug_stackframe_active:new n.ThemeIcon("debug-stackframe-active"),debug_stackframe_dot:new n.ThemeIcon("debug-stackframe-dot"),debug_stackframe:new n.ThemeIcon("debug-stackframe"),debug_start:new n.ThemeIcon("debug-start"),debug_step_back:new n.ThemeIcon("debug-step-back"),debug_step_into:new n.ThemeIcon("debug-step-into"),debug_step_out:new n.ThemeIcon("debug-step-out"),debug_step_over:new n.ThemeIcon("debug-step-over"),debug_stop:new n.ThemeIcon("debug-stop"),debug:new n.ThemeIcon("debug"),desktop_download:new n.ThemeIcon("desktop-download"),device_camera_video:new n.ThemeIcon("device-camera-video"),device_camera:new n.ThemeIcon("device-camera"),device_desktop:new n.ThemeIcon("device-desktop"),device_mobile:new n.ThemeIcon("device-mobile"),diff_added:new n.ThemeIcon("diff-added"),diff_ignored:new n.ThemeIcon("diff-ignored"),diff_modified:new n.ThemeIcon("diff-modified"),diff_removed:new n.ThemeIcon("diff-removed"),diff_renamed:new n.ThemeIcon("diff-renamed"),diff:new n.ThemeIcon("diff"),discard:new n.ThemeIcon("discard"),edit:new n.ThemeIcon("edit"),editor_layout:new n.ThemeIcon("editor-layout"),ellipsis:new n.ThemeIcon("ellipsis"),empty_window:new n.ThemeIcon("empty-window"),error:new n.ThemeIcon("error"),exclude:new n.ThemeIcon("exclude"),expand_all:new n.ThemeIcon("expand-all"),export:new n.ThemeIcon("export"),extensions:new n.ThemeIcon("extensions"),eye_closed:new n.ThemeIcon("eye-closed"),eye_unwatch:new n.ThemeIcon("eye-unwatch"),eye_watch:new n.ThemeIcon("eye-watch"),eye:new n.ThemeIcon("eye"),feedback:new n.ThemeIcon("feedback"),file_add:new n.ThemeIcon("file-add"),file_binary:new n.ThemeIcon("file-binary"),file_code:new n.ThemeIcon("file-code"),file_directory_create:new n.ThemeIcon("file-directory-create"),file_directory:new n.ThemeIcon("file-directory"),file_media:new n.ThemeIcon("file-media"),file_pdf:new n.ThemeIcon("file-pdf"),file_submodule:new n.ThemeIcon("file-submodule"),file_symlink_directory:new n.ThemeIcon("file-symlink-directory"),file_symlink_file:new n.ThemeIcon("file-symlink-file"),file_text:new n.ThemeIcon("file-text"),file_zip:new n.ThemeIcon("file-zip"),file:new n.ThemeIcon("file"),files:new n.ThemeIcon("files"),filter:new n.ThemeIcon("filter"),flame:new n.ThemeIcon("flame"),fold_down:new n.ThemeIcon("fold-down"),fold_up:new n.ThemeIcon("fold-up"),fold:new n.ThemeIcon("fold"),folder_active:new n.ThemeIcon("folder-active"),folder_opened:new n.ThemeIcon("folder-opened"),folder:new n.ThemeIcon("folder"),gear:new n.ThemeIcon("gear"),gift:new n.ThemeIcon("gift"),gist_fork_private:new n.ThemeIcon("gist-fork-private"),gist_fork:new n.ThemeIcon("gist-fork"),gist_new:new n.ThemeIcon("gist-new"),gist_private:new n.ThemeIcon("gist-private"),gist_secret:new n.ThemeIcon("gist-secret"),gist:new n.ThemeIcon("gist"),git_branch_create:new n.ThemeIcon("git-branch-create"),git_branch_delete:new n.ThemeIcon("git-branch-delete"),git_branch:new n.ThemeIcon("git-branch"),git_commit:new n.ThemeIcon("git-commit"),git_compare:new n.ThemeIcon("git-compare"),git_merge:new n.ThemeIcon("git-merge"),git_pull_request:new n.ThemeIcon("git-pull-request"),github_action:new n.ThemeIcon("github-action"),github_alt:new n.ThemeIcon("github-alt"),github_inverted:new n.ThemeIcon("github-inverted"),github:new n.ThemeIcon("github"),globe:new n.ThemeIcon("globe"),go_to_file:new n.ThemeIcon("go-to-file"),grabber:new n.ThemeIcon("grabber"),graph:new n.ThemeIcon("graph"),graph_left:new n.ThemeIcon("graph-left"),gripper:new n.ThemeIcon("gripper"),group_by_ref_type:new n.ThemeIcon("group-by-ref-type"),heart:new n.ThemeIcon("heart"),history:new n.ThemeIcon("history"),home:new n.ThemeIcon("home"),horizontal_rule:new n.ThemeIcon("horizontal-rule"),hubot:new n.ThemeIcon("hubot"),inbox:new n.ThemeIcon("inbox"),info:new n.ThemeIcon("info"),issue_closed:new n.ThemeIcon("issue-closed"),issue_opened:new n.ThemeIcon("issue-opened"),issue_reopened:new n.ThemeIcon("issue-reopened"),issues:new n.ThemeIcon("issues"),italic:new n.ThemeIcon("italic"),jersey:new n.ThemeIcon("jersey"),json:new n.ThemeIcon("json"),kebab_horizontal:new n.ThemeIcon("kebab-horizontal"),kebab_vertical:new n.ThemeIcon("kebab-vertical"),key:new n.ThemeIcon("key"),keyboard:new n.ThemeIcon("keyboard"),law:new n.ThemeIcon("law"),library:new n.ThemeIcon("library"),light_bulb:new n.ThemeIcon("light-bulb"),lightbulb_autofix:new n.ThemeIcon("lightbulb-autofix"),lightbulb:new n.ThemeIcon("lightbulb"),link_external:new n.ThemeIcon("link-external"),link:new n.ThemeIcon("link"),list_filter:new n.ThemeIcon("list-filter"),list_flat:new n.ThemeIcon("list-flat"),list_ordered:new n.ThemeIcon("list-ordered"),list_selection:new n.ThemeIcon("list-selection"),list_tree:new n.ThemeIcon("list-tree"),list_unordered:new n.ThemeIcon("list-unordered"),live_share:new n.ThemeIcon("live-share"),loading:new n.ThemeIcon("loading"),location:new n.ThemeIcon("location"),lock:new n.ThemeIcon("lock"),log_in:new n.ThemeIcon("log-in"),log_out:new n.ThemeIcon("log-out"),logo_github:new n.ThemeIcon("logo-github"),magnet:new n.ThemeIcon("magnet"),mail_read:new n.ThemeIcon("mail-read"),mail_reply:new n.ThemeIcon("mail-reply"),mail:new n.ThemeIcon("mail"),mark_github:new n.ThemeIcon("mark-github"),markdown:new n.ThemeIcon("markdown"),megaphone:new n.ThemeIcon("megaphone"),mention:new n.ThemeIcon("mention"),menu:new n.ThemeIcon("menu"),merge:new n.ThemeIcon("merge"),microscope:new n.ThemeIcon("microscope"),milestone:new n.ThemeIcon("milestone"),mirror_private:new n.ThemeIcon("mirror-private"),mirror_public:new n.ThemeIcon("mirror-public"),mirror:new n.ThemeIcon("mirror"),more:new n.ThemeIcon("more"),mortar_board:new n.ThemeIcon("mortar-board"),move:new n.ThemeIcon("move"),multiple_windows:new n.ThemeIcon("multiple-windows"),mute:new n.ThemeIcon("mute"),new_file:new n.ThemeIcon("new-file"),new_folder:new n.ThemeIcon("new-folder"),no_newline:new n.ThemeIcon("no-newline"),note:new n.ThemeIcon("note"),notebook:new n.ThemeIcon("notebook"),octoface:new n.ThemeIcon("octoface"),open_preview:new n.ThemeIcon("open-preview"),organization_filled:new n.ThemeIcon("organization-filled"),organization_outline:new n.ThemeIcon("organization-outline"),organization:new n.ThemeIcon("organization"),output:new n.ThemeIcon("output"),package:new n.ThemeIcon("package"),paintcan:new n.ThemeIcon("paintcan"),pass:new n.ThemeIcon("pass"),pencil:new n.ThemeIcon("pencil"),person_add:new n.ThemeIcon("person-add"),person_filled:new n.ThemeIcon("person-filled"),person_follow:new n.ThemeIcon("person-follow"),person_outline:new n.ThemeIcon("person-outline"),person:new n.ThemeIcon("person"),pin:new n.ThemeIcon("pin"),pinned:new n.ThemeIcon("pinned"),pinned_dirty:new n.ThemeIcon("pinned-dirty"),play_circle:new n.ThemeIcon("play-circle"),play:new n.ThemeIcon("play"),plug:new n.ThemeIcon("plug"),plus:new n.ThemeIcon("plus"),preserve_case:new n.ThemeIcon("preserve-case"),preview:new n.ThemeIcon("preview"),primitive_dot:new n.ThemeIcon("primitive-dot"),primitive_square:new n.ThemeIcon("primitive-square"),project:new n.ThemeIcon("project"),pulse:new n.ThemeIcon("pulse"),question:new n.ThemeIcon("question"),quote:new n.ThemeIcon("quote"),radio_tower:new n.ThemeIcon("radio-tower"),reactions:new n.ThemeIcon("reactions"),record_keys:new n.ThemeIcon("record-keys"),record:new n.ThemeIcon("record"),redo:new n.ThemeIcon("redo"),references:new n.ThemeIcon("references"),refresh:new n.ThemeIcon("refresh"),regex:new n.ThemeIcon("regex"),remote_explorer:new n.ThemeIcon("remote-explorer"),remote:new n.ThemeIcon("remote"),remove_close:new n.ThemeIcon("remove-close"),remove:new n.ThemeIcon("remove"),repl:new n.ThemeIcon("repl"),replace_all:new n.ThemeIcon("replace-all"),replace:new n.ThemeIcon("replace"),reply:new n.ThemeIcon("reply"),repo_clone:new n.ThemeIcon("repo-clone"),repo_create:new n.ThemeIcon("repo-create"),repo_delete:new n.ThemeIcon("repo-delete"),repo_force_push:new n.ThemeIcon("repo-force-push"),repo_forked:new n.ThemeIcon("repo-forked"),repo_pull:new n.ThemeIcon("repo-pull"),repo_push:new n.ThemeIcon("repo-push"),repo_sync:new n.ThemeIcon("repo-sync"),repo:new n.ThemeIcon("repo"),report:new n.ThemeIcon("report"),request_changes:new n.ThemeIcon("request-changes"),rocket:new n.ThemeIcon("rocket"),root_folder_opened:new n.ThemeIcon("root-folder-opened"),root_folder:new n.ThemeIcon("root-folder"),rss:new n.ThemeIcon("rss"),ruby:new n.ThemeIcon("ruby"),run_all:new n.ThemeIcon("run-all"),save_all:new n.ThemeIcon("save-all"),save_as:new n.ThemeIcon("save-as"),save:new n.ThemeIcon("save"),screen_full:new n.ThemeIcon("screen-full"),screen_normal:new n.ThemeIcon("screen-normal"),search_save:new n.ThemeIcon("search-save"),search_stop:new n.ThemeIcon("search-stop"),search:new n.ThemeIcon("search"),server_environment:new n.ThemeIcon("server-environment"),server_process:new n.ThemeIcon("server-process"),server:new n.ThemeIcon("server"),settings_gear:new n.ThemeIcon("settings-gear"),settings:new n.ThemeIcon("settings"),shield:new n.ThemeIcon("shield"),sign_in:new n.ThemeIcon("sign-in"),sign_out:new n.ThemeIcon("sign-out"),smiley:new n.ThemeIcon("smiley"),sort_precedence:new n.ThemeIcon("sort-precedence"),source_control:new n.ThemeIcon("source-control"),split_horizontal:new n.ThemeIcon("split-horizontal"),split_vertical:new n.ThemeIcon("split-vertical"),squirrel:new n.ThemeIcon("squirrel"),star_empty:new n.ThemeIcon("star-empty"),star_full:new n.ThemeIcon("star-full"),star_half:new n.ThemeIcon("star-half"),star:new n.ThemeIcon("star"),stop_circle:new n.ThemeIcon("stop-circle"),stop:new n.ThemeIcon("stop"),symbol_array:new n.ThemeIcon("symbol-array"),symbol_boolean:new n.ThemeIcon("symbol-boolean"),symbol_class:new n.ThemeIcon("symbol-class"),symbol_color:new n.ThemeIcon("symbol-color"),symbol_constant:new n.ThemeIcon("symbol-constant"),symbol_constructor:new n.ThemeIcon("symbol-constructor"),symbol_enum_member:new n.ThemeIcon("symbol-enum-member"),symbol_enum:new n.ThemeIcon("symbol-enum"),symbol_event:new n.ThemeIcon("symbol-event"),symbol_field:new n.ThemeIcon("symbol-field"),symbol_file:new n.ThemeIcon("symbol-file"),symbol_folder:new n.ThemeIcon("symbol-folder"),symbol_function:new n.ThemeIcon("symbol-function"),symbol_interface:new n.ThemeIcon("symbol-interface"),symbol_key:new n.ThemeIcon("symbol-key"),symbol_keyword:new n.ThemeIcon("symbol-keyword"),symbol_method:new n.ThemeIcon("symbol-method"),symbol_misc:new n.ThemeIcon("symbol-misc"),symbol_module:new n.ThemeIcon("symbol-module"),symbol_namespace:new n.ThemeIcon("symbol-namespace"),symbol_null:new n.ThemeIcon("symbol-null"),symbol_number:new n.ThemeIcon("symbol-number"),symbol_numeric:new n.ThemeIcon("symbol-numeric"),symbol_object:new n.ThemeIcon("symbol-object"),symbol_operator:new n.ThemeIcon("symbol-operator"),symbol_package:new n.ThemeIcon("symbol-package"),symbol_parameter:new n.ThemeIcon("symbol-parameter"),symbol_property:new n.ThemeIcon("symbol-property"),symbol_reference:new n.ThemeIcon("symbol-reference"),symbol_ruler:new n.ThemeIcon("symbol-ruler"),symbol_snippet:new n.ThemeIcon("symbol-snippet"),symbol_string:new n.ThemeIcon("symbol-string"),symbol_struct:new n.ThemeIcon("symbol-struct"),symbol_structure:new n.ThemeIcon("symbol-structure"),symbol_text:new n.ThemeIcon("symbol-text"),symbol_type_parameter:new n.ThemeIcon("symbol-type_parameter"),symbol_unit:new n.ThemeIcon("symbol-unit"),symbol_value:new n.ThemeIcon("symbol-value"),symbol_variable:new n.ThemeIcon("symbol-variable"),sync_ignored:new n.ThemeIcon("sync-ignored"),sync:new n.ThemeIcon("sync"),tag_add:new n.ThemeIcon("tag-add"),tag_remove:new n.ThemeIcon("tag-remove"),tag:new n.ThemeIcon("tag"),tasklist:new n.ThemeIcon("tasklist"),telescope:new n.ThemeIcon("telescope"),terminal:new n.ThemeIcon("terminal"),text_size:new n.ThemeIcon("text-size"),three_bars:new n.ThemeIcon("three-bars"),thumbsdown:new n.ThemeIcon("thumbsdown"),thumbsup:new n.ThemeIcon("thumbsup"),tools:new n.ThemeIcon("tools"),trash:new n.ThemeIcon("trash"),trashcan:new n.ThemeIcon("trashcan"),triangle_down:new n.ThemeIcon("triangle-down"),triangle_left:new n.ThemeIcon("triangle-left"),triangle_right:new n.ThemeIcon("triangle-right"),triangle_up:new n.ThemeIcon("triangle-up"),twitter:new n.ThemeIcon("twitter"),unfold:new n.ThemeIcon("unfold"),ungroup_by_ref_type:new n.ThemeIcon("ungroup-by-ref-type"),unlock:new n.ThemeIcon("unlock"),unmute:new n.ThemeIcon("unmute"),unverified:new n.ThemeIcon("unverified"),variable:new n.ThemeIcon("variable"),verified:new n.ThemeIcon("verified"),versions:new n.ThemeIcon("versions"),vm_active:new n.ThemeIcon("vm-active"),vm_connect:new n.ThemeIcon("vm-connect"),vm_outline:new n.ThemeIcon("vm-outline"),vm_running:new n.ThemeIcon("vm-running"),vm:new n.ThemeIcon("vm"),warning:new n.ThemeIcon("warning"),watch:new n.ThemeIcon("watch"),whitespace:new n.ThemeIcon("whitespace"),whole_word:new n.ThemeIcon("whole-word"),window:new n.ThemeIcon("window"),word_wrap:new n.ThemeIcon("word-wrap"),x:new n.ThemeIcon("x"),zap:new n.ThemeIcon("symbol-event"),zoom_in:new n.ThemeIcon("zoom-in"),zoom_out:new n.ThemeIcon("zoom-out")};t.ThemeIcons=i;t.codicons={account:"$(account)",activate_breakpoints:"$(activate-breakpoints)",add:"$(add)",alert:"$(alert)",archive:"$(archive)",array:"$(array)",arrow_both:"$(arrow-both)",arrow_down:"$(arrow-down)",arrow_left:"$(arrow-left)",arrow_right:"$(arrow-right)",arrow_small_down:"$(arrow-small-down)",arrow_small_left:"$(arrow-small-left)",arrow_small_right:"$(arrow-small-right)",arrow_small_up:"$(arrow-small-up)",arrow_up:"$(arrow-up)",beaker:"$(beaker)",bell_dot:"$(bell-dot)",bell:"$(bell)",bold:"$(bold)",book:"$(book)",bookmark:"$(bookmark)",briefcase:"$(briefcase)",broadcast:"$(broadcast)",browser:"$(browser)",bug:"$(bug)",calendar:"$(calendar)",call_incoming:"$(call-incoming)",call_outgoing:"$(call-outgoing)",case_sensitive:"$(case-sensitive)",check:"$(check)",check_all:"$(check-all)",checklist:"$(checklist)",chevron_down:"$(chevron-down)",chevron_left:"$(chevron-left)",chevron_right:"$(chevron-right)",chevron_up:"$(chevron-up)",chrome_close:"$(chrome-close)",chrome_maximize:"$(chrome-maximize)",chrome_minimize:"$(chrome-minimize)",chrome_restore:"$(chrome-restore)",circle_filled:"$(circle-filled)",circle_outline:"$(circle-outline)",circle_slash:"$(circle-slash)",circuit_board:"$(circuit-board)",clear_all:"$(clear-all)",clippy:"$(clippy)",clock:"$(clock)",clone:"$(clone)",close_all:"$(close-all)",close_dirty:"$(close-dirty)",close:"$(close)",cloud:"$(cloud)",cloud_download:"$(cloud-download)",cloud_upload:"$(cloud-upload)",code:"$(code)",collapse_all:"$(collapse-all)",color_mode:"$(color-mode)",comment_add:"$(comment-add)",comment_discussion:"$(comment-discussion)",comment:"$(comment)",console:"$(console)",credit_card:"$(credit-card)",dash:"$(dash)",dashboard:"$(dashboard)",database:"$(database)",debug_alt:"$(debug-alt)",debug_alt_small:"$(debug-alt-small)",debug_breakpoint_conditional_unverified:"$(debug-breakpoint-conditional-unverified)",debug_breakpoint_conditional:"$(debug-breakpoint-conditional)",debug_breakpoint_data_unverified:"$(debug-breakpoint-data-unverified)",debug_breakpoint_data:"$(debug-breakpoint-data)",debug_breakpoint_disabled:"$(debug-breakpoint-disabled)",debug_breakpoint_function_unverified:"$(debug-breakpoint-function-unverified)",debug_breakpoint_function:"$(debug-breakpoint-function)",debug_breakpoint_log_unverified:"$(debug-breakpoint-log-unverified)",debug_breakpoint_log:"$(debug-breakpoint-log)",debug_breakpoint_unsupported:"$(debug-breakpoint-unsupported)",debug_breakpoint:"$(debug-breakpoint)",debug_console:"$(debug-console)",debug_continue:"$(debug-continue)",debug_disconnect:"$(debug-disconnect)",debug_hint:"$(debug-hint)",debug_pause:"$(debug-pause)",debug_restart_frame:"$(debug-restart-frame)",debug_restart:"$(debug-restart)",debug_reverse_continue:"$(debug-reverse-continue)",debug_stackframe_active:"$(debug-stackframe-active)",debug_stackframe_dot:"$(debug-stackframe-dot)",debug_stackframe:"$(debug-stackframe)",debug_start:"$(debug-start)",debug_step_back:"$(debug-step-back)",debug_step_into:"$(debug-step-into)",debug_step_out:"$(debug-step-out)",debug_step_over:"$(debug-step-over)",debug_stop:"$(debug-stop)",debug:"$(debug)",desktop_download:"$(desktop-download)",device_camera_video:"$(device-camera-video)",device_camera:"$(device-camera)",device_desktop:"$(device-desktop)",device_mobile:"$(device-mobile)",diff_added:"$(diff-added)",diff_ignored:"$(diff-ignored)",diff_modified:"$(diff-modified)",diff_removed:"$(diff-removed)",diff_renamed:"$(diff-renamed)",diff:"$(diff)",discard:"$(discard)",edit:"$(edit)",editor_layout:"$(editor-layout)",ellipsis:"$(ellipsis)",empty_window:"$(empty-window)",error:"$(error)",exclude:"$(exclude)",expand_all:"$(expand-all)",export:"$(export)",extensions:"$(extensions)",eye_closed:"$(eye-closed)",eye_unwatch:"$(eye-unwatch)",eye_watch:"$(eye-watch)",eye:"$(eye)",feedback:"$(feedback)",file_add:"$(file-add)",file_binary:"$(file-binary)",file_code:"$(file-code)",file_directory_create:"$(file-directory-create)",file_directory:"$(file-directory)",file_media:"$(file-media)",file_pdf:"$(file-pdf)",file_submodule:"$(file-submodule)",file_symlink_directory:"$(file-symlink-directory)",file_symlink_file:"$(file-symlink-file)",file_text:"$(file-text)",file_zip:"$(file-zip)",file:"$(file)",files:"$(files)",filter:"$(filter)",flame:"$(flame)",fold_down:"$(fold-down)",fold_up:"$(fold-up)",fold:"$(fold)",folder_active:"$(folder-active)",folder_opened:"$(folder-opened)",folder:"$(folder)",gear:"$(gear)",gift:"$(gift)",gist_fork_private:"$(gist-fork-private)",gist_fork:"$(gist-fork)",gist_new:"$(gist-new)",gist_private:"$(gist-private)",gist_secret:"$(gist-secret)",gist:"$(gist)",git_branch_create:"$(git-branch-create)",git_branch_delete:"$(git-branch-delete)",git_branch:"$(git-branch)",git_commit:"$(git-commit)",git_compare:"$(git-compare)",git_merge:"$(git-merge)",git_pull_request:"$(git-pull-request)",github_action:"$(github-action)",github_alt:"$(github-alt)",github_inverted:"$(github-inverted)",github:"$(github)",globe:"$(globe)",go_to_file:"$(go-to-file)",grabber:"$(grabber)",graph:"$(graph)",graph_left:"$(graph-left)",gripper:"$(gripper)",group_by_ref_type:"$(group-by-ref-type)",heart:"$(heart)",history:"$(history)",home:"$(home)",horizontal_rule:"$(horizontal-rule)",hubot:"$(hubot)",inbox:"$(inbox)",info:"$(info)",issue_closed:"$(issue-closed)",issue_opened:"$(issue-opened)",issue_reopened:"$(issue-reopened)",issues:"$(issues)",italic:"$(italic)",jersey:"$(jersey)",json:"$(json)",kebab_horizontal:"$(kebab-horizontal)",kebab_vertical:"$(kebab-vertical)",key:"$(key)",keyboard:"$(keyboard)",law:"$(law)",library:"$(library)",light_bulb:"$(light-bulb)",lightbulb_autofix:"$(lightbulb-autofix)",lightbulb:"$(lightbulb)",link_external:"$(link-external)",link:"$(link)",list_filter:"$(list-filter)",list_flat:"$(list-flat)",list_ordered:"$(list-ordered)",list_selection:"$(list-selection)",list_tree:"$(list-tree)",list_unordered:"$(list-unordered)",live_share:"$(live-share)",loading:"$(loading)",location:"$(location)",lock:"$(lock)",log_in:"$(log-in)",log_out:"$(log-out)",logo_github:"$(logo-github)",magnet:"$(magnet)",mail_read:"$(mail-read)",mail_reply:"$(mail-reply)",mail:"$(mail)",mark_github:"$(mark-github)",markdown:"$(markdown)",megaphone:"$(megaphone)",mention:"$(mention)",menu:"$(menu)",merge:"$(merge)",microscope:"$(microscope)",milestone:"$(milestone)",mirror_private:"$(mirror-private)",mirror_public:"$(mirror-public)",mirror:"$(mirror)",more:"$(more)",mortar_board:"$(mortar-board)",move:"$(move)",multiple_windows:"$(multiple-windows)",mute:"$(mute)",new_file:"$(new-file)",new_folder:"$(new-folder)",no_newline:"$(no-newline)",note:"$(note)",notebook:"$(notebook)",octoface:"$(octoface)",open_preview:"$(open-preview)",organization_filled:"$(organization-filled)",organization_outline:"$(organization-outline)",organization:"$(organization)",output:"$(output)",package:"$(package)",paintcan:"$(paintcan)",pass:"$(pass)",pencil:"$(pencil)",person_add:"$(person-add)",person_filled:"$(person-filled)",person_follow:"$(person-follow)",person_outline:"$(person-outline)",person:"$(person)",pin:"$(pin)",pinned:"$(pinned)",pinned_dirty:"$(pinned-dirty)",play_circle:"$(play-circle)",play:"$(play)",plug:"$(plug)",plus:"$(plus)",preserve_case:"$(preserve-case)",preview:"$(preview)",primitive_dot:"$(primitive-dot)",primitive_square:"$(primitive-square)",project:"$(project)",pulse:"$(pulse)",question:"$(question)",quote:"$(quote)",radio_tower:"$(radio-tower)",reactions:"$(reactions)",record_keys:"$(record-keys)",record:"$(record)",redo:"$(redo)",references:"$(references)",refresh:"$(refresh)",regex:"$(regex)",remote_explorer:"$(remote-explorer)",remote:"$(remote)",remove_close:"$(remove-close)",remove:"$(remove)",repl:"$(repl)",replace_all:"$(replace-all)",replace:"$(replace)",reply:"$(reply)",repo_clone:"$(repo-clone)",repo_create:"$(repo-create)",repo_delete:"$(repo-delete)",repo_force_push:"$(repo-force-push)",repo_forked:"$(repo-forked)",repo_pull:"$(repo-pull)",repo_push:"$(repo-push)",repo_sync:"$(repo-sync)",repo:"$(repo)",report:"$(report)",request_changes:"$(request-changes)",rocket:"$(rocket)",root_folder_opened:"$(root-folder-opened)",root_folder:"$(root-folder)",rss:"$(rss)",ruby:"$(ruby)",run_all:"$(run-all)",save_all:"$(save-all)",save_as:"$(save-as)",save:"$(save)",screen_full:"$(screen-full)",screen_normal:"$(screen-normal)",search_save:"$(search-save)",search_stop:"$(search-stop)",search:"$(search)",server_environment:"$(server-environment)",server_process:"$(server-process)",server:"$(server)",settings_gear:"$(settings-gear)",settings:"$(settings)",shield:"$(shield)",sign_in:"$(sign-in)",sign_out:"$(sign-out)",smiley:"$(smiley)",sort_precedence:"$(sort-precedence)",source_control:"$(source-control)",split_horizontal:"$(split-horizontal)",split_vertical:"$(split-vertical)",squirrel:"$(squirrel)",star_empty:"$(star-empty)",star_full:"$(star-full)",star_half:"$(star-half)",star:"$(star)",stop_circle:"$(stop-circle)",stop:"$(stop)",symbol_array:"$(symbol-array)",symbol_boolean:"$(symbol-boolean)",symbol_class:"$(symbol-class)",symbol_color:"$(symbol-color)",symbol_constant:"$(symbol-constant)",symbol_constructor:"$(symbol-constructor)",symbol_enum_member:"$(symbol-enum-member)",symbol_enum:"$(symbol-enum)",symbol_event:"$(symbol-event)",symbol_field:"$(symbol-field)",symbol_file:"$(symbol-file)",symbol_folder:"$(symbol-folder)",symbol_function:"$(symbol-function)",symbol_interface:"$(symbol-interface)",symbol_key:"$(symbol-key)",symbol_keyword:"$(symbol-keyword)",symbol_method:"$(symbol-method)",symbol_misc:"$(symbol-misc)",symbol_module:"$(symbol-module)",symbol_namespace:"$(symbol-namespace)",symbol_null:"$(symbol-null)",symbol_number:"$(symbol-number)",symbol_numeric:"$(symbol-numeric)",symbol_object:"$(symbol-object)",symbol_operator:"$(symbol-operator)",symbol_package:"$(symbol-package)",symbol_parameter:"$(symbol-parameter)",symbol_property:"$(symbol-property)",symbol_reference:"$(symbol-reference)",symbol_ruler:"$(symbol-ruler)",symbol_snippet:"$(symbol-snippet)",symbol_string:"$(symbol-string)",symbol_struct:"$(symbol-struct)",symbol_structure:"$(symbol-structure)",symbol_text:"$(symbol-text)",symbol_type_parameter:"$(symbol-type_parameter)",symbol_unit:"$(symbol-unit)",symbol_value:"$(symbol-value)",symbol_variable:"$(symbol-variable)",sync_ignored:"$(sync-ignored)",sync:"$(sync)",tag_add:"$(tag-add)",tag_remove:"$(tag-remove)",tag:"$(tag)",tasklist:"$(tasklist)",telescope:"$(telescope)",terminal:"$(terminal)",text_size:"$(text-size)",three_bars:"$(three-bars)",thumbsdown:"$(thumbsdown)",thumbsup:"$(thumbsup)",tools:"$(tools)",trash:"$(trash)",trashcan:"$(trashcan)",triangle_down:"$(triangle-down)",triangle_left:"$(triangle-left)",triangle_right:"$(triangle-right)",triangle_up:"$(triangle-up)",twitter:"$(twitter)",unfold:"$(unfold)",ungroup_by_ref_type:"$(ungroup-by-ref-type)",unlock:"$(unlock)",unmute:"$(unmute)",unverified:"$(unverified)",variable:"$(variable)",verified:"$(verified)",versions:"$(versions)",vm_active:"$(vm-active)",vm_connect:"$(vm-connect)",vm_outline:"$(vm-outline)",vm_running:"$(vm-running)",vm:"$(vm)",warning:"$(warning)",watch:"$(watch)",whitespace:"$(whitespace)",whole_word:"$(whole-word)",window:"$(window)",word_wrap:"$(word-wrap)",x:"$(x)",zap:"$(symbol-event)",zoom_in:"$(zoom-in)",zoom_out:"$(zoom-out)"}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(68),o=r(1),s=r(19),a=r(10),c=r(34),u=r(4),f=r(2),h=r(22),l=r(35),d=r(6),p=r(134);function m(){return n(this,void 0,void 0,(function*(){h.isSettingsDisabled(a.CONFIGURATION.DISABLE_STATUS_BAR_ITEM)?(l.clearStatusBarRefreshTimer(),l.disposeStatusBarItem()):(yield l.createStatusBarItem(),l.initStatusBarItemRefreshTimer())}))}function g(){return n(this,void 0,void 0,(function*(){const e=yield o.window.showQuickPick(a.configTargetList,{placeHolder:"Where do you want to save the container ids"});e&&(e.id===c.ConfigTarget.Settings&&(yield h.updateSettings(a.CONFIGURATION.DISABLE_DOCKERRC,!0,o.ConfigurationTarget.Workspace)),yield o.commands.executeCommand("docker-run.add",!0))}))}t.initDockerode=function(e){d.ext.dockerode=new i(e)},t.initContainerOperations=function(){d.ext.startOperation=new p.StartOperation,d.ext.stopOperation=new p.StopOperation,d.ext.stopNonRelatedOperation=new p.StopNonRelatedOperation},t.initStatusBarItem=m,t.initAutoAdd=function(){return n(this,void 0,void 0,(function*(){if(h.isSettingsDisabled(a.CONFIGURATION.DISABLE_AUTO_GENERATE_CONFIG))throw new u.AutoGenerateConfigDisabledError("Disabled auto generation of file");const e=yield o.window.showQuickPick(a.autoAddList,{placeHolder:f.ADD_CONTAINERS_FOR_WORKSPACE});if(e&&e.id)switch(e.id){case c.AutoAdd.YES:yield g();break;case c.AutoAdd.SKIP_WORK_SPACE:case c.AutoAdd.SKIP_GLOBAL:yield h.updateSettings(a.CONFIGURATION.DISABLE_AUTO_GENERATE_CONFIG,!0,e.id===c.AutoAdd.SKIP_GLOBAL?o.ConfigurationTarget.Global:o.ConfigurationTarget.Workspace);break;case c.AutoAdd.No:}}))},t.initConfigTarget=g,t.initAutoStart=function(){return n(this,void 0,void 0,(function*(){if(yield o.commands.executeCommand("docker-run.start:all"),h.isSettingsDisabled(a.CONFIGURATION.DISABLE_AUTO_STOP_NON_RELATED))throw new u.AutoStopNonRelatedDisabledError("Disabled auto stopping of non related containers");yield o.commands.executeCommand("docker-run.stop:non-related")}))},t.initOnDidChangeConfiguration=function(){return n(this,void 0,void 0,(function*(){o.workspace.onDidChangeConfiguration(e=>n(this,void 0,void 0,(function*(){const t=h.settingsChanged(e);switch(!0){case t(a.CONFIGURATION.STATUS_BAR_ITEM_REFRESH_INTERVAL):case t(a.CONFIGURATION.DISABLE_STATUS_BAR_ITEM):yield m();break;case t(a.CONFIGURATION.DISABLE_DOCKERRC):h.getConfiguration(a.CONFIGURATION.DISABLE_DOCKERRC)?yield s.moveToSettings():yield s.moveToDockerrc();break}})))}))}},function(e,t,r){var n=r(11).EventEmitter,i=r(69),o=r(108),s=r(42),a=(r(5),r(121),r(13),r(124)),c=r(125),u=r(126),f=r(127),h=r(128),l=r(129),d=r(130),p=r(131),m=r(132),g=r(133),y=r(55),_=r(3),v=_.extend,E=function(e){if(!(this instanceof E))return new E(e);var t=global.Promise;e&&e.Promise&&(t=e.Promise,1===Object.keys(e).length&&(e=void 0)),this.modem=new i(e),this.modem.Promise=t};E.prototype.createContainer=function(e,t){var r=this,n={path:"/containers/create?",method:"POST",options:e,authconfig:e.authconfig,statusCodes:{200:!0,201:!0,404:"no such container",406:"impossible to attach",500:"server error"}};if(delete e.authconfig,void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(n,i){if(n)return t(n);e(r.getContainer(i.Id))}))}));this.modem.dial(n,(function(e,n){if(e)return t(e,n);t(e,r.getContainer(n.Id))}))},E.prototype.createImage=function(e,t,r){var n=this;r||"function"!=typeof t?r||t||(e=(t=e).authconfig):(r=t,e=(t=e).authconfig||void 0);var i={path:"/images/create?",method:"POST",options:t,authconfig:e,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},E.prototype.loadImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=null);var i={path:"/images/load?",method:"POST",options:t,file:e,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},E.prototype.importImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=void 0),t||(t={}),t.fromSrc="-";var i={path:"/images/create?",method:"POST",options:t,file:e,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},E.prototype.checkAuth=function(e,t){var r=this,n={path:"/auth",method:"POST",options:e,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},E.prototype.buildImage=function(e,t,r){var n=this;o.pack();function i(e){var i={path:"/build?",method:"POST",file:e,options:t,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(t&&(t.registryconfig&&(i.registryconfig=i.options.registryconfig,delete i.options.registryconfig),t.authconfig&&(i.authconfig=i.options.authconfig,delete i.options.authconfig)),void 0===r)return new n.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));n.modem.dial(i,(function(e,t){r(e,t)}))}return r||"function"!=typeof t||(r=t,t=null),e&&e.context?i(o.pack(e.context,{entries:e.src}).pipe(s.createGzip())):i(e)},E.prototype.getContainer=function(e){return new a(this.modem,e)},E.prototype.getImage=function(e){return new c(this.modem,e)},E.prototype.getVolume=function(e){return new u(this.modem,e)},E.prototype.getPlugin=function(e,t){return new l(this.modem,e,t)},E.prototype.getService=function(e){return new h(this.modem,e)},E.prototype.getTask=function(e){return new m(this.modem,e)},E.prototype.getNode=function(e){return new g(this.modem,e)},E.prototype.getNetwork=function(e){return new f(this.modem,e)},E.prototype.getSecret=function(e){return new d(this.modem,e)},E.prototype.getConfig=function(e){return new p(this.modem,e)},E.prototype.getExec=function(e){return new y(this.modem,e)},E.prototype.listContainers=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/containers/json?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.listImages=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/images/json?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.getImages=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/images/get?",method:"GET",options:n.opts,isStream:!0,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.listServices=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/services?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.listNodes=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/nodes?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",404:"no such node",500:"server error",503:"node is not part of a swarm"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.listTasks=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/tasks?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.createSecret=function(e,t){var r=_.processArgs(e,t),n=this,i={path:"/secrets/create?",method:"POST",options:r.opts,statusCodes:{200:!0,201:!0,406:"server error or node is not part of a swarm",409:"name conflicts with an existing object",500:"server error"}};if(void 0===r.callback)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getSecret(i.ID))}))}));this.modem.dial(i,(function(e,t){if(e)return r.callback(e,t);r.callback(e,n.getSecret(t.ID))}))},E.prototype.createConfig=function(e,t){var r=_.processArgs(e,t),n=this,i={path:"/configs/create?",method:"POST",options:r.opts,statusCodes:{200:!0,201:!0,406:"server error or node is not part of a swarm",409:"name conflicts with an existing object",500:"server error"}};if(void 0===r.callback)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getConfig(i.ID))}))}));this.modem.dial(i,(function(e,t){if(e)return r.callback(e,t);r.callback(e,n.getConfig(t.ID))}))},E.prototype.listSecrets=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/secrets?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.listConfigs=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/configs?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.createPlugin=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/plugins/create?",method:"POST",options:n.opts,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(i,o){if(i)return t(i);e(r.getPlugin(n.opts.name))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getPlugin(n.opts.name))}))},E.prototype.listPlugins=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/plugins?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.pruneImages=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/images/prune?",method:"POST",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.pruneBuilder=function(e){var t=this,r={path:"/build/prune",method:"POST",statusCodes:{200:!0,500:"server error"}};if(void 0===args.callback)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},E.prototype.pruneContainers=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/containers/prune?",method:"POST",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.pruneVolumes=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/volumes/prune?",method:"POST",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.pruneNetworks=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/networks/prune?",method:"POST",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.createVolume=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/volumes/create?",method:"POST",options:n.opts,statusCodes:{200:!0,201:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(n,i){if(n)return t(n);e(r.getVolume(i.Name))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getVolume(t.Name))}))},E.prototype.createService=function(e,t,r){r||"function"!=typeof t?t||r||(t=e):(r=t,e=(t=e).authconfig||void 0);var n=this,i={path:"/services/create",method:"POST",options:t,authconfig:e,statusCodes:{200:!0,201:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getService(i.ID||i.Id))}))}));this.modem.dial(i,(function(e,t){if(e)return r(e,t);r(e,n.getService(t.ID||t.Id))}))},E.prototype.listVolumes=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/volumes?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.createNetwork=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/networks/create?",method:"POST",options:n.opts,statusCodes:{200:!0,201:!0,404:"driver not found",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(n,i){if(n)return t(n);e(r.getNetwork(i.Id))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getNetwork(t.Id))}))},E.prototype.listNetworks=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/networks?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.searchImages=function(e,t){var r=this,n={path:"/images/search?",method:"GET",options:e,authconfig:e.authconfig,statusCodes:{200:!0,500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},E.prototype.info=function(e){var t=this,r={path:"/info",method:"GET",statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},E.prototype.version=function(e){var t=this,r={path:"/version",method:"GET",statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},E.prototype.ping=function(e){var t=this,r={path:"/_ping",method:"GET",statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},E.prototype.df=function(e){var t=this,r={path:"/system/df",method:"GET",statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},E.prototype.getEvents=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/events?",method:"GET",options:n.opts,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.pull=function(e,t,r,n){var i=_.processArgs(t,r),o=_.parseRepositoryTag(e);i.opts.fromImage=o.repository,i.opts.tag=o.tag||"latest";var s=[i.opts,i.callback];return n&&(s=[n,i.opts,i.callback]),this.createImage.apply(this,s)},E.prototype.run=function(e,t,r,n,i,o){return"function"==typeof arguments[arguments.length-1]?this.runCallback(e,t,r,n,i,o):this.runPromise(e,t,r,n,i)},E.prototype.runCallback=function(e,t,r,i,o,s){s||"function"!=typeof i?s||"function"!=typeof o||(s=o,o={}):(s=i,i={},o={});var a=new n;var c={Hostname:"",User:"",AttachStdin:!1,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!1,StdinOnce:!1,Env:null,Cmd:t,Image:e,Volumes:{},VolumesFrom:[]};return v(c,i),this.createContainer(c,(function(e,t){if(e)return s(e,null,t);a.emit("container",t),t.attach({stream:!0,stdout:!0,stderr:!0},(function(e,n){if(e)return s(e,null,t);a.emit("stream",n),r&&(r instanceof Array?(n.on("end",(function(){try{r[0].end()}catch(e){}try{r[1].end()}catch(e){}})),t.modem.demuxStream(n,r[0],r[1])):(n.setEncoding("utf8"),n.pipe(r,{end:!0}))),t.start(o,(function(e,r){if(e)return s(e,r,t);a.emit("start",t),t.wait((function(e,r){a.emit("data",r),s(e,r,t)}))}))}))})),a},E.prototype.runPromise=function(e,t,r,n,i){var o=this;i=i||{};var s,a={Hostname:"",User:"",AttachStdin:!1,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!1,StdinOnce:!1,Env:null,Cmd:t,Image:e,Volumes:{},VolumesFrom:[]};return v(a,n=n||{}),new this.modem.Promise((function(e,t){o.createContainer(a).then((function(e){return s=e,e.attach({stream:!0,stdout:!0,stderr:!0})})).then((function(e){return r&&(r instanceof Array?(e.on("end",(function(){try{r[0].end()}catch(e){}try{r[1].end()}catch(e){}})),s.modem.demuxStream(e,r[0],r[1])):(e.setEncoding("utf8"),e.pipe(r,{end:!0}))),s.start(i)})).then((function(e){return s.wait()})).then((function(t){e([t,s])})).catch((function(e){t(e)}))}))},E.prototype.swarmInit=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/swarm/init",method:"POST",statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.swarmJoin=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/swarm/join",method:"POST",statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.swarmLeave=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/swarm/leave?",method:"POST",statusCodes:{200:!0,406:"node is not part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.swarmUpdate=function(e,t){var r=this,n=_.processArgs(e,t),i={path:"/swarm/update?",method:"POST",statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},E.prototype.swarmInspect=function(e){var t=this,r={path:"/swarm",method:"GET",statusCodes:{200:!0,406:"This node is not a swarm manager",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},E.Container=a,E.Image=c,E.Volume=u,E.Network=f,E.Service=h,E.Plugin=l,E.Secret=d,E.Task=m,E.Node=g,E.Exec=y,e.exports=E},function(e,t,r){var n=r(70),i=r(71),o=r(5),s=r(13),a=r(24),c=r(72),u=r(91),f=r(100)("modem"),h=r(37),l=r(0),d=(a=r(24),r(107)),p="Windows_NT"===r(32).type(),m=function(e){var t=Object.assign({},function(){var e,t={};if(process.env.DOCKER_HOST)if(0===process.env.DOCKER_HOST.indexOf("unix://"))t.socketPath=process.env.DOCKER_HOST.substring(7)||"/var/run/docker.sock";else if(0===process.env.DOCKER_HOST.indexOf("npipe://"))t.socketPath=process.env.DOCKER_HOST.substring(8)||"//./pipe/docker_engine";else{var r=process.env.DOCKER_HOST;r.indexOf("//")<0&&(r="tcp://"+r);try{e=new a.URL(r)}catch(e){throw new Error("DOCKER_HOST env variable should be something like tcp://localhost:1234")}t.port=e.port,"1"===process.env.DOCKER_TLS_VERIFY||"2376"===t.port?t.protocol="https":"ssh:"===e.protocol?(t.protocol="ssh",t.username=e.username,t.sshAuthAgent=process.env.SSH_AUTH_SOCK):t.protocol="http",t.host=e.hostname,process.env.DOCKER_CERT_PATH&&(t.ca=d(s.join(process.env.DOCKER_CERT_PATH,"ca.pem")),t.cert=o.readFileSync(s.join(process.env.DOCKER_CERT_PATH,"cert.pem")),t.key=o.readFileSync(s.join(process.env.DOCKER_CERT_PATH,"key.pem"))),process.env.DOCKER_CLIENT_TIMEOUT&&(t.timeout=parseInt(process.env.DOCKER_CLIENT_TIMEOUT,10))}else t.socketPath=p?"//./pipe/docker_engine":"/var/run/docker.sock";return t}(),e);this.host=t.host,this.host||(this.socketPath=t.socketPath),this.port=t.port,this.username=t.username,this.password=t.password,this.version=t.version,this.key=t.key,this.cert=t.cert,this.ca=t.ca,this.timeout=t.timeout,this.connectionTimeout=t.connectionTimeout,this.checkServerIdentity=t.checkServerIdentity,this.agent=t.agent,this.agentForward=t.agentForward,this.headers=t.headers||{},this.sshAuthAgent=t.sshAuthAgent,this.key&&this.cert&&this.ca&&(this.protocol="https"),this.protocol=t.protocol||this.protocol||"http"};m.prototype.dial=function(e,t){var r,n,i;if(e.options&&(r=e.options),r&&r.authconfig&&delete r.authconfig,this.version&&(e.path="/"+this.version+e.path),this.host){var c=a.parse(this.host);n=a.format({protocol:c.protocol||this.protocol,hostname:c.hostname||this.host,port:this.port}),n=a.resolve(n,e.path)}else n=e.path;-1!==e.path.indexOf("?")&&(r&&Object.keys(r).length>0?n+=this.buildQuerystring(r._query||r):n=n.substring(0,n.length-1));var u={path:n,method:e.method,headers:e.headers||Object.assign({},this.headers),key:this.key,cert:this.cert,ca:this.ca};if(this.checkServerIdentity&&(u.checkServerIdentity=this.checkServerIdentity),this.agent&&(u.agent=this.agent),e.authconfig&&(u.headers["X-Registry-Auth"]=e.authconfig.key||e.authconfig.base64||Buffer.from(JSON.stringify(e.authconfig)).toString("base64")),e.registryconfig&&(u.headers["X-Registry-Config"]=e.registryconfig.base64||Buffer.from(JSON.stringify(e.registryconfig)).toString("base64")),e.file?(i="string"==typeof e.file?o.createReadStream(s.resolve(e.file)):e.file,u.headers["Content-Type"]="application/tar"):r&&"POST"===e.method&&(i=JSON.stringify(r._body||r),e.allowEmpty||"{}"!==i&&'""'!==i?u.headers["Content-Type"]="application/json":i=void 0),"string"==typeof i?u.headers["Content-Length"]=Buffer.byteLength(i):!0===Buffer.isBuffer(i)?u.headers["Content-Length"]=i.length:("PUT"===u.method||e.hijack||e.openStdin)&&(u.headers["Transfer-Encoding"]="chunked"),e.hijack&&(u.headers.Connection="Upgrade",u.headers.Upgrade="tcp"),this.socketPath)u.socketPath=this.socketPath;else{var f=a.parse(n);u.hostname=f.hostname,u.port=f.port,u.path=f.path}this.buildRequest(u,e,i,t)},m.prototype.buildRequest=function(e,t,r,n){var o,s=this,a="ssh"===s.protocol?Object.assign(e,{agent:c({host:s.host,port:s.port,username:s.username,password:s.password,agent:s.sshAuthAgent,agentForward:s.agentForward}),protocol:"http:"}):e,u=i["ssh"===s.protocol?"http":s.protocol].request(a,(function(){}));f("Sending: %s",l.inspect(e,{showHidden:!0,depth:null})),s.connectionTimeout&&(o=setTimeout((function(){f("Connection Timeout of %s ms exceeded",s.connectionTimeout),u.abort()}),s.connectionTimeout)),s.timeout&&u.on("socket",(function(e){e.setTimeout(s.timeout),e.on("timeout",(function(){f("Timeout of %s ms exceeded",s.timeout),u.abort()}))})),!0===t.hijack&&(clearTimeout(o),u.on("upgrade",(function(e,t,r){return n(null,t)}))),u.on("connect",(function(){clearTimeout(o)})),u.on("disconnect",(function(){clearTimeout(o)})),u.on("response",(function(e){if(clearTimeout(o),!0===t.isStream)s.buildPayload(null,t.isStream,t.statusCodes,t.openStdin,u,e,null,n);else{var r=[];e.on("data",(function(e){r.push(e)})),e.on("end",(function(){var i=Buffer.concat(r),o=i.toString();f("Received: %s",o);var a=h.parseJSON(o)||i;s.buildPayload(null,t.isStream,t.statusCodes,!1,u,e,a,n)}))}})),u.on("error",(function(e){clearTimeout(o),s.buildPayload(e,t.isStream,t.statusCodes,!1,{},{},null,n)})),"string"==typeof r||Buffer.isBuffer(r)?u.write(r):r&&r.pipe(u),t.hijack||t.openStdin||"string"!=typeof r&&void 0!==r&&!Buffer.isBuffer(r)||u.end()},m.prototype.buildPayload=function(e,t,r,n,i,o,s,a){if(e)return a(e,null);!0!==r[o.statusCode]?function(e,t,r,n){var i="";e?(t.on("data",(function(e){i+=e})),t.on("end",(function(){n(null,h.parseJSON(i)||i)}))):n(null,r)}(t,o,s,(function(e,t){var n=new Error("(HTTP code "+o.statusCode+") "+(r[o.statusCode]||"unexpected")+" - "+(t.message||t)+" ");n.reason=r[o.statusCode],n.statusCode=o.statusCode,n.json=s,a(n,null)})):a(null,n?new u(i,o):t?o:s)},m.prototype.demuxStream=function(e,t,r){var n=null,i=null,o=Buffer.from("");function s(e){var t=o.slice(0,e);return o=Buffer.from(o.slice(e,o.length)),t}e.on("data",(function e(a){if(a&&(o=Buffer.concat([o,a])),n){if(o.length>=i){var c=s(i);1===n?t.write(c):r.write(c),n=null,e()}}else if(o.length>=8){var u=s(8);n=u.readUInt8(0),i=u.readUInt32BE(4),e()}}))},m.prototype.followProgress=function(e,t,r){var n="",i=[],o=!1;function s(e){function t(e){if("\r"==e[e.length-1]&&(e=e.substr(0,e.length-1)),e.length>0){var t=JSON.parse(e);i.push(t),r&&r(t)}}n+=e.toString(),function(){var e;for(;(e=n.indexOf("\n"))>=0;)0!=e?(t(n.slice(0,e)),n=n.slice(e+1)):n=n.slice(1)}()}function a(){o||t(null,i),o=!0}e.on("data",s),e.on("error",(function r(n){o=!0,e.removeListener("data",s),e.removeListener("error",r),e.removeListener("end",a),e.removeListener("close",a),t(n,i)})),e.on("end",a),e.on("close",a)},m.prototype.buildQuerystring=function(e){var t={};return Object.keys(e).map((function(r,n){t[r]=e[r]&&"object"==typeof e[r]&&"t"!==r?JSON.stringify(e[r]):e[r]})),n.stringify(t)},e.exports=m},function(e,t){e.exports=require("querystring")},function(e,t,r){var n=r(36),i=r(23),o=r(24),s=r(37),a=(e.exports.maxRedirects=5,{https:n,http:i});for(var c in a){var u=function(){};u.prototype=a[c],(u=new u).request=function(r){return function(n,i,a){a=a||{};var u,f="object"==typeof n&&"maxRedirects"in n?n.maxRedirects:t.maxRedirects,h=s.extend({count:0,max:f,clientRequest:null,userCallback:i},a);if(h.count>h.max){var l=new Error("Max redirects exceeded. To allow more redirects, pass options.maxRedirects property.");return h.clientRequest.emit("error",l),h.clientRequest}h.count++,u="string"==typeof n?n:o.format(s.extend({protocol:c},n));var d=Object.getPrototypeOf(r).request(n,function t(r,n){return function(i){if(i.statusCode<300||i.statusCode>399)return n.userCallback(i);if(!("location"in i.headers))return n.userCallback(i);var s=o.resolve(r,i.headers.location),a=o.parse(s).protocol;return a=a.substr(0,a.length-1),e.exports[a].get(s,t(r,n),n)}}(u,h));return h.clientRequest||(h.clientRequest=d),d}}(u),u.get=function(e){return function(t,r,n){var i=e.request(t,r,n);return i.end(),i}}(u),e.exports[c]=u}},function(e,t,r){var n=r(38).Client,i=r(23);e.exports=function(e){var t=new n,r=new i.Agent;return r.createConnection=function(n,i){t.on("ready",(function(){t.exec("docker system dial-stdio",(function(e,n){if(e)return t.end(),void r.destroy();i(null,n),n.on("close",()=>{t.end(),r.destroy()})}))})).connect(e),t.on("end",()=>r.destroy())},r}},function(e,t){e.exports=require("dns")},function(e,t,r){var n=r(8).Transform,i=r(8).Readable,o=r(8).Writable,s=r(5).constants||process.binding("constants"),a=r(0),c=a.inherits,u=a.isDate,f=r(11).EventEmitter.listenerCount,h=r(5),l=r(9).readString,d=r(9).readInt,p=r(14).readUInt32BE,m=r(14).writeUInt32BE,g=1,y=2,_=4,v=8,E=2147483648,w={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8};Object.keys(w).forEach((function(e){w[w[e]]=e}));var b={0:"No error",1:"End of file",2:"No such file or directory",3:"Permission denied",4:"Failure",5:"Bad message",6:"No connection",7:"Connection lost",8:"Operation unsupported"};R.STATUS_CODE=w;var S={INIT:1,OPEN:3,CLOSE:4,READ:5,WRITE:6,LSTAT:7,FSTAT:8,SETSTAT:9,FSETSTAT:10,OPENDIR:11,READDIR:12,REMOVE:13,MKDIR:14,RMDIR:15,REALPATH:16,STAT:17,RENAME:18,READLINK:19,SYMLINK:20,EXTENDED:200};Object.keys(S).forEach((function(e){S[S[e]]=e}));var T={VERSION:2,STATUS:101,HANDLE:102,DATA:103,NAME:104,ATTRS:105,EXTENDED:201};Object.keys(T).forEach((function(e){T[T[e]]=e}));var k={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32};R.OPEN_MODE=k;var A=Math.pow(2,32)-1,I=Buffer.from([0,0,0,5,S.INIT,0,0,0,3]),O=Buffer.from([0,0,0,5,T.VERSION,0,0,0,3]),C=/^SSH-2.0-(?:OpenSSH|dropbear)/;function N(e){}function R(e,t){"string"!=typeof e||t||(t=e,e=void 0),"object"==typeof e&&e||(e={}),n.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this.debug="function"==typeof e.debug?e.debug:N,this.server=!!e.server,this._isOpenSSH=t&&C.test(t),this._needContinue=!1,this._state={status:"packet_header",writeReqid:-1,pktLeft:void 0,pktHdrBuf:Buffer.allocUnsafe(9),pktBuf:void 0,pktType:void 0,version:void 0,extensions:{},maxDataLen:this._isOpenSSH?260096:32768,requests:{}};var r=this;function i(){r.writable=!1,r._cleanup(!1)}this.on("end",(function(){r.readable=!1})).on("finish",i).on("prefinish",i),this.server||this.push(I)}function P(e,t,r,n,i,o){var s,a,c,u,f=64,l=32768;"function"==typeof i?o=i:"object"==typeof i&&null!==i&&("number"==typeof i.concurrency&&i.concurrency>0&&!isNaN(i.concurrency)&&(f=i.concurrency),"number"==typeof i.chunkSize&&i.chunkSize>0&&!isNaN(i.chunkSize)&&(l=i.chunkSize),"number"==typeof i.fileSize&&i.fileSize>0&&!isNaN(i.fileSize)&&(c=i.fileSize),"function"==typeof i.step&&(s=i.step),"string"!=typeof i.mode&&"number"!=typeof i.mode||(a=H(i.mode)));var d,p,m,g=0,y=0,_=!1,v=l*f;function E(r){if(!_){_=!0;var n,i=0;d||p?(n=function(){0==--i&&o(r)},d&&(e===h||e.writable)&&++i,p&&(t===h||t.writable)&&++i,d&&(e===h||e.writable)&&e.close(d,n),p&&(t===h||t.writable)&&t.close(p,n)):o(r)}}e.open(r,"r",(function(i,_){if(i)return E(i);function w(i,c){if(i)return e!==h?void e.stat(r,(function(e,t){if(e)return E(i);w(null,t)})):E(i);u=c.size,t.open(n,"w",(function(r,i){if(r)return E(r);if(p=i,u<=0)return E();for(;v>u;){if(1===f){v=u;break}v-=l,--f}if((m=function(e){try{return Buffer.allocUnsafe(e)}catch(e){return e}}(v))instanceof Error)return E(m);function c(r,n,i,a,c,f){if(r)return E(r);function _(r){if(r)return E(r);if(y+=n,s&&s(y,n,u),n<f)return w(c,a+n,f-n);if(y!==u){if(!(g>=u)){var i=g+l>u?u-g:l;w(c,g,i),g+=i}}else t.close(p,(function(t){if(p=void 0,t)return E(t);e.close(d,(function(e){if(d=void 0,e)return E(e);o()}))}))}c=c||0,e===h?t.writeData(p,m,c,n,a,_):t.write(p,m,c,n,a,_)}function _(e,t,r){return function(n,i,o){c(n,i,0,t,e,r)}}function w(t,r,n){e===h?e.read(d,m,t,n,r,_(t,r,n)):e.readData(d,m,t,n,r,_(t,r,n))}function b(){for(var e=0,t=0;g<u&&e<f;){var r=g+l>u?u-g:l;w(t,g,r),t+=r,g+=r,++e}}void 0!==a?t.fchmod(p,a,(function e(r){r?t.chmod(n,a,(function(t){e()})):b()})):b()}))}d=_,void 0===c?e.fstat(d,w):w(null,{size:c})}))}function B(e,t,r,n,i,o,s){var a="function"==typeof s?s:void 0;e.writeData(t,r,n,i,o,(function(s,c){if(s)return e.close(t,(function(){a&&a(s)}));c===i?e.close(t,a):B(e,t,r,n+=c,i-=c,o+=c,a)}))}function U(e,t,r,n){var i=p(e,t),o=new $;if(t+=4,i&g){var s=L(e,t,r,n);if(!1===s)return!1;o.size=s,t+=8}if(i&y){var a,c;if(!1===(a=d(e,t,this,n)))return!1;if(o.uid=a,!1===(c=d(e,t+=4,this,n)))return!1;o.gid=c,t+=4}if(i&_){var u=d(e,t,this,n);if(!1===u)return!1;o.mode=u,o.permissions=u,t+=4}if(i&v){var f,h;if(!1===(f=d(e,t,this,n)))return!1;if(o.atime=f,!1===(h=d(e,t+=4,this,n)))return!1;o.mtime=h,t+=4}if(i&E){var l=d(e,t,this,n);if(!1===l)return!1;t+=4;for(var m,w=0;w<l;++w){if(!1===(m=d(e,t,this,n)))return!1;t+=4+m}}return e._pos=t,o}function L(e,t,r,n){if(e.length-t<8)return r&&r._cleanup(n),!1;for(var i=0,o=t+8;t<o;++t)i*=256,i+=e[t];return e._pos=t,i}function D(e){var t=0,r=0,n=[],i=0;if("object"!=typeof e||null===e)return{flags:t,nbytes:r,bytes:n};if("number"==typeof e.size){t|=g,r+=8;var o=new Array(8),s=e.size;for(i=7;i>=0;--i)o[i]=255&s,s/=256;n.push(o)}if("number"==typeof e.uid&&"number"==typeof e.gid&&(t|=y,r+=8,n.push([e.uid>>24&255,e.uid>>16&255,e.uid>>8&255,255&e.uid]),n.push([e.gid>>24&255,e.gid>>16&255,e.gid>>8&255,255&e.gid])),"number"==typeof e.permissions||"string"==typeof e.permissions||"number"==typeof e.mode||"string"==typeof e.mode){var a=H(e.mode||e.permissions);t|=_,r+=4,n.push([a>>24&255,a>>16&255,a>>8&255,255&a])}if(("number"==typeof e.atime||u(e.atime))&&("number"==typeof e.mtime||u(e.mtime))){var c=x(e.atime),f=x(e.mtime);t|=v,r+=8,n.push([c>>24&255,c>>16&255,c>>8&255,255&c]),n.push([f>>24&255,f>>16&255,f>>8&255,255&f])}return{flags:t,nbytes:r,bytes:n}}function x(e){if("number"==typeof e&&!isNaN(e))return e;if(u(e))return parseInt(e.getTime()/1e3,10);throw new Error("Cannot parse time: "+e)}function H(e){if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e)return H(parseInt(e,8));throw new Error("Cannot parse mode: "+e)}c(R,n),R.prototype.__read=n.prototype._read,R.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},R.prototype.__push=n.prototype.push,R.prototype.push=function(e,t){if(!this.readable)return!1;null===e&&(this.readable=!1);var r=this.__push(e,t);return this._needContinue=!1===r,r},R.prototype._cleanup=function(e){var t=this._state;t.pktBuf=void 0;var r=t.requests,n=Object.keys(r),i=n.length;if(i){if(this.readable)for(var o,s=new Error("SFTP session ended early"),a=0;a<i;++a)(o=r[n[a]].cb)&&o(s);t.requests={}}this.readable&&this.push(null),this._readableState.endEmitted||this._readableState.flowing||this.resume(),!1!==e&&(this.debug("DEBUG[SFTP]: Parser: Malformed packet"),e&&e(new Error("Malformed packet")))},R.prototype._transform=function(e,t,r){for(var n,i,o,s=this._state,a=this.server,c=s.status,u=s.pktType,h=s.pktBuf,g=s.pktLeft,y=s.version,_=s.pktHdrBuf,v=s.requests,E=this.debug,k=e.length,A=0;;){if("discard"===c){if(!(g<=(i=k-A))){g-=i;break}A+=g,g=0,c="packet_header",n=h=void 0}else{if(void 0!==h){if(g<=(i=k-A)){e.copy(h,h.length-g,A,A+g),A+=g,g=0,n=h,h=void 0;continue}e.copy(h,h.length-g,A),g-=i;break}if("packet_header"===c)if(n){if(g=p(n,4)-1,u=n[8],a){if(void 0===y&&u!==S.INIT)return E("DEBUG[SFTP]: Parser: Unexpected packet before init"),this._cleanup(!1),r(new Error("Unexpected packet before init"));if(void 0!==y&&u===S.INIT)E("DEBUG[SFTP]: Parser: Unexpected duplicate init"),c="bad_pkt";else{if(g>34e3)return E("DEBUG[SFTP]: Parser: "+(z="Packet length ("+g+") exceeds max length (34000)")),this._cleanup(!1),r(new Error(z));u===S.EXTENDED?c="bad_pkt":void 0===S[u]&&(E("DEBUG[SFTP]: Parser: Unsupported packet type: "+u),c="discard")}}else{if(void 0===y&&u!==T.VERSION)return E("DEBUG[SFTP]: Parser: Unexpected packet before version"),this._cleanup(!1),r(new Error("Unexpected packet before version"));void 0!==y&&u===T.VERSION?(E("DEBUG[SFTP]: Parser: Unexpected duplicate version"),c="bad_pkt"):void 0===T[u]&&(c="discard")}"bad_pkt"===c?(m(_,g+1,0),_[4]=u,g=4,h=_):(h=Buffer.allocUnsafe(g),c="payload")}else g=5,h=_;else if("payload"===c){if(u===T.VERSION||u===S.INIT){if(!1===(y=s.version=d(n,0,this,r)))return;if(y<3)return this._cleanup(!1),r(new Error("Incompatible SFTP version: "+y));a&&this.push(O);var I,C,N=n.length;for(n._pos=4;n._pos<N;){if(!1===(I=l(n,n._pos,"ascii",this,r)))return;if(!1===(C=l(n,n._pos,"ascii",this,r)))return;s.extensions[I]?s.extensions[I].push(C):s.extensions[I]=[C]}this.emit("ready")}else{if(!1===(o=d(n,0,this,r)))return;var R,P,B,D;if(a){var x,H,M=S[u];if(E("DEBUG[SFTP]: Parser: Request: "+M),f(this,M)){if(u===S.OPEN){if(!1===(R=l(n,4,"utf8",this,r)))return;var F=d(n,n._pos,this,r);if(!1===F)return;if(!1===(P=U(n,n._pos+4,this,r)))return;this.emit(M,o,R,F,P)}else if(u===S.CLOSE||u===S.FSTAT||u===S.READDIR){if(!1===(B=l(n,4,this,r)))return;this.emit(M,o,B)}else if(u===S.READ){if(!1===(B=l(n,4,this,r)))return;if(!1===(x=L(n,n._pos,this,r)))return;var G=d(n,n._pos,this,r);if(!1===G)return;this.emit(M,o,B,x,G)}else if(u===S.WRITE){if(!1===(B=l(n,4,this,r)))return;if(!1===(x=L(n,n._pos,this,r)))return;if(!1===(D=l(n,n._pos,this,r)))return;this.emit(M,o,B,x,D)}else if(u===S.LSTAT||u===S.STAT||u===S.OPENDIR||u===S.REMOVE||u===S.RMDIR||u===S.REALPATH||u===S.READLINK){if(!1===(H=l(n,4,"utf8",this,r)))return;this.emit(M,o,H)}else if(u===S.SETSTAT||u===S.MKDIR){if(!1===(H=l(n,4,"utf8",this,r)))return;if(!1===(P=U(n,n._pos,this,r)))return;this.emit(M,o,H,P)}else if(u===S.FSETSTAT){if(!1===(B=l(n,4,this,r)))return;if(!1===(P=U(n,n._pos,this,r)))return;this.emit(M,o,B,P)}else if(u===S.RENAME||u===S.SYMLINK){var $,K;if(!1===($=l(n,4,"utf8",this,r)))return;if(!1===(K=l(n,n._pos,"utf8",this,r)))return;u===S.SYMLINK&&this._isOpenSSH?this.emit(M,o,K,$):this.emit(M,o,$,K)}}else this.status(o,w.OP_UNSUPPORTED)}else{var q=v[o],j=q&&q.cb;if(E("DEBUG[SFTP]: Parser: Response: "+T[u]),q&&j)if(u===T.STATUS){var W=d(n,4,this,r);if(!1===W)return;if(W===w.OK)j();else{var z,X="";if(n.length>=12){if(!1===(z=l(n,8,"utf8",this,r)))return;if(n._pos+4<n.length&&!1===(X=l(n,n._pos,"ascii",this,r)))return}var V=new Error(z||b[W]||"Unknown status");V.code=W,V.lang=X,j(V)}}else if(u===T.HANDLE){if(!1===(B=l(n,4,this,r)))return;j(void 0,B)}else if(u===T.DATA)if(q.buffer){var Y=d(n,4,this,r);if(!1===Y)return;var Q=q.buffer.length;if(Y>Q&&m(n,Q,4),!1===(D=l(n,4,q.buffer,this,r)))return;j(void 0,D,Y)}else{if(!1===(D=l(n,4,this,r)))return;j(void 0,D)}else if(u===T.NAME){var Z=d(n,4,this,r);if(!1===Z)return;var J,ee=[];n._pos=8;for(var te=0;te<Z;++te){if(!1===(R=l(n,n._pos,"utf8",this,r)))return;if(!1===(J=l(n,n._pos,"utf8",this,r)))return;if(!1===(P=U(n,n._pos,this,r)))return;ee.push({filename:R,longname:J,attrs:P})}j(void 0,ee)}else if(u===T.ATTRS){if(!1===(P=U(n,4,this,r)))return;j(void 0,P)}else if(u===T.EXTENDED){if(q.extended)switch(q.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":var re={f_bsize:void 0,f_frsize:void 0,f_blocks:void 0,f_bfree:void 0,f_bavail:void 0,f_files:void 0,f_ffree:void 0,f_favail:void 0,f_sid:void 0,f_flag:void 0,f_namemax:void 0};if(re.f_bsize=L(n,4,this,r),!1===re.f_bsize)return;if(re.f_frsize=L(n,12,this,r),!1===re.f_frsize)return;if(re.f_blocks=L(n,20,this,r),!1===re.f_blocks)return;if(re.f_bfree=L(n,28,this,r),!1===re.f_bfree)return;if(re.f_bavail=L(n,36,this,r),!1===re.f_bavail)return;if(re.f_files=L(n,44,this,r),!1===re.f_files)return;if(re.f_ffree=L(n,52,this,r),!1===re.f_ffree)return;if(re.f_favail=L(n,60,this,r),!1===re.f_favail)return;if(re.f_sid=L(n,68,this,r),!1===re.f_sid)return;if(re.f_flag=L(n,76,this,r),!1===re.f_flag)return;if(re.f_namemax=L(n,84,this,r),!1===re.f_namemax)return;j(void 0,re)}j()}q&&delete v[o]}}c="packet_header",n=h=void 0}else if("bad_pkt"===c){if(a&&n[4]!==S.INIT){var ne=n[4]===S.EXTENDED?w.OP_UNSUPPORTED:w.FAILURE;if(n[4]===S.INIT||n[4]===T.VERSION)return this._cleanup(r);if(!1===(o=d(n,5,this,r)))return;this.status(o,ne)}g=p(n,0)-5,c="discard"}}if(A>=k)break}s.status=c,s.pktType=u,s.pktBuf=h,s.pktLeft=g,s.version=y,r()},R.prototype.createReadStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new Z(this,e,t)},R.prototype.createWriteStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new ee(this,e,t)},R.prototype.open=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=this._state;"function"==typeof r&&(n=r,r=void 0);var o="number"==typeof t?t:G(t);if(null===o)throw new Error("Unknown flags string: "+t);var s=0,a=0;"string"!=typeof r&&"number"!=typeof r||(r={mode:r}),"object"==typeof r&&null!==r&&(s=(r=D(r)).flags,a=r.nbytes,r=r.bytes);var c=Buffer.byteLength(e),u=9,f=Buffer.allocUnsafe(13+c+4+4+a);m(f,f.length-4,0),f[4]=S.OPEN;var h=i.writeReqid=(i.writeReqid+1)%A;if(m(f,h,5),m(f,c,u),f.write(e,u+=4,c,"utf8"),m(f,o,u+=c),m(f,s,u+=4),r&&s){u+=4;for(var l=0,d=r.length;l<d;++l)for(var p=0,g=r[l].length;p<g;++p)f[u++]=r[l][p]}return i.requests[h]={cb:n},this.debug("DEBUG[SFTP]: Outgoing: Writing OPEN"),this.push(f)},R.prototype.close=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.CLOSE;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),e.copy(o,i+=4),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing CLOSE"),this.push(o)},R.prototype.readData=function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>=t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var s=this._state,a=e.length,c=9,u=i,f=Buffer.allocUnsafe(13+a+8+4);m(f,f.length-4,0),f[4]=S.READ;var h=s.writeReqid=(s.writeReqid+1)%A;m(f,h,5),m(f,a,c),e.copy(f,c+=4),c+=a;for(var l=7;l>=0;--l)f[c+l]=255&u,u/=256;return m(f,n,c+=8),s.requests[h]={cb:function(e,t,r){if(e){if(o._wantEOFError||e.code!==w.EOF)return o(e)}else if(r>n)return o(new Error("Received more data than requested"));o(void 0,r||0,t,i)},buffer:t.slice(r,r+n)},this.debug("DEBUG[SFTP]: Outgoing: Writing READ"),this.push(f)},R.prototype.writeData=function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var s=this,a=this._state;if(n){var c=n>a.maxDataLen?n-a.maxDataLen:0,u=i;c&&(n=a.maxDataLen);var f=e.length,h=9,l=Buffer.allocUnsafe(13+f+8+4+n);m(l,l.length-4,0),l[4]=S.WRITE;var d=a.writeReqid=(a.writeReqid+1)%A;m(l,d,5),m(l,f,h),e.copy(l,h+=4),h+=f;for(var p=7;p>=0;--p)l[h+p]=255&i,i/=256;return m(l,n,h+=8),t.copy(l,h+=4,r,r+n),a.requests[d]={cb:function(i){i?o&&o(i):c?s.writeData(e,t,r+n,c,u+n,o):o&&o(void 0,r+n)}},this.debug("DEBUG[SFTP]: Outgoing: Writing WRITE"),this.push(l)}o&&process.nextTick((function(){o(void 0,0)}))},R.prototype.fastGet=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");P(this,h,e,t,r,n)},R.prototype.fastPut=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");P(h,this,e,t,r,n)},R.prototype.readFile=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n;"function"==typeof r?n=r:"function"==typeof t&&(n=t,t=void 0);var i=this;if("string"==typeof t)t={encoding:t,flag:"r"};else if(t){if("object"!=typeof t)throw new TypeError("Bad arguments")}else t={encoding:null,flag:"r"};var o,s,a,c=t.encoding;if(c&&!Buffer.isEncoding(c))throw new Error("Unknown encoding: "+c);var u,f=0,h=0,l=t.flag||"r";function d(){0===o?(s=Buffer.allocUnsafe(8192),i.readData(u,s,0,8192,h,p)):i.readData(u,s,f,o-f,h,p)}function p(e,t){var r;if(e){if(!(r=e.code===w.EOF))return i.close(u,(function(){return n&&n(e)}))}else r=!1;if(r||0===o&&0===t)return m();h+=t,f+=t,0!==o?f===o?m():d():(a.push(s.slice(0,t)),d())}function m(){i.close(u,(function(e){return 0===o?s=Buffer.concat(a,f):f<o&&(s=s.slice(0,f)),c&&(s=s.toString(c)),n&&n(e,s)}))}this.open(e,l,438,(function(t,r){if(t)return n&&n(t);u=r,i.fstat(u,(function t(r,c){if(r)i.stat(e,(function(e,o){if(e)return i.close(u,(function(){n&&n(r)}));t(null,o)}));else{if(0===(o=c.size||0))return a=[],d();s=Buffer.allocUnsafe(o),d()}}))})),p._wantEOFError=!0},R.prototype.writeFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;"function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0);var o=this;if("string"==typeof r)r={encoding:r,mode:438,flag:"w"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"w"};if(r.encoding&&!Buffer.isEncoding(r.encoding))throw new Error("Unknown encoding: "+r.encoding);var s=r.flag||"w";this.open(e,s,r.mode,(function(n,a){if(n)i&&i(n);else{var c=Buffer.isBuffer(t)?t:Buffer.from(""+t,r.encoding||"utf8"),u=/a/.test(s)?null:0;if(null===u)return void o.fstat(a,(function t(r,n){r?o.stat(e,(function(e,n){if(e)return o.close(a,(function(){i&&i(r)}));t(null,n)})):B(o,a,c,0,c.length,n.size,i)}));B(o,a,c,0,c.length,u,i)}}))},R.prototype.appendFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;if("function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0),"string"==typeof r)r={encoding:r,mode:438,flag:"a"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"a"};r.flag||(r=a._extend({flag:"a"},r)),this.writeFile(e,t,r,i)},R.prototype.exists=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,(function(e){t&&t(!e)}))},R.prototype.unlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.REMOVE;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing REMOVE"),this.push(o)},R.prototype.rename=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(13+i+4+o);m(a,a.length-4,0),a[4]=S.RENAME;var c=n.writeReqid=(n.writeReqid+1)%A;return m(a,c,5),m(a,i,s),a.write(e,s+=4,i,"utf8"),m(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing RENAME"),this.push(a)},R.prototype.mkdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,o=this._state;"function"==typeof t&&(r=t,t=void 0),"object"==typeof t&&null!==t&&(n=(t=D(t)).flags,i=t.nbytes,t=t.bytes);var s=Buffer.byteLength(e),a=9,c=Buffer.allocUnsafe(13+s+4+i);m(c,c.length-4,0),c[4]=S.MKDIR;var u=o.writeReqid=(o.writeReqid+1)%A;if(m(c,u,5),m(c,s,a),c.write(e,a+=4,s,"utf8"),m(c,n,a+=s),n){a+=4;for(var f=0,h=t.length;f<h;++f)for(var l=0,d=t[f].length;l<d;++l)c[a++]=t[f][l]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing MKDIR"),this.push(c)},R.prototype.rmdir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.RMDIR;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing RMDIR"),this.push(o)},R.prototype.readdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this._state;if("function"==typeof t&&(r=t,t={}),"object"==typeof t&&null!==t||(t={}),n=!t||!t.full,!Buffer.isBuffer(e)&&"string"!=typeof e)throw new Error("missing directory handle or path");if("string"==typeof e){var o=this,s=[],a=0;return this.opendir(e,(function e(n,i){if(n)return r(n);o.readdir(i,t,(function(t,n){var c=t&&t.code===w.EOF;if(t&&!c)return o.close(i,(function(){r(t)}));if(c)return o.close(i,(function(e){if(e)return r(e);r(void 0,s)}));for(var u=0,f=n.length;u<f;++u,++a)s[a]=n[u];e(void 0,i)}))}))}var c=e.length,u=9,f=Buffer.allocUnsafe(13+c);m(f,f.length-4,0),f[4]=S.READDIR;var h=i.writeReqid=(i.writeReqid+1)%A;return m(f,h,5),m(f,c,u),e.copy(f,u+=4),i.requests[h]={cb:n?function(e,t){if(e)return r(e);for(var n=t.length-1;n>=0;--n)"."!==t[n].filename&&".."!==t[n].filename||t.splice(n,1);r(void 0,t)}:r},this.debug("DEBUG[SFTP]: Outgoing: Writing READDIR"),this.push(f)},R.prototype.fstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.FSTAT;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),e.copy(o,i+=4),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing FSTAT"),this.push(o)},R.prototype.stat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.STAT;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing STAT"),this.push(o)},R.prototype.lstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.LSTAT;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing LSTAT"),this.push(o)},R.prototype.opendir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.OPENDIR;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing OPENDIR"),this.push(o)},R.prototype.setstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,o=this._state;"object"==typeof t&&null!==t?(n=(t=D(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var s=Buffer.byteLength(e),a=9,c=Buffer.allocUnsafe(13+s+4+i);m(c,c.length-4,0),c[4]=S.SETSTAT;var u=o.writeReqid=(o.writeReqid+1)%A;if(m(c,u,5),m(c,s,a),c.write(e,a+=4,s,"utf8"),m(c,n,a+=s),n){a+=4;for(var f=0,h=t.length;f<h;++f)for(var l=0,d=t[f].length;l<d;++l)c[a++]=t[f][l]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SETSTAT"),this.push(c)},R.prototype.fsetstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=0,i=0,o=this._state;"object"==typeof t&&null!==t?(n=(t=D(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var s=e.length,a=9,c=Buffer.allocUnsafe(13+s+4+i);m(c,c.length-4,0),c[4]=S.FSETSTAT;var u=o.writeReqid=(o.writeReqid+1)%A;if(m(c,u,5),m(c,s,a),e.copy(c,a+=4),m(c,n,a+=s),n){a+=4;for(var f=0,h=t.length;f<h;++f)for(var l=0,d=t[f].length;l<d;++l)c[a++]=t[f][l]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing FSETSTAT"),this.push(c)},R.prototype.futimes=function(e,t,r,n){return this.fsetstat(e,{atime:x(t),mtime:x(r)},n)},R.prototype.utimes=function(e,t,r,n){return this.setstat(e,{atime:x(t),mtime:x(r)},n)},R.prototype.fchown=function(e,t,r,n){return this.fsetstat(e,{uid:t,gid:r},n)},R.prototype.chown=function(e,t,r,n){return this.setstat(e,{uid:t,gid:r},n)},R.prototype.fchmod=function(e,t,r){return this.fsetstat(e,{mode:t},r)},R.prototype.chmod=function(e,t,r){return this.setstat(e,{mode:t},r)},R.prototype.readlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.READLINK;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing link info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing READLINK"),this.push(o)},R.prototype.symlink=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(t),o=Buffer.byteLength(e),s=9,a=Buffer.allocUnsafe(13+i+4+o);m(a,a.length-4,0),a[4]=S.SYMLINK;var c=n.writeReqid=(n.writeReqid+1)%A;return m(a,c,5),this._isOpenSSH?(m(a,o,s),a.write(e,s+=4,o,"utf8"),m(a,i,s+=o),a.write(t,s+=4,i,"utf8")):(m(a,i,s),a.write(t,s+=4,i,"utf8"),m(a,o,s+=i),a.write(e,s+=4,o,"utf8")),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SYMLINK"),this.push(a)},R.prototype.realpath=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=S.REALPATH;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing path info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing REALPATH"),this.push(o)},R.prototype.ext_openssh_rename=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["posix-rename@openssh.com"]||-1===n.extensions["posix-rename@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(41+i+4+o);m(a,a.length-4,0),a[4]=S.EXTENDED;var c=n.writeReqid=(n.writeReqid+1)%A;return m(a,c,5),m(a,24,s),a.write("posix-rename@openssh.com",s+=4,24,"ascii"),m(a,i,s+=24),a.write(e,s+=4,i,"utf8"),m(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing posix-rename@openssh.com"),this.push(a)},R.prototype.ext_openssh_statvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["statvfs@openssh.com"]||-1===r.extensions["statvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");var n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(36+n);m(o,o.length-4,0),o[4]=S.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,19,i),o.write("statvfs@openssh.com",i+=4,19,"ascii"),m(o,n,i+=19),o.write(e,i+=4,n,"utf8"),r.requests[s]={extended:"statvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing statvfs@openssh.com"),this.push(o)},R.prototype.ext_openssh_fstatvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fstatvfs@openssh.com"]||-1===r.extensions["fstatvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=Buffer.allocUnsafe(37+n);m(o,o.length-4,0),o[4]=S.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,20,i),o.write("fstatvfs@openssh.com",i+=4,20,"ascii"),m(o,n,i+=20),o.write(e,i+=4,n,"utf8"),r.requests[s]={extended:"fstatvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fstatvfs@openssh.com"),this.push(o)},R.prototype.ext_openssh_hardlink=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["hardlink@openssh.com"]||-1===n.extensions["hardlink@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(37+i+4+o);m(a,a.length-4,0),a[4]=S.EXTENDED;var c=n.writeReqid=(n.writeReqid+1)%A;return m(a,c,5),m(a,20,s),a.write("hardlink@openssh.com",s+=4,20,"ascii"),m(a,i,s+=20),a.write(e,s+=4,i,"utf8"),m(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing hardlink@openssh.com"),this.push(a)},R.prototype.ext_openssh_fsync=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fsync@openssh.com"]||-1===r.extensions["fsync@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=Buffer.allocUnsafe(34+n);m(o,o.length-4,0),o[4]=S.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%A;return m(o,s,5),m(o,17,i),o.write("fsync@openssh.com",i+=4,17,"ascii"),m(o,n,i+=17),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fsync@openssh.com"),this.push(o)},R.prototype.status=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");if(!w[t]||"number"!=typeof t)throw new Error("Bad status code: "+t);r||(r=""),n||(n="");var i=Buffer.byteLength(r),o=Buffer.byteLength(n),s=Buffer.allocUnsafe(17+i+4+o);return m(s,s.length-4,0),s[4]=T.STATUS,m(s,e,5),m(s,t,9),m(s,i,13),i&&s.write(r,17,i,"utf8"),m(s,o,17+i),o&&s.write(n,17+i+4,o,"ascii"),this.debug("DEBUG[SFTP]: Outgoing: Writing STATUS"),this.push(s)},R.prototype.handle=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(t))throw new Error("handle is not a Buffer");var r=t.length;if(r>256)throw new Error("handle too large (> 256 bytes)");var n=Buffer.allocUnsafe(13+r);return m(n,n.length-4,0),n[4]=T.HANDLE,m(n,e,5),m(n,r,9),r&&t.copy(n,13),this.debug("DEBUG[SFTP]: Outgoing: Writing HANDLE"),this.push(n)},R.prototype.data=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n=Buffer.isBuffer(t);if(!n&&"string"!=typeof t)throw new Error("data is not a Buffer or string");n||r||(r="utf8");var i=n?t.length:Buffer.byteLength(t,r),o=Buffer.allocUnsafe(13+i);return m(o,o.length-4,0),o[4]=T.DATA,m(o,e,5),m(o,i,9),i&&(n?t.copy(o,13):o.write(t,13,i,r)),this.debug("DEBUG[SFTP]: Outgoing: Writing DATA"),this.push(o)},R.prototype.name=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Array.isArray(t)){if("object"!=typeof t||null===t)throw new Error("names is not an object or array");t=[t]}var r,n,i,o,s,a,c,u,f,h,l,d,p=t.length,g=0,y=[];for(h=0;h<p;++h)i=(n=t[h])&&n.filename&&"string"==typeof n.filename?n.filename:"",g+=4+Buffer.byteLength(i),o=n&&n.longname&&"string"==typeof n.longname?n.longname:"",g+=4+Buffer.byteLength(o),"object"==typeof n.attrs&&null!==n.attrs?(g+=4+(r=D(n.attrs)).nbytes,y.push(r)):(g+=4,y.push(null));for(u=Buffer.allocUnsafe(13+g),m(u,u.length-4,0),u[4]=T.NAME,m(u,e,5),m(u,p,9),f=13,h=0;h<p;++h)if(i=(n=t[h])&&n.filename&&"string"==typeof n.filename?n.filename:"",a=Buffer.byteLength(i),m(u,a,f),f+=4,a&&(u.write(i,f,a,"utf8"),f+=a),o=n&&n.longname&&"string"==typeof n.longname?n.longname:"",a=Buffer.byteLength(o),m(u,a,f),f+=4,a&&(u.write(o,f,a,"utf8"),f+=a),s=y[h]){if(m(u,s.flags,f),f+=4,s.flags&&s.bytes){var _=s.bytes;for(l=0,a=_.length;l<a;++l)for(d=0,c=_[l].length;d<c;++d)u[f++]=_[l][d]}}else m(u,0,f),f+=4;return this.debug("DEBUG[SFTP]: Outgoing: Writing NAME"),this.push(u)},R.prototype.attrs=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if("object"!=typeof t||null===t)throw new Error("attrs is not an object");var r=D(t),n=Buffer.allocUnsafe(13+r.nbytes),i=13;if(m(n,n.length-4,0),n[4]=T.ATTRS,m(n,e,5),m(n,r.flags,9),r.flags&&r.bytes)for(var o=r.bytes,s=0,a=o.length;s<a;++s)for(var c=0,u=o[s].length;c<u;++c)n[i++]=o[s][c];return this.debug("DEBUG[SFTP]: Outgoing: Writing ATTRS"),this.push(n)};var M={r:k.READ,"r+":k.READ|k.WRITE,w:k.TRUNC|k.CREAT|k.WRITE,wx:k.TRUNC|k.CREAT|k.WRITE|k.EXCL,xw:k.TRUNC|k.CREAT|k.WRITE|k.EXCL,"w+":k.TRUNC|k.CREAT|k.READ|k.WRITE,"wx+":k.TRUNC|k.CREAT|k.READ|k.WRITE|k.EXCL,"xw+":k.TRUNC|k.CREAT|k.READ|k.WRITE|k.EXCL,a:k.APPEND|k.CREAT|k.WRITE,ax:k.APPEND|k.CREAT|k.WRITE|k.EXCL,xa:k.APPEND|k.CREAT|k.WRITE|k.EXCL,"a+":k.APPEND|k.CREAT|k.READ|k.WRITE,"ax+":k.APPEND|k.CREAT|k.READ|k.WRITE|k.EXCL,"xa+":k.APPEND|k.CREAT|k.READ|k.WRITE|k.EXCL},F=Object.keys(M);function G(e){var t=M[e];return void 0!==t?t:null}function $(e){this.mode=e&&e.mode,this.permissions=this.mode,this.uid=e&&e.uid,this.gid=e&&e.gid,this.size=e&&e.size,this.atime=e&&e.atime,this.mtime=e&&e.mtime}R.stringToFlags=G,R.flagsToString=function(e){for(var t=0;t<F.length;++t){var r=F[t];if(M[r]===e)return r}return null},$.prototype._checkModeProperty=function(e){return(this.mode&s.S_IFMT)===e},$.prototype.isDirectory=function(){return this._checkModeProperty(s.S_IFDIR)},$.prototype.isFile=function(){return this._checkModeProperty(s.S_IFREG)},$.prototype.isBlockDevice=function(){return this._checkModeProperty(s.S_IFBLK)},$.prototype.isCharacterDevice=function(){return this._checkModeProperty(s.S_IFCHR)},$.prototype.isSymbolicLink=function(){return this._checkModeProperty(s.S_IFLNK)},$.prototype.isFIFO=function(){return this._checkModeProperty(s.S_IFIFO)},$.prototype.isSocket=function(){return this._checkModeProperty(s.S_IFSOCK)},R.Stats=$;var K,q=r(81),j=q.validateNumber,W=q.destroyImpl,z=q.ERR_OUT_OF_RANGE,X=q.ERR_INVALID_ARG_TYPE,V=[];function Y(e,t){if(!Number.isSafeInteger(e)){if(j(e,t),!Number.isInteger(e))throw new z(t,"an integer",e);throw new z(t,">= 0 and <= 2 ** 53 - 1",e)}if(e<0)throw new z(t,">= 0 and <= 2 ** 53 - 1",e)}function Q(e){return e+7&-8}function Z(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(void 0===r.highWaterMark&&(r.highWaterMark=65536),r.emitClose=!1,i.call(this,r),this.path=t,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesRead=0,this.closed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(Y(this.start,"start"),this.pos=this.start),void 0===this.end)this.end=1/0;else if(this.end!==1/0&&(Y(this.end,"end"),void 0!==this.start&&this.start>this.end))throw new z("start",`<= "end" (here: ${this.end})`,this.start);this.on("end",(function(){this.autoClose&&this.destroy()})),Buffer.isBuffer(this.handle)||this.open()}function J(e,t,r){if(!e.handle)return n();function n(n){t(n=n||r),e.closed=!0,n||e.emit("close")}e.sftp.close(e.handle,n)}function ee(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}r.emitClose=!1,o.call(this,r),this.path=t,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesWritten=0,this.closed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(Y(this.start,"start"),this.pos=this.start),r.encoding&&this.setDefaultEncoding(r.encoding),this.on("finish",(function(){this._writableState.finalCalled||this.autoClose&&this.destroy()})),Buffer.isBuffer(this.handle)||this.open()}c(Z,i),Z.prototype.open=function(){this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(e,t)=>{if(this._opening=!1,e)return this.emit("error",e),void(this.autoClose&&this.destroy());this.handle=t,this.emit("open",t),this.emit("ready"),this.read()}))},Z.prototype._read=function(e){if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._read(e)}));if(!this.destroyed){var t;(!K||K.length-K.used<128)&&(t=this.readableHighWaterMark||this._readableState.highWaterMark,(K=V.length>0?V.pop():Buffer.allocUnsafe(t)).used=0);var r=K,n=Math.min(K.length-K.used,e),i=K.used;if(void 0!==this.end&&(n=Math.min(this.end-this.pos+1,n)),n<=0)return this.push(null);this.sftp.readData(this.handle,K,K.used,n,this.pos,(e,t)=>{if(e)return this.emit("error",e),void(this.autoClose&&this.destroy());var o=null;if(i+n===r.used&&r===K){var s=r.used+t-n;r.used=Q(s)}else{var a=i+n&-8,c=Q(i+t);a-c>=128&&V.push(r.slice(c,a))}t>0&&(this.bytesRead+=t,o=r.slice(i,i+t)),this.pos+=t,this.push(o)}),K.used=Q(K.used+n)}},"function"!=typeof i.prototype.destroy&&(Z.prototype.destroy=W),Z.prototype._destroy=function(e,t){!this._opening||Buffer.isBuffer(this.handle)?(J(this,t,e),this.handle=null,this._opening=!1):this.once("open",J.bind(null,this,t,e))},Z.prototype.close=function(e){this.destroy(null,e)},Object.defineProperty(Z.prototype,"pending",{get(){return null===this.handle},configurable:!0}),c(ee,o),ee.prototype._final=function(e){this.autoClose&&this.destroy(),e()},ee.prototype.open=function(){this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(e,t)=>{if(this._opening=!1,e)return this.emit("error",e),void(this.autoClose&&this.destroy());this.handle=t;var r=e=>{if(e)this.sftp.chmod(this.path,this.mode,e=>{r()});else if("a"!==this.flags[0])this.emit("open",t),this.emit("ready");else{var n=(e,r)=>{e?this.sftp.stat(this.path,(t,r)=>{if(t)return this.destroy(),void this.emit("error",e);n(null,r)}):(this.pos=r.size,this.emit("open",t),this.emit("ready"))};this.sftp.fstat(t,n)}};this.sftp.fchmod(t,this.mode,r)}))},ee.prototype._write=function(e,t,r){if(!Buffer.isBuffer(e)){const t=new X("data","Buffer",e);return this.emit("error",t)}if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._write(e,t,r)}));this.sftp.writeData(this.handle,e,0,e.length,this.pos,(e,t)=>{if(e)return this.autoClose&&this.destroy(),r(e);this.bytesWritten+=t,r()}),this.pos+=e.length},ee.prototype._writev=function(e,t){if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._writev(e,t)}));for(var r=this.sftp,n=this.handle,i=e.length,o=(e,r)=>{if(e)return this.destroy(),t(e);this.bytesWritten+=r,0==--i&&t()},s=0;s<e.length;++s){var a=e[s].chunk;r.writeData(n,a,0,a.length,this.pos,o),this.pos+=a.length}},"function"!=typeof o.prototype.destroy&&(ee.prototype.destroy=Z.prototype.destroy),ee.prototype._destroy=Z.prototype._destroy,ee.prototype.close=function(e){if(e){if(this.closed)return void process.nextTick(e);this.on("close",e)}this.autoClose||this.on("finish",this.destroy.bind(this)),this.end()},ee.prototype.destroySoon=ee.prototype.end,Object.defineProperty(ee.prototype,"pending",{get(){return null===this.handle},configurable:!0}),e.exports=R},function(e,t,r){var n=r(28),i=r(29),o=r(76),s=r(77);for(var a in e.exports={Reader:o,Writer:s},i)i.hasOwnProperty(a)&&(e.exports[a]=i[a]);for(var c in n)n.hasOwnProperty(c)&&(e.exports[c]=n[c])},function(e,t,r){var n=r(39),i=r(40).Buffer,o=r(29),s=r(28).newInvalidAsn1Error;function a(e){if(!e||!i.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(a.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(a.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(a.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),a.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},a.prototype.peek=function(){return this.readByte(!0)},a.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(0===(t&=127))throw s("Indefinite length not supported");if(t>4)throw s("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},a.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},a.prototype.readInt=function(){return this._readTag(o.Integer)},a.prototype.readBoolean=function(){return 0!==this._readTag(o.Boolean)},a.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)},a.prototype.readString=function(e,t){e||(e=o.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?i.alloc(0):"";var a=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?a:a.toString("utf8")},a.prototype.readOID=function(e){e||(e=o.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var s=255&t[i];n<<=7,n+=127&s,0==(128&s)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(".")},a.prototype._readTag=function(e){n.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw s("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var i=this._buf[this._offset],o=0,a=0;a<this.length;a++)o<<=8,o|=255&this._buf[this._offset++];return 128==(128&i)&&4!==a&&(o-=1<<8*a),o>>0},e.exports=a},function(e,t,r){var n=r(39),i=r(40).Buffer,o=r(29),s=r(28).newInvalidAsn1Error,a={size:1024,growthFactor:8};function c(e){var t,r;t=a,r=e||{},n.ok(t),n.equal(typeof t,"object"),n.ok(r),n.equal(typeof r,"object"),Object.getOwnPropertyNames(t).forEach((function(e){if(!r[e]){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n)}})),e=r,this._buf=i.alloc(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}Object.defineProperty(c.prototype,"buffer",{get:function(){if(this._seq.length)throw s(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),c.prototype.writeByte=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},c.prototype.writeInt=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");"number"!=typeof t&&(t=o.Integer);for(var r=4;(0==(4286578688&e)||-8388608==(4286578688&e))&&r>1;)r--,e<<=8;if(r>4)throw s("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=t,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&e)>>>24,e<<=8},c.prototype.writeNull=function(){this.writeByte(o.Null),this.writeByte(0)},c.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");return"number"!=typeof t&&(t=o.Enumeration),this.writeInt(e,t)},c.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw new TypeError("argument must be a Boolean");"number"!=typeof t&&(t=o.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=e?255:0},c.prototype.writeString=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string (was: "+typeof e+")");"number"!=typeof t&&(t=o.OctetString);var r=i.byteLength(e);this.writeByte(t),this.writeLength(r),r&&(this._ensure(r),this._buf.write(e,this._offset),this._offset+=r)},c.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw new TypeError("tag must be a number");if(!i.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},c.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach((function(e){t.writeString(e)}))},c.prototype.writeOID=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string");if("number"!=typeof t&&(t=o.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");var r=e.split("."),n=[];n.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach((function(e){!function(e,t){t<128?e.push(t):t<16384?(e.push(t>>>7|128),e.push(127&t)):t<2097152?(e.push(t>>>14|128),e.push(255&(t>>>7|128)),e.push(127&t)):t<268435456?(e.push(t>>>21|128),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t)):(e.push(255&(t>>>28|128)),e.push(255&(t>>>21|128)),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t))}(n,parseInt(e,10))}));var i=this;this._ensure(2+n.length),this.writeByte(t),this.writeLength(n.length),n.forEach((function(e){i.writeByte(e)}))},c.prototype.writeLength=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else{if(!(e<=16777215))throw s("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e}},c.prototype.startSequence=function(e){"number"!=typeof e&&(e=o.Sequence|o.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},c.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,r=this._offset-t;if(r<=127)this._shift(t,r,-2),this._buf[e]=r;else if(r<=255)this._shift(t,r,-1),this._buf[e]=129,this._buf[e+1]=r;else if(r<=65535)this._buf[e]=130,this._buf[e+1]=r>>8,this._buf[e+2]=r;else{if(!(r<=16777215))throw s("Sequence too long");this._shift(t,r,1),this._buf[e]=131,this._buf[e+1]=r>>16,this._buf[e+2]=r>>8,this._buf[e+3]=r}},c.prototype._shift=function(e,t,r){n.ok(void 0!==e),n.ok(void 0!==t),n.ok(r),this._buf.copy(this._buf,e+r,e,e+t),this._offset+=r},c.prototype._ensure=function(e){if(n.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var r=i.alloc(t);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=t}},e.exports=c},function(e,t,r){"use strict";var n=r(79).lowlevel.crypto_hash,i=0,o=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function s(e,t,r){return(e[0][t[r+3]]+e[1][t[r+2]]^e[2][t[r+1]])+e[3][t[r]]}function a(e,t){var r,n=0;for(r=0;r<4;r++,i++)i>=t&&(i=0),n=n<<8|e[i];return n}o.prototype.encipher=function(e,t){void 0===t&&(t=new Uint8Array(e.buffer),0!==e.byteOffset&&(t=t.subarray(e.byteOffset))),e[0]^=this.P[0];for(var r=1;r<16;r+=2)e[1]^=s(this.S,t,0)^this.P[r],e[0]^=s(this.S,t,4)^this.P[r+1];var n=e[0];e[0]=e[1]^this.P[17],e[1]=n},o.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);0!==e.byteOffset&&(t=t.subarray(e.byteOffset)),e[0]^=this.P[17];for(var r=16;r>0;r-=2)e[1]^=s(this.S,t,0)^this.P[r],e[0]^=s(this.S,t,4)^this.P[r-1];var n=e[0];e[0]=e[1]^this.P[0],e[1]=n},o.prototype.expand0state=function(e,t){var r,n,o=new Uint32Array(2),s=new Uint8Array(o.buffer);for(r=0,i=0;r<18;r++)this.P[r]^=a(e,t);for(i=0,r=0;r<18;r+=2)this.encipher(o,s),this.P[r]=o[0],this.P[r+1]=o[1];for(r=0;r<4;r++)for(n=0;n<256;n+=2)this.encipher(o,s),this.S[r][n]=o[0],this.S[r][n+1]=o[1]},o.prototype.expandstate=function(e,t,r,n){var o,s,c=new Uint32Array(2);for(o=0,i=0;o<18;o++)this.P[o]^=a(r,n);for(o=0,i=0;o<18;o+=2)c[0]^=a(e,t),c[1]^=a(e,t),this.encipher(c),this.P[o]=c[0],this.P[o+1]=c[1];for(o=0;o<4;o++)for(s=0;s<256;s+=2)c[0]^=a(e,t),c[1]^=a(e,t),this.encipher(c),this.S[o][s]=c[0],this.S[o][s+1]=c[1];i=0},o.prototype.enc=function(e,t){for(var r=0;r<t;r++)this.encipher(e.subarray(2*r))},o.prototype.dec=function(e,t){for(var r=0;r<t;r++)this.decipher(e.subarray(2*r))};function c(e,t,r){var n,i=new o,s=new Uint32Array(8),c=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(i.expandstate(t,64,e,64),n=0;n<64;n++)i.expand0state(t,64),i.expand0state(e,64);for(n=0;n<8;n++)s[n]=a(c,c.byteLength);for(n=0;n<64;n++)i.enc(s,s.byteLength/8);for(n=0;n<8;n++)r[4*n+3]=s[n]>>>24,r[4*n+2]=s[n]>>>16,r[4*n+1]=s[n]>>>8,r[4*n+0]=s[n]}e.exports={BLOCKS:8,HASHSIZE:32,hash:c,pbkdf:function(e,t,r,i,o,s,a){var u,f,h,l,d,p,m=new Uint8Array(64),g=new Uint8Array(64),y=new Uint8Array(32),_=new Uint8Array(32),v=new Uint8Array(i+4),E=s;if(a<1)return-1;if(0===t||0===i||0===s||s>y.byteLength*y.byteLength||i>1<<20)return-1;for(l=Math.floor((s+y.byteLength-1)/y.byteLength),h=Math.floor((s+l-1)/l),u=0;u<i;u++)v[u]=r[u];for(n(m,e,t),p=1;s>0;p++){for(v[i+0]=p>>>24,v[i+1]=p>>>16,v[i+2]=p>>>8,v[i+3]=p,n(g,v,i+4),c(m,g,_),u=y.byteLength;u--;)y[u]=_[u];for(u=1;u<a;u++)for(n(g,_,_.byteLength),c(m,g,_),f=0;f<y.byteLength;f++)y[f]^=_[f];for(h=Math.min(h,s),u=0;u<h&&!((d=u*l+(p-1))>=E);u++)o[d]=y[u];s-=u}return 0}}},function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function g(e,t,r,n){return m(e,t,r,n,16)}function y(e,t,r,n){return m(e,t,r,n,32)}function _(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,_=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,b=s,S=a,T=c,k=u,A=f,I=h,O=l,C=d,N=p,R=m,P=g,B=y,U=_,L=v,D=E,x=0;x<20;x+=2)w^=(i=(B^=(i=(C^=(i=(k^=(i=w+B|0)<<7|i>>>25)+w|0)<<9|i>>>23)+k|0)<<13|i>>>19)+C|0)<<18|i>>>14,A^=(i=(b^=(i=(U^=(i=(N^=(i=A+b|0)<<7|i>>>25)+A|0)<<9|i>>>23)+N|0)<<13|i>>>19)+U|0)<<18|i>>>14,R^=(i=(I^=(i=(S^=(i=(L^=(i=R+I|0)<<7|i>>>25)+R|0)<<9|i>>>23)+L|0)<<13|i>>>19)+S|0)<<18|i>>>14,D^=(i=(P^=(i=(O^=(i=(T^=(i=D+P|0)<<7|i>>>25)+D|0)<<9|i>>>23)+T|0)<<13|i>>>19)+O|0)<<18|i>>>14,w^=(i=(T^=(i=(S^=(i=(b^=(i=w+T|0)<<7|i>>>25)+w|0)<<9|i>>>23)+b|0)<<13|i>>>19)+S|0)<<18|i>>>14,A^=(i=(k^=(i=(O^=(i=(I^=(i=A+k|0)<<7|i>>>25)+A|0)<<9|i>>>23)+I|0)<<13|i>>>19)+O|0)<<18|i>>>14,R^=(i=(N^=(i=(C^=(i=(P^=(i=R+N|0)<<7|i>>>25)+R|0)<<9|i>>>23)+P|0)<<13|i>>>19)+C|0)<<18|i>>>14,D^=(i=(L^=(i=(U^=(i=(B^=(i=D+L|0)<<7|i>>>25)+D|0)<<9|i>>>23)+B|0)<<13|i>>>19)+U|0)<<18|i>>>14;w=w+o|0,b=b+s|0,S=S+a|0,T=T+c|0,k=k+u|0,A=A+f|0,I=I+h|0,O=O+l|0,C=C+d|0,N=N+p|0,R=R+m|0,P=P+g|0,B=B+y|0,U=U+_|0,L=L+v|0,D=D+E|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=b>>>0&255,e[5]=b>>>8&255,e[6]=b>>>16&255,e[7]=b>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=k>>>0&255,e[17]=k>>>8&255,e[18]=k>>>16&255,e[19]=k>>>24&255,e[20]=A>>>0&255,e[21]=A>>>8&255,e[22]=A>>>16&255,e[23]=A>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=O>>>0&255,e[29]=O>>>8&255,e[30]=O>>>16&255,e[31]=O>>>24&255,e[32]=C>>>0&255,e[33]=C>>>8&255,e[34]=C>>>16&255,e[35]=C>>>24&255,e[36]=N>>>0&255,e[37]=N>>>8&255,e[38]=N>>>16&255,e[39]=N>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=B>>>0&255,e[49]=B>>>8&255,e[50]=B>>>16&255,e[51]=B>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,r,n)}function v(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,_=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)o^=(i=(y^=(i=(d^=(i=(u^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,f^=(i=(s^=(i=(_^=(i=(p^=(i=f+s|0)<<7|i>>>25)+f|0)<<9|i>>>23)+p|0)<<13|i>>>19)+_|0)<<18|i>>>14,m^=(i=(h^=(i=(a^=(i=(v^=(i=m+h|0)<<7|i>>>25)+m|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,E^=(i=(g^=(i=(l^=(i=(c^=(i=E+g|0)<<7|i>>>25)+E|0)<<9|i>>>23)+c|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(c^=(i=(a^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,f^=(i=(u^=(i=(l^=(i=(h^=(i=f+u|0)<<7|i>>>25)+f|0)<<9|i>>>23)+h|0)<<13|i>>>19)+l|0)<<18|i>>>14,m^=(i=(p^=(i=(d^=(i=(g^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+d|0)<<18|i>>>14,E^=(i=(v^=(i=(_^=(i=(y^=(i=E+v|0)<<7|i>>>25)+E|0)<<9|i>>>23)+y|0)<<13|i>>>19)+_|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=f>>>0&255,e[5]=f>>>8&255,e[6]=f>>>16&255,e[7]=f>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,i,o,s){var a,c,u=new Uint8Array(16),f=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(_(f,u,s,E),c=0;c<64;c++)e[t+c]=r[n+c]^f[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(_(f,u,s,E),c=0;c<i;c++)e[t+c]=r[n+c]^f[c];return 0}function b(e,t,r,n,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(_(c,a,i,E),s=0;s<64;s++)e[t+s]=c[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(_(c,a,i,E),s=0;s<r;s++)e[t+s]=c[s];return 0}function S(e,t,r,n,i){var o=new Uint8Array(32);v(o,n,i,E);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return b(e,t,r,s,o)}function T(e,t,r,n,i,o,s){var a=new Uint8Array(32);v(a,o,s,E);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return w(e,t,r,n,i,c,a)}var k=function(e){var t,r,n,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function A(e,t,r,n,i,o){var s=new k(o);return s.update(r,n,i),s.finish(e,t),0}function I(e,t,r,n,i,o){var s=new Uint8Array(16);return A(s,0,r,n,i,o),g(e,t,s,0)}function O(e,t,r,n,i){var o;if(r<32)return-1;for(T(e,0,t,0,r,n,i),A(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function C(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(S(s,0,32,n,i),0!==I(t,16,t,32,r-32,s))return-1;for(T(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function N(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function R(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function B(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(R(a),R(a),R(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,P(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function U(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return B(r,e),B(n,t),y(r,0,n,0)}function L(e){var t=new Uint8Array(32);return B(t,e),1&t[0]}function D(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function x(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function H(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function M(e,t,r){var n,i,o=0,s=0,a=0,c=0,u=0,f=0,h=0,l=0,d=0,p=0,m=0,g=0,y=0,_=0,v=0,E=0,w=0,b=0,S=0,T=0,k=0,A=0,I=0,O=0,C=0,N=0,R=0,P=0,B=0,U=0,L=0,D=r[0],x=r[1],H=r[2],M=r[3],F=r[4],G=r[5],$=r[6],K=r[7],q=r[8],j=r[9],W=r[10],z=r[11],X=r[12],V=r[13],Y=r[14],Q=r[15];o+=(n=t[0])*D,s+=n*x,a+=n*H,c+=n*M,u+=n*F,f+=n*G,h+=n*$,l+=n*K,d+=n*q,p+=n*j,m+=n*W,g+=n*z,y+=n*X,_+=n*V,v+=n*Y,E+=n*Q,s+=(n=t[1])*D,a+=n*x,c+=n*H,u+=n*M,f+=n*F,h+=n*G,l+=n*$,d+=n*K,p+=n*q,m+=n*j,g+=n*W,y+=n*z,_+=n*X,v+=n*V,E+=n*Y,w+=n*Q,a+=(n=t[2])*D,c+=n*x,u+=n*H,f+=n*M,h+=n*F,l+=n*G,d+=n*$,p+=n*K,m+=n*q,g+=n*j,y+=n*W,_+=n*z,v+=n*X,E+=n*V,w+=n*Y,b+=n*Q,c+=(n=t[3])*D,u+=n*x,f+=n*H,h+=n*M,l+=n*F,d+=n*G,p+=n*$,m+=n*K,g+=n*q,y+=n*j,_+=n*W,v+=n*z,E+=n*X,w+=n*V,b+=n*Y,S+=n*Q,u+=(n=t[4])*D,f+=n*x,h+=n*H,l+=n*M,d+=n*F,p+=n*G,m+=n*$,g+=n*K,y+=n*q,_+=n*j,v+=n*W,E+=n*z,w+=n*X,b+=n*V,S+=n*Y,T+=n*Q,f+=(n=t[5])*D,h+=n*x,l+=n*H,d+=n*M,p+=n*F,m+=n*G,g+=n*$,y+=n*K,_+=n*q,v+=n*j,E+=n*W,w+=n*z,b+=n*X,S+=n*V,T+=n*Y,k+=n*Q,h+=(n=t[6])*D,l+=n*x,d+=n*H,p+=n*M,m+=n*F,g+=n*G,y+=n*$,_+=n*K,v+=n*q,E+=n*j,w+=n*W,b+=n*z,S+=n*X,T+=n*V,k+=n*Y,A+=n*Q,l+=(n=t[7])*D,d+=n*x,p+=n*H,m+=n*M,g+=n*F,y+=n*G,_+=n*$,v+=n*K,E+=n*q,w+=n*j,b+=n*W,S+=n*z,T+=n*X,k+=n*V,A+=n*Y,I+=n*Q,d+=(n=t[8])*D,p+=n*x,m+=n*H,g+=n*M,y+=n*F,_+=n*G,v+=n*$,E+=n*K,w+=n*q,b+=n*j,S+=n*W,T+=n*z,k+=n*X,A+=n*V,I+=n*Y,O+=n*Q,p+=(n=t[9])*D,m+=n*x,g+=n*H,y+=n*M,_+=n*F,v+=n*G,E+=n*$,w+=n*K,b+=n*q,S+=n*j,T+=n*W,k+=n*z,A+=n*X,I+=n*V,O+=n*Y,C+=n*Q,m+=(n=t[10])*D,g+=n*x,y+=n*H,_+=n*M,v+=n*F,E+=n*G,w+=n*$,b+=n*K,S+=n*q,T+=n*j,k+=n*W,A+=n*z,I+=n*X,O+=n*V,C+=n*Y,N+=n*Q,g+=(n=t[11])*D,y+=n*x,_+=n*H,v+=n*M,E+=n*F,w+=n*G,b+=n*$,S+=n*K,T+=n*q,k+=n*j,A+=n*W,I+=n*z,O+=n*X,C+=n*V,N+=n*Y,R+=n*Q,y+=(n=t[12])*D,_+=n*x,v+=n*H,E+=n*M,w+=n*F,b+=n*G,S+=n*$,T+=n*K,k+=n*q,A+=n*j,I+=n*W,O+=n*z,C+=n*X,N+=n*V,R+=n*Y,P+=n*Q,_+=(n=t[13])*D,v+=n*x,E+=n*H,w+=n*M,b+=n*F,S+=n*G,T+=n*$,k+=n*K,A+=n*q,I+=n*j,O+=n*W,C+=n*z,N+=n*X,R+=n*V,P+=n*Y,B+=n*Q,v+=(n=t[14])*D,E+=n*x,w+=n*H,b+=n*M,S+=n*F,T+=n*G,k+=n*$,A+=n*K,I+=n*q,O+=n*j,C+=n*W,N+=n*z,R+=n*X,P+=n*V,B+=n*Y,U+=n*Q,E+=(n=t[15])*D,s+=38*(b+=n*H),a+=38*(S+=n*M),c+=38*(T+=n*F),u+=38*(k+=n*G),f+=38*(A+=n*$),h+=38*(I+=n*K),l+=38*(O+=n*q),d+=38*(C+=n*j),p+=38*(N+=n*W),m+=38*(R+=n*z),g+=38*(P+=n*X),y+=38*(B+=n*V),_+=38*(U+=n*Y),v+=38*(L+=n*Q),o=(n=(o+=38*(w+=n*x))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=f,e[6]=h,e[7]=l,e[8]=d,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=_,e[14]=v,e[15]=E}function F(e,t){M(e,t,t)}function G(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)F(i,i),2!==n&&4!==n&&M(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function $(e,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),u=t(),f=t(),h=t(),l=t(),d=t(),p=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,D(a,n),o=0;o<16;o++)f[o]=a[o],l[o]=u[o]=h[o]=0;for(u[0]=l[0]=1,o=254;o>=0;--o)P(u,f,i=s[o>>>3]>>>(7&o)&1),P(h,l,i),x(d,u,h),H(u,u,h),x(h,f,l),H(f,f,l),F(l,d),F(p,u),M(u,h,u),M(h,f,d),x(d,u,h),H(u,u,h),F(f,u),H(h,l,p),M(u,h,c),x(u,u,l),M(h,h,u),M(u,l,p),M(l,f,a),F(f,d),P(u,f,i),P(h,l,i);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=h[o],a[o+48]=f[o],a[o+64]=l[o];var m=a.subarray(32),g=a.subarray(16);return G(m,m),M(g,g,m),B(e,g),0}function K(e,t){return $(e,t,o)}function q(e,t){return n(t,32),K(e,t)}function j(e,t,r){var n=new Uint8Array(32);return $(n,r,t),v(e,i,n,E)}k.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,c,u,f,h,l,d,p,m,g,y,_,v,E,w,b=this.fin?0:2048,S=this.h[0],T=this.h[1],k=this.h[2],A=this.h[3],I=this.h[4],O=this.h[5],C=this.h[6],N=this.h[7],R=this.h[8],P=this.h[9],B=this.r[0],U=this.r[1],L=this.r[2],D=this.r[3],x=this.r[4],H=this.r[5],M=this.r[6],F=this.r[7],G=this.r[8],$=this.r[9];r>=16;)l=h=0,l+=(S+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*B,l+=(T+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*$),l+=(k+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*G),l+=(A+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),h=(l+=(I+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*M))>>>13,l&=8191,l+=(O+=a>>>1&8191)*(5*H),l+=(C+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*x),l+=(N+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),l+=(R+=8191&(u>>>8|(f=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*L),d=h+=(l+=(P+=f>>>5|b)*(5*U))>>>13,d+=S*U,d+=T*B,d+=k*(5*$),d+=A*(5*G),h=(d+=I*(5*F))>>>13,d&=8191,d+=O*(5*M),d+=C*(5*H),d+=N*(5*x),d+=R*(5*D),h+=(d+=P*(5*L))>>>13,d&=8191,p=h,p+=S*L,p+=T*U,p+=k*B,p+=A*(5*$),h=(p+=I*(5*G))>>>13,p&=8191,p+=O*(5*F),p+=C*(5*M),p+=N*(5*H),p+=R*(5*x),m=h+=(p+=P*(5*D))>>>13,m+=S*D,m+=T*L,m+=k*U,m+=A*B,h=(m+=I*(5*$))>>>13,m&=8191,m+=O*(5*G),m+=C*(5*F),m+=N*(5*M),m+=R*(5*H),g=h+=(m+=P*(5*x))>>>13,g+=S*x,g+=T*D,g+=k*L,g+=A*U,h=(g+=I*B)>>>13,g&=8191,g+=O*(5*$),g+=C*(5*G),g+=N*(5*F),g+=R*(5*M),y=h+=(g+=P*(5*H))>>>13,y+=S*H,y+=T*x,y+=k*D,y+=A*L,h=(y+=I*U)>>>13,y&=8191,y+=O*B,y+=C*(5*$),y+=N*(5*G),y+=R*(5*F),_=h+=(y+=P*(5*M))>>>13,_+=S*M,_+=T*H,_+=k*x,_+=A*D,h=(_+=I*L)>>>13,_&=8191,_+=O*U,_+=C*B,_+=N*(5*$),_+=R*(5*G),v=h+=(_+=P*(5*F))>>>13,v+=S*F,v+=T*M,v+=k*H,v+=A*x,h=(v+=I*D)>>>13,v&=8191,v+=O*L,v+=C*U,v+=N*B,v+=R*(5*$),E=h+=(v+=P*(5*G))>>>13,E+=S*G,E+=T*F,E+=k*M,E+=A*H,h=(E+=I*x)>>>13,E&=8191,E+=O*D,E+=C*L,E+=N*U,E+=R*B,w=h+=(E+=P*(5*$))>>>13,w+=S*$,w+=T*G,w+=k*F,w+=A*M,h=(w+=I*H)>>>13,w&=8191,w+=O*x,w+=C*D,w+=N*L,w+=R*U,S=l=8191&(h=(h=((h+=(w+=P*B)>>>13)<<2)+h|0)+(l&=8191)|0),T=d+=h>>>=13,k=p&=8191,A=m&=8191,I=g&=8191,O=y&=8191,C=_&=8191,N=v&=8191,R=E&=8191,P=w&=8191,t+=16,r-=16;this.h[0]=S,this.h[1]=T,this.h[2]=k,this.h[3]=A,this.h[4]=I,this.h[5]=O,this.h[6]=C,this.h[7]=N,this.h[8]=R,this.h[9]=P},k.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var W=O,z=C;var X=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(e,t,r,n){for(var i,o,s,a,c,u,f,h,l,d,p,m,g,y,_,v,E,w,b,S,T,k,A,I,O,C,N=new Int32Array(16),R=new Int32Array(16),P=e[0],B=e[1],U=e[2],L=e[3],D=e[4],x=e[5],H=e[6],M=e[7],F=t[0],G=t[1],$=t[2],K=t[3],q=t[4],j=t[5],W=t[6],z=t[7],V=0;n>=128;){for(b=0;b<16;b++)S=8*b+V,N[b]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],R[b]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(b=0;b<80;b++)if(i=P,o=B,s=U,a=L,c=D,u=x,f=H,M,l=F,d=G,p=$,m=K,g=q,y=j,_=W,z,A=65535&(k=z),I=k>>>16,O=65535&(T=M),C=T>>>16,A+=65535&(k=(q>>>14|D<<18)^(q>>>18|D<<14)^(D>>>9|q<<23)),I+=k>>>16,O+=65535&(T=(D>>>14|q<<18)^(D>>>18|q<<14)^(q>>>9|D<<23)),C+=T>>>16,A+=65535&(k=q&j^~q&W),I+=k>>>16,O+=65535&(T=D&x^~D&H),C+=T>>>16,A+=65535&(k=X[2*b+1]),I+=k>>>16,O+=65535&(T=X[2*b]),C+=T>>>16,T=N[b%16],I+=(k=R[b%16])>>>16,O+=65535&T,C+=T>>>16,O+=(I+=(A+=65535&k)>>>16)>>>16,A=65535&(k=w=65535&A|I<<16),I=k>>>16,O=65535&(T=E=65535&O|(C+=O>>>16)<<16),C=T>>>16,A+=65535&(k=(F>>>28|P<<4)^(P>>>2|F<<30)^(P>>>7|F<<25)),I+=k>>>16,O+=65535&(T=(P>>>28|F<<4)^(F>>>2|P<<30)^(F>>>7|P<<25)),C+=T>>>16,I+=(k=F&G^F&$^G&$)>>>16,O+=65535&(T=P&B^P&U^B&U),C+=T>>>16,h=65535&(O+=(I+=(A+=65535&k)>>>16)>>>16)|(C+=O>>>16)<<16,v=65535&A|I<<16,A=65535&(k=m),I=k>>>16,O=65535&(T=a),C=T>>>16,I+=(k=w)>>>16,O+=65535&(T=E),C+=T>>>16,B=i,U=o,L=s,D=a=65535&(O+=(I+=(A+=65535&k)>>>16)>>>16)|(C+=O>>>16)<<16,x=c,H=u,M=f,P=h,G=l,$=d,K=p,q=m=65535&A|I<<16,j=g,W=y,z=_,F=v,b%16==15)for(S=0;S<16;S++)T=N[S],A=65535&(k=R[S]),I=k>>>16,O=65535&T,C=T>>>16,T=N[(S+9)%16],A+=65535&(k=R[(S+9)%16]),I+=k>>>16,O+=65535&T,C+=T>>>16,E=N[(S+1)%16],A+=65535&(k=((w=R[(S+1)%16])>>>1|E<<31)^(w>>>8|E<<24)^(w>>>7|E<<25)),I+=k>>>16,O+=65535&(T=(E>>>1|w<<31)^(E>>>8|w<<24)^E>>>7),C+=T>>>16,E=N[(S+14)%16],I+=(k=((w=R[(S+14)%16])>>>19|E<<13)^(E>>>29|w<<3)^(w>>>6|E<<26))>>>16,O+=65535&(T=(E>>>19|w<<13)^(w>>>29|E<<3)^E>>>6),C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,N[S]=65535&O|C<<16,R[S]=65535&A|I<<16;A=65535&(k=F),I=k>>>16,O=65535&(T=P),C=T>>>16,T=e[0],I+=(k=t[0])>>>16,O+=65535&T,C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,e[0]=P=65535&O|C<<16,t[0]=F=65535&A|I<<16,A=65535&(k=G),I=k>>>16,O=65535&(T=B),C=T>>>16,T=e[1],I+=(k=t[1])>>>16,O+=65535&T,C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,e[1]=B=65535&O|C<<16,t[1]=G=65535&A|I<<16,A=65535&(k=$),I=k>>>16,O=65535&(T=U),C=T>>>16,T=e[2],I+=(k=t[2])>>>16,O+=65535&T,C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,e[2]=U=65535&O|C<<16,t[2]=$=65535&A|I<<16,A=65535&(k=K),I=k>>>16,O=65535&(T=L),C=T>>>16,T=e[3],I+=(k=t[3])>>>16,O+=65535&T,C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,e[3]=L=65535&O|C<<16,t[3]=K=65535&A|I<<16,A=65535&(k=q),I=k>>>16,O=65535&(T=D),C=T>>>16,T=e[4],I+=(k=t[4])>>>16,O+=65535&T,C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,e[4]=D=65535&O|C<<16,t[4]=q=65535&A|I<<16,A=65535&(k=j),I=k>>>16,O=65535&(T=x),C=T>>>16,T=e[5],I+=(k=t[5])>>>16,O+=65535&T,C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,e[5]=x=65535&O|C<<16,t[5]=j=65535&A|I<<16,A=65535&(k=W),I=k>>>16,O=65535&(T=H),C=T>>>16,T=e[6],I+=(k=t[6])>>>16,O+=65535&T,C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,e[6]=H=65535&O|C<<16,t[6]=W=65535&A|I<<16,A=65535&(k=z),I=k>>>16,O=65535&(T=M),C=T>>>16,T=e[7],I+=(k=t[7])>>>16,O+=65535&T,C+=T>>>16,C+=(O+=(I+=(A+=65535&k)>>>16)>>>16)>>>16,e[7]=M=65535&O|C<<16,t[7]=z=65535&A|I<<16,V+=128,n-=128}return n}function Y(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,V(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,p(s,r-8,a/536870912|0,a<<3),V(i,o,s,r),n=0;n<8;n++)p(e,8*n,i[n],o[n]);return 0}function Q(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),c=t(),u=t(),h=t(),l=t();H(n,e[1],e[0]),H(l,r[1],r[0]),M(n,n,l),x(i,e[0],e[1]),x(l,r[0],r[1]),M(i,i,l),M(o,e[3],r[3]),M(o,o,f),M(s,e[2],r[2]),x(s,s,s),H(a,i,n),H(c,s,o),x(u,s,o),x(h,i,n),M(e[0],a,c),M(e[1],h,u),M(e[2],u,c),M(e[3],a,h)}function Z(e,t,r){var n;for(n=0;n<4;n++)P(e[n],t[n],r)}function J(e,r){var n=t(),i=t(),o=t();G(o,r[2]),M(n,r[0],o),M(i,r[1],o),B(e,i),e[31]^=L(n)<<7}function ee(e,t,r){var n,i;for(N(e[0],s),N(e[1],a),N(e[2],a),N(e[3],s),i=255;i>=0;--i)Z(e,t,n=r[i/8|0]>>(7&i)&1),Q(t,e),Q(e,e),Z(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];N(n[0],h),N(n[1],l),N(n[2],a),M(n[3],h,l),ee(e,n,r)}function re(e,r,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),Y(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),J(e,a),o=0;o<32;o++)r[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function se(e,r,n,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),f=new Float64Array(64),h=[t(),t(),t(),t()];Y(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(Y(u,e.subarray(32),n+32),oe(u),te(h,u),J(e,h),o=32;o<64;o++)e[o]=i[o];for(Y(c,e,n+64),oe(c),o=0;o<64;o++)f[o]=0;for(o=0;o<32;o++)f[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)f[o+s]+=c[o]*a[s];return ie(e.subarray(32),f),l}function ae(e,r){var n=t(),i=t(),o=t(),c=t(),f=t(),h=t(),l=t();return N(e[2],a),D(e[1],r),F(o,e[1]),M(c,o,u),H(o,o,e[2]),x(c,e[2],c),F(f,c),F(h,f),M(l,h,f),M(n,l,o),M(n,n,c),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)F(i,i),1!==n&&M(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),M(n,n,o),M(n,n,c),M(n,n,c),M(e[0],n,c),F(i,e[0]),M(i,i,c),U(i,o)&&M(e[0],e[0],d),F(i,e[0]),M(i,i,c),U(i,o)?-1:(L(e[0])===r[31]>>7&&H(e[0],s,e[0]),M(e[3],e[0],e[1]),0)}function ce(e,r,n,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),c=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(-1,n<64)return-1;if(ae(u,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(Y(a,e,n),oe(a),ee(c,u,a),te(u,r.subarray(32)),Q(c,u),J(s,c),n-=64,y(r,0,s,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}function ue(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function fe(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function he(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:T,crypto_stream:S,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:b,crypto_onetimeauth:A,crypto_onetimeauth_verify:I,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:O,crypto_secretbox_open:C,crypto_scalarmult:$,crypto_scalarmult_base:K,crypto_box_beforenm:j,crypto_box_afternm:W,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return j(s,i,o),W(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return j(s,i,o),z(e,t,r,n,s)},crypto_box_keypair:q,crypto_hash:Y,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){fe(e,t,r),ue(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return O(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){fe(e,t,r),ue(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return!(n.length<32)&&(0===C(i,n,n.length,t,r)&&i.subarray(32))},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(fe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return $(r,e,t),r},e.scalarMult.base=function(e){if(fe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return K(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){fe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return j(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return q(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(fe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return K(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(fe(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(fe(e,t),32!==t.length)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(fe(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return ce(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(fe(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(fe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){fe(e);var t=new Uint8Array(64);return Y(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return fe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===m(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];he(i)}))}else(t=r(20))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];he(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t){function r(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new r(null)}r.prototype.am=function(e,t,r,n,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,f=a*c+u*s;i=((c=s*c+((16383&f)<<14)+r[n]+i)>>28)+(f>>14)+a*u,r[n++]=268435455&c}return i},r.prototype.DB=28,r.prototype.DM=268435455,r.prototype.DV=1<<28;r.prototype.FV=Math.pow(2,52),r.prototype.F1=24,r.prototype.F2=4;var i,o,s=new Array;for(i="0".charCodeAt(0),o=0;o<=9;++o)s[i++]=o;for(i="a".charCodeAt(0),o=10;o<36;++o)s[i++]=o;for(i="A".charCodeAt(0),o=10;o<36;++o)s[i++]=o;function a(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function c(e,t){var r=s[e.charCodeAt(t)];return null==r?-1:r}function u(e){var t=n();return t.fromInt(e),t}function f(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function h(e){this.m=e}function l(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function d(e,t){return e&t}function p(e,t){return e|t}function m(e,t){return e^t}function g(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function _(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function v(){}function E(e){return e}function w(e){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}h.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},h.prototype.revert=function(e){return e},h.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},h.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},l.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t},l.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},l.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},l.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},l.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},r.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},r.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},r.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,o=!1,s=0;--i>=0;){var a=8==n?255&e[i]:c(e,i);a<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},r.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},r.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},r.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)t[r]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},r.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},r.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},r.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),o=n.t;for(t.t=o+i.t;--o>=0;)t[o]=0;for(o=0;o<i.t;++o)t[o+n.t]=n.am(0,i[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&r.ZERO.subTo(t,t)},r.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},r.prototype.divRemTo=function(e,t,i){var o=e.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var a=n(),c=this.s,u=e.s,h=this.DB-f(o[o.t-1]);h>0?(o.lShiftTo(h,a),s.lShiftTo(h,i)):(o.copyTo(a),s.copyTo(i));var l=a.t,d=a[l-1];if(0!=d){var p=d*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),m=this.FV/p,g=(1<<this.F1)/p,y=1<<this.F2,_=i.t,v=_-l,E=null==t?n():t;for(a.dlShiftTo(v,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),r.ONE.dlShiftTo(l,E),E.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--v>=0;){var w=i[--_]==d?this.DM:Math.floor(i[_]*m+(i[_-1]+y)*g);if((i[_]+=a.am(0,w,i,v,0,l))<w)for(a.dlShiftTo(v,E),i.subTo(E,i);i[_]<--w;)i.subTo(E,i)}null!=t&&(i.drShiftTo(l,t),c!=u&&r.ZERO.subTo(t,t)),i.t=l,i.clamp(),h>0&&i.rShiftTo(h,i),c<0&&r.ZERO.subTo(i,i)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(e,t){if(e>4294967295||e<1)return r.ONE;var i=n(),o=n(),s=t.convert(this),a=f(e)-1;for(s.copyTo(i);--a>=0;)if(t.sqrTo(i,o),(e&1<<a)>0)t.mulTo(o,s,i);else{var c=i;i=o,o=c}return t.revert(i)},r.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",s=this.t,c=this.DB-s*this.DB%t;if(s-- >0)for(c<this.DB&&(r=this[s]>>c)>0&&(i=!0,o=a(r));s>=0;)c<t?(r=(this[s]&(1<<c)-1)<<t-c,r|=this[--s]>>(c+=this.DB-t)):(r=this[s]>>(c-=t)&n,c<=0&&(c+=this.DB,--s)),r>0&&(i=!0),i&&(o+=a(r));return i?o:"0"},r.prototype.negate=function(){var e=n();return r.ZERO.subTo(this,e),e},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t),t},r.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new h(t):new l(t),this.exp(e,r)},r.ZERO=u(0),r.ONE=u(1),v.prototype.convert=E,v.prototype.revert=E,v.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},v.prototype.sqrTo=function(e,t){e.squareTo(t)},w.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t},w.prototype.revert=function(e){return e},w.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},w.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},w.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var b=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],S=(1<<26)/b[b.length-1];r.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},r.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=u(r),o=n(),s=n(),a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(e)+a},r.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),o=!1,s=0,a=0,u=0;u<e.length;++u){var f=c(e,u);f<0?"-"==e.charAt(u)&&0==this.signum()&&(o=!0):(a=t*a+f,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),o&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),p,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=1+(e>>3),t.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},r.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},r.prototype.changeBit=function(e,t){var n=r.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},r.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},r.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},r.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},r.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},r.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},r.prototype.millerRabin=function(e){var t=this.subtract(r.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var o=t.shiftRight(i);(e=e+1>>1)>b.length&&(e=b.length);for(var s=n(),a=0;a<e;++a){s.fromInt(b[Math.floor(Math.random()*b.length)]);var c=s.modPow(o,this);if(0!=c.compareTo(r.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<i&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},r.prototype.clone=function(){var e=n();return this.copyTo(e),e},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},r.prototype.equals=function(e){return 0==this.compareTo(e)},r.prototype.min=function(e){return this.compareTo(e)<0?this:e},r.prototype.max=function(e){return this.compareTo(e)>0?this:e},r.prototype.and=function(e){var t=n();return this.bitwiseTo(e,d,t),t},r.prototype.or=function(e){var t=n();return this.bitwiseTo(e,p,t),t},r.prototype.xor=function(e){var t=n();return this.bitwiseTo(e,m,t),t},r.prototype.andNot=function(e){var t=n();return this.bitwiseTo(e,g,t),t},r.prototype.not=function(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},r.prototype.shiftLeft=function(e){var t=n();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},r.prototype.shiftRight=function(e){var t=n();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},r.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=_(this[r]^t);return e},r.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},r.prototype.setBit=function(e){return this.changeBit(e,p)},r.prototype.clearBit=function(e){return this.changeBit(e,g)},r.prototype.flipBit=function(e){return this.changeBit(e,m)},r.prototype.add=function(e){var t=n();return this.addTo(e,t),t},r.prototype.subtract=function(e){var t=n();return this.subTo(e,t),t},r.prototype.multiply=function(e){var t=n();return this.multiplyTo(e,t),t},r.prototype.divide=function(e){var t=n();return this.divRemTo(e,t,null),t},r.prototype.remainder=function(e){var t=n();return this.divRemTo(e,null,t),t},r.prototype.divideAndRemainder=function(e){var t=n(),r=n();return this.divRemTo(e,t,r),new Array(t,r)},r.prototype.modPow=function(e,t){var r,i,o=e.bitLength(),s=u(1);if(o<=0)return s;r=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new h(t):t.isEven()?new w(t):new l(t);var a=new Array,c=3,d=r-1,p=(1<<r)-1;if(a[1]=i.convert(this),r>1){var m=n();for(i.sqrTo(a[1],m);c<=p;)a[c]=n(),i.mulTo(m,a[c-2],a[c]),c+=2}var g,y,_=e.t-1,v=!0,E=n();for(o=f(e[_])-1;_>=0;){for(o>=d?g=e[_]>>o-d&p:(g=(e[_]&(1<<o+1)-1)<<d-o,_>0&&(g|=e[_-1]>>this.DB+o-d)),c=r;0==(1&g);)g>>=1,--c;if((o-=c)<0&&(o+=this.DB,--_),v)a[g].copyTo(s),v=!1;else{for(;c>1;)i.sqrTo(s,E),i.sqrTo(E,s),c-=2;c>0?i.sqrTo(s,E):(y=s,s=E,E=y),i.mulTo(E,a[g],s)}for(;_>=0&&0==(e[_]&1<<o);)i.sqrTo(s,E),y=s,s=E,E=y,--o<0&&(o=this.DB-1,--_)}return i.revert(s)},r.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return r.ZERO;for(var n=e.clone(),i=this.clone(),o=u(1),s=u(0),a=u(0),c=u(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(i)>=0?(n.subTo(i,n),t&&o.subTo(a,o),s.subTo(c,s)):(i.subTo(n,i),t&&a.subTo(o,a),c.subTo(s,c))}return 0!=i.compareTo(r.ONE)?r.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},r.prototype.pow=function(e){return this.exp(e,new v)},r.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},r.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=b[b.length-1]){for(t=0;t<b.length;++t)if(r[0]==b[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<b.length;){for(var n=b[t],i=t+1;i<b.length&&n<S;)n*=b[i++];for(n=r.modInt(n);t<i;)if(n%b[t++]==0)return!1}return r.millerRabin(e)},r.prototype.square=function(){var e=n();return this.squareTo(e),e},r.prototype.Barrett=w,e.exports=r},function(e,t,r){"use strict";var n=r(0).inspect;function i(e,t){if(!e)throw new ERR_INTERNAL_ASSERTION(t)}function o(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function s(e,t){if(i("string"==typeof t,"`thing` has to be of type string"),Array.isArray(e)){var r=e.length;return i(r>0,"At least one expected value needs to be specified"),e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i.fail=function(e){throw new ERR_INTERNAL_ASSERTION(e)},t.ERR_INTERNAL_ASSERTION=class e extends Error{constructor(t){super(),Error.captureStackTrace(this,e);var r="This is caused by either a bug in ssh2-streams or incorrect usage of ssh2-streams internals.\nPlease open an issue with this stack trace at https://github.com/mscdex/ssh2-streams/issues\n";this.message=void 0===t?r:`${t}\n${r}`}};var a=Math.pow(2,32),c=function(){try{return new Function("return 2n ** 32n")()}catch(e){}}();function u(e,t){emitErrorNT(e,t),f(e)}function f(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}t.ERR_OUT_OF_RANGE=class e extends RangeError{constructor(t,r,s,u){super(),Error.captureStackTrace(this,e),i(r,'Missing "range" argument');var f,h=u?t:`The value of "${t}" is out of range.`;Number.isInteger(s)&&Math.abs(s)>a?f=o(String(s)):"bigint"==typeof s?(f=String(s),(s>c||s<-c)&&(f=o(f)),f+="n"):f=n(s),h+=` It must be ${r}. Received ${f}`,this.message=h}},t.ERR_INVALID_ARG_TYPE=class e extends TypeError{constructor(t,r,n){var o,a;if(super(),Error.captureStackTrace(this,e),i("string"==typeof t,"'name' must be a string"),"string"==typeof r&&r.startsWith("not ")?(o="must not be",r=r.replace(/^not /,"")):o="must be",t.endsWith(" argument"))a=`The ${t} ${o} ${s(r,"type")}`;else{var c=t.includes(".")?"property":"argument";a=`The "${t}" ${c} ${o} ${s(r,"type")}`}a+=". Received type "+typeof n,this.message=a}},t.validateNumber=function(e,t){if("number"!=typeof e)throw new ERR_INVALID_ARG_TYPE(t,"number",e)},t.destroyImpl=function(e,t){const r=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return r||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,e)):process.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,e=>{!t&&e?this._writableState?this._writableState.errorEmitted?process.nextTick(f,this):(this._writableState.errorEmitted=!0,process.nextTick(u,this,e)):process.nextTick(u,this,e):t?(process.nextTick(f,this),t(e)):process.nextTick(f,this)}),this)}},function(e,t,r){var n=r(20),i=r(42),o=r(8).Transform,s=r(0).inherits,a=r(0).inspect,c=r(83),u=r(27).Ber,f=r(14).readUInt32BE,h=r(14).writeUInt32BE,l=r(30),d=r(9),p=d.iv_inc,m=d.readString,g=d.readInt,y=d.DSASigBERToBare,_=d.ECDSASigASN1ToSSH,v=d.sigSSHToASN1,E=r(41).parseDERKey,w=l.CIPHER_INFO,b=l.HMAC_INFO,S=l.MESSAGE,T=(l.DYNAMIC_KEXDH_MESSAGE,l.KEXDH_MESSAGE,l.ALGORITHMS),k=l.DISCONNECT_REASON,A=l.CHANNEL_OPEN_FAILURE,I=l.SSH_TO_OPENSSL,O=l.TERMINAL_MODE,C=l.SIGNALS,N=(l.EDDSA_SUPPORTED,l.CURVE25519_SUPPORTED),R=l.BUGS,P=l.BUGGY_IMPLS,B=P.length,U=r(84).version,L=0,D=L++,x=L++,H=L++,M=L++,F=L++,G=L++,$=L++,K=L++,q=L++,j=L++,W=L++,z=i.Z_PARTIAL_FLUSH,X={flush:z},V=/\x00/g,Y=Buffer.from("SSH-"),Q=Buffer.allocUnsafe(0),Z=Buffer.allocUnsafe(9),J=Buffer.from([S.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]),ee=Buffer.from([S.NEWKEYS]),te=Buffer.from([S.USERAUTH_SUCCESS]),re=Buffer.from([S.REQUEST_SUCCESS]),ne=Buffer.from([S.REQUEST_FAILURE]),ie=Buffer.from([O.TTY_OP_END]),oe=Buffer.from([S.KEXDH_GEX_REQUEST,0,0,4,0,0,0,16,0,0,0,32,0]);function se(e){}function ae(e){"object"==typeof e&&null!==e||(e={}),o.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this._needContinue=!1,this.bytesSent=this.bytesReceived=0,this.debug="function"==typeof e.debug?e.debug:se,this.server=!0===e.server,this.maxPacketSize="number"==typeof e.maxPacketSize?e.maxPacketSize:35e3,this.remoteBugs=0,this.server&&(this.remoteBugs=R.BAD_DHGEX),this.readable=!0;var t=this,r=e.hostKeys;if(this.server&&("object"!=typeof r||null===r))throw new Error("hostKeys must be an object keyed on host key type");if(this.config={hostKeys:r,ident:"SSH-2.0-"+(e.ident||"ssh2js"+U+(this.server?"srv":"")),algorithms:{kex:T.KEX,kexBuf:T.KEX_BUF,serverHostKey:T.SERVER_HOST_KEY,serverHostKeyBuf:T.SERVER_HOST_KEY_BUF,cipher:T.CIPHER,cipherBuf:T.CIPHER_BUF,hmac:T.HMAC,hmacBuf:T.HMAC_BUF,compress:T.COMPRESS,compressBuf:T.COMPRESS_BUF}},this.config.ident.replace(V,""),this.config.ident.length+2>255)throw new Error("ident too long");if("object"==typeof e.algorithms&&null!==e.algorithms){var i=e.algorithms;Array.isArray(i.kex)&&i.kex.length>0&&(this.config.algorithms.kex=i.kex,Buffer.isBuffer(i.kexBuf)||(i.kexBuf=Buffer.from(i.kex.join(","),"ascii")),this.config.algorithms.kexBuf=i.kexBuf),Array.isArray(i.serverHostKey)&&i.serverHostKey.length>0&&(this.config.algorithms.serverHostKey=i.serverHostKey,Buffer.isBuffer(i.serverHostKeyBuf)||(i.serverHostKeyBuf=Buffer.from(i.serverHostKey.join(","),"ascii")),this.config.algorithms.serverHostKeyBuf=i.serverHostKeyBuf),Array.isArray(i.cipher)&&i.cipher.length>0&&(this.config.algorithms.cipher=i.cipher,Buffer.isBuffer(i.cipherBuf)||(i.cipherBuf=Buffer.from(i.cipher.join(","),"ascii")),this.config.algorithms.cipherBuf=i.cipherBuf),Array.isArray(i.hmac)&&i.hmac.length>0&&(this.config.algorithms.hmac=i.hmac,Buffer.isBuffer(i.hmacBuf)||(i.hmacBuf=Buffer.from(i.hmac.join(","),"ascii")),this.config.algorithms.hmacBuf=i.hmacBuf),Array.isArray(i.compress)&&i.compress.length>0&&(this.config.algorithms.compress=i.compress,Buffer.isBuffer(i.compressBuf)||(i.compressBuf=Buffer.from(i.compress.join(","),"ascii")),this.config.algorithms.compressBuf=i.compressBuf)}this.reset(!0),this.on("end",(function(){t.readable=!1,t._state=void 0,t.reset(),t._state.outgoing.bufSeqno=void 0})),this.on("DISCONNECT",(function(e,r,n,i){!function(e,t,r,n,i){if(r!==k.BY_APPLICATION){var o=new Error(n||t);o.code=r,e.emit("error",o)}e.reset()}(t,e,r,n)})),this.on("KEXINIT",(function(e,r){!function(e,t,r){var n=e._state,i=n.outgoing;i.status===j?(e.debug("DEBUG: Received re-key request"),i.status=W,i.kexinit=void 0,ge(e,o)):o();function o(){!0===function(e,t,r){var n,i,o,s,a,c=e._state,u=c.incoming,f=c.outgoing,h=e.debug;h("DEBUG: Comparing KEXINITs ...");var l=e.config.algorithms,d=l.kex;if(e.remoteBugs&R.BAD_DHGEX)for(var p=!1,m=d.length-1;m>=0;--m)-1!==d[m].indexOf("group-exchange")&&(p||(d=d.slice(),p=!0),d.splice(m,1));h("DEBUG: (local) KEX algorithms: "+d),h("DEBUG: (remote) KEX algorithms: "+t.algorithms.kex),e.server?(n=d,i=t.algorithms.kex):(n=t.algorithms.kex,i=d);for(a=0,s=i.length;a<s&&-1===n.indexOf(i[a]);++a);if(a===s){return h("DEBUG: No matching key exchange algorithm"),(y=new Error("Handshake failed: no matching key exchange algorithm")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}var g=i[a];h("DEBUG: KEX algorithm: "+g),!r||t.algorithms.kex.length&&g===t.algorithms.kex[0]||(u.ignoreNext=!0);h("DEBUG: (local) Host key formats: "+l.serverHostKey),h("DEBUG: (remote) Host key formats: "+t.algorithms.srvHostKey),e.server?(n=l.serverHostKey,i=t.algorithms.srvHostKey):(n=t.algorithms.srvHostKey,i=l.serverHostKey);for(a=0,s=i.length;a<s&&-1===n.indexOf(i[a]);++a);if(a===s){return h("DEBUG: No matching host key format"),(y=new Error("Handshake failed: no matching host key format")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}c.hostkeyFormat=i[a],h("DEBUG: Host key format: "+c.hostkeyFormat),h("DEBUG: (local) Client->Server ciphers: "+l.cipher),h("DEBUG: (remote) Client->Server ciphers: "+t.algorithms.cs.encrypt),e.server?(n=l.cipher,i=t.algorithms.cs.encrypt):(n=t.algorithms.cs.encrypt,i=l.cipher);for(a=0,s=i.length;a<s&&-1===n.indexOf(i[a]);++a);if(a===s){return h("DEBUG: No matching Client->Server cipher"),(y=new Error("Handshake failed: no matching client->server cipher")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?u.decrypt.type=i[a]:f.encrypt.type=i[a];h("DEBUG: Client->Server Cipher: "+o),h("DEBUG: (local) Server->Client ciphers: "+l.cipher),h("DEBUG: (remote) Server->Client ciphers: "+t.algorithms.sc.encrypt),e.server?(n=l.cipher,i=t.algorithms.sc.encrypt):(n=t.algorithms.sc.encrypt,i=l.cipher);for(a=0,s=i.length;a<s&&-1===n.indexOf(i[a]);++a);if(a===s){return h("DEBUG: No matching Server->Client cipher"),(y=new Error("Handshake failed: no matching server->client cipher")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?f.encrypt.type=i[a]:u.decrypt.type=i[a];h("DEBUG: Server->Client Cipher: "+o),h("DEBUG: (local) Client->Server HMAC algorithms: "+l.hmac),h("DEBUG: (remote) Client->Server HMAC algorithms: "+t.algorithms.cs.mac),e.server?(n=l.hmac,i=t.algorithms.cs.mac):(n=t.algorithms.cs.mac,i=l.hmac);for(a=0,s=i.length;a<s&&-1===n.indexOf(i[a]);++a);if(a===s){return h("DEBUG: No matching Client->Server HMAC algorithm"),(y=new Error("Handshake failed: no matching client->server HMAC")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?u.hmac.type=i[a]:f.hmac.type=i[a];h("DEBUG: Client->Server HMAC algorithm: "+o),h("DEBUG: (local) Server->Client HMAC algorithms: "+l.hmac),h("DEBUG: (remote) Server->Client HMAC algorithms: "+t.algorithms.sc.mac),e.server?(n=l.hmac,i=t.algorithms.sc.mac):(n=t.algorithms.sc.mac,i=l.hmac);for(a=0,s=i.length;a<s&&-1===n.indexOf(i[a]);++a);if(a===s){return h("DEBUG: No matching Server->Client HMAC algorithm"),(y=new Error("Handshake failed: no matching server->client HMAC")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?f.hmac.type=i[a]:u.hmac.type=i[a];h("DEBUG: Server->Client HMAC algorithm: "+o),h("DEBUG: (local) Client->Server compression algorithms: "+l.compress),h("DEBUG: (remote) Client->Server compression algorithms: "+t.algorithms.cs.compress),e.server?(n=l.compress,i=t.algorithms.cs.compress):(n=t.algorithms.cs.compress,i=l.compress);for(a=0,s=i.length;a<s&&-1===n.indexOf(i[a]);++a);if(a===s){return h("DEBUG: No matching Client->Server compression algorithm"),(y=new Error("Handshake failed: no matching client->server compression algorithm")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?u.decompress.type=i[a]:f.compress.type=i[a];h("DEBUG: Client->Server compression algorithm: "+o),h("DEBUG: (local) Server->Client compression algorithms: "+l.compress),h("DEBUG: (remote) Server->Client compression algorithms: "+t.algorithms.sc.compress),e.server?(n=l.compress,i=t.algorithms.sc.compress):(n=t.algorithms.sc.compress,i=l.compress);for(a=0,s=i.length;a<s&&-1===n.indexOf(i[a]);++a);if(a===s){var y;return h("DEBUG: No matching Server->Client compression algorithm"),(y=new Error("Handshake failed: no matching server->client compression algorithm")).level="handshake",e.emit("error",y),e.disconnect(k.KEY_EXCHANGE_FAILED),!1}o=e.server?f.compress.type=i[a]:u.decompress.type=i[a];return h("DEBUG: Server->Client compression algorithm: "+o),c.kex=new ke(g),c.kex.generateKeys(),f.pubkey=c.kex.getPublicKey(),!0}(e,t,r)&&(e.server?n.incoming.expectedPacket=n.kex.pktInit:"groupex"===n.kex.type?function(e){e._state.incoming.expectedPacket="KEXDH_GEX_GROUP",e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_REQUEST"),Ee(e,oe,void 0,!0)}(e):ye(e))}}(t,e,r)})),this.on("NEWKEYS",(function(){ce(t)})),this.server?this.on("KEXDH_INIT",(function(e){!function(e,t){!function(e,t){var r=e._state,i=r.outgoing,o=r.incoming,s=e.config.hostKeys[r.hostkeyFormat];Array.isArray(s)&&(s=s[0]);var a=s.getPublicSSH(),c=s.type;t=r.kex.convertPublicKey(t);var u=r.kex.computeSecret(t);if(u instanceof Error)return u.message="Error while computing DH secret ("+r.kex.type+"): "+u.message,u.level="handshake",e.emit("error",u),e.disconnect(k.KEY_EXCHANGE_FAILED),!1;var f,l,d,p,m=n.createHash(r.kex.hash),g=Buffer.byteLength(o.identRaw),y=Buffer.byteLength(e.config.ident),_=o.kexinit.length,v=i.kexinit.length,E=a.length,w=t.length,b=i.pubkey.length,T=u.length,A=g+y+_+v+E+w+b+T+32,I=r.kex.getDHParams();I&&(d=I.prime,p=I.generator,f=d.length,l=p.length,A+=12,A+=8,A+=f,A+=l);var O=0,C=Buffer.allocUnsafe(A);h(C,g,O),O+=4,C.write(o.identRaw,O,"utf8"),h(C,y,O+=g),O+=4,C.write(e.config.ident,O,"utf8"),h(C,_,O+=y),O+=4,o.kexinit.copy(C,O),O+=_,o.kexinit=void 0,h(C,v,O),O+=4,i.kexinit.copy(C,O),O+=v,i.kexinit=void 0,h(C,E,O),O+=4,a.copy(C,O),O+=E,I&&(oe.slice(1).copy(C,O),h(C,f,O+=12),O+=4,d.copy(C,O),h(C,l,O+=f),O+=4,p.copy(C,O),O+=l);h(C,w,O),O+=4,t.copy(C,O),h(C,b,O+=w),O+=4,i.pubkey.copy(C,O),h(C,T,O+=b),O+=4,u.copy(C,O),i.exchangeHash=m.update(C).digest(),void 0===i.sessionId&&(i.sessionId=i.exchangeHash);i.kexsecret=u;var N=s.sign(i.exchangeHash);if(N instanceof Error)return N.message="Error while signing data with host key ("+c+"): "+N.message,N.level="handshake",e.emit("error",N),e.disconnect(k.KEY_EXCHANGE_FAILED),!1;if(!1===(N=Se(N,c)))return N.message="Error while converting handshake signature",N.level="handshake",e.emit("error",N),e.disconnect(k.KEY_EXCHANGE_FAILED),!1;var R=4+c.length+4+N.length,P=Buffer.allocUnsafe(5+E+4+b+4+R);P[O=0]=S[r.kex.pktReply],++O,h(P,E,O),O+=4,a.copy(P,O),h(P,b,O+=E),O+=4,i.pubkey.copy(P,O),h(P,R,O+=b),O+=4,h(P,c.length,O),O+=4,P.write(c,O,c.length,"ascii"),O+=c.length,h(P,N.length,O),O+=4,N.copy(P,O),r.incoming.expectedPacket="NEWKEYS",e.debug("DEBUG: Outgoing: Writing "+r.kex.pktReply),Ee(e,P,void 0,!0),i.sentNEWKEYS=!0,e.debug("DEBUG: Outgoing: Writing NEWKEYS"),Ee(e,ee,void 0,!0)}(e,t)}(t,e)})):this.on("KEXDH_REPLY",(function(e){!function e(t,r,i){var o=t._state,s=o.incoming,a=o.outgoing,c=t.debug;if(void 0===i){s.expectedPacket="NEWKEYS",a.sentNEWKEYS=!1,c("DEBUG: Checking host key format");var u=m(r.hostkey,0,"ascii",t);if(!1===u)return!1;if(r.hostkey_format!==o.hostkeyFormat||r.hostkey_format!==u)return c("DEBUG: Host key format mismatch"),t.disconnect(k.KEY_EXCHANGE_FAILED),t.reset(),(x=new Error("Handshake failed: host key format mismatch")).level="handshake",t.emit("error",x),!1;c("DEBUG: Checking signature format");var f=m(r.sig,0,"ascii",t);if(!1===f)return!1;if(r.sig_format!==f)return c("DEBUG: Signature format mismatch"),t.disconnect(k.KEY_EXCHANGE_FAILED),t.reset(),(x=new Error("Handshake failed: signature format mismatch")).level="handshake",t.emit("error",x),!1}if(a.status===q){if(void 0===i){c("DEBUG: Verifying host fingerprint");var l=!0,d=t.emit("fingerprint",r.hostkey,(function(n){void 0===i&&(i=!!n,l||e(t,r,i))}));if(l=!1,d&&void 0===i)return}if(void 0===i)c("DEBUG: Host accepted by default (no verification)");else{if(!0!==i)return c("DEBUG: Host denied via fingerprint verification"),t.disconnect(k.KEY_EXCHANGE_FAILED),t.reset(),(x=new Error("Handshake failed: host fingerprint verification failed")).level="handshake",t.emit("error",x),!1;c("DEBUG: Host accepted (verified)")}}if(r.pubkey=o.kex.convertPublicKey(r.pubkey),r.secret=o.kex.computeSecret(r.pubkey),r.secret instanceof Error)return r.secret.message="Error while computing DH secret ("+o.kex.type+"): "+r.secret.message,r.secret.level="handshake",t.emit("error",r.secret),t.disconnect(k.KEY_EXCHANGE_FAILED),!1;var p,g,y,_,w=n.createHash(o.kex.hash),b=Buffer.byteLength(t.config.ident),S=Buffer.byteLength(s.identRaw),T=a.kexinit.length,A=s.kexinit.length,I=r.hostkey.length,O=a.pubkey.length,C=r.pubkey.length,N=r.secret.length,R=b+S+T+A+I+O+C+N+32,P=o.kex.getDHParams();P&&(y=P.prime,_=P.generator,p=y.length,g=_.length,R+=12,R+=8,R+=p,R+=g);var B=0,U=Buffer.allocUnsafe(R);h(U,b,B),B+=4,U.write(t.config.ident,B,"utf8"),h(U,S,B+=b),B+=4,U.write(s.identRaw,B,"utf8"),h(U,T,B+=S),B+=4,a.kexinit.copy(U,B),B+=T,a.kexinit=void 0,h(U,A,B),B+=4,s.kexinit.copy(U,B),B+=A,s.kexinit=void 0,h(U,I,B),B+=4,r.hostkey.copy(U,B),B+=I,P&&(oe.slice(1).copy(U,B),h(U,p,B+=12),B+=4,y.copy(U,B),h(U,g,B+=p),B+=4,_.copy(U,B),B+=g);h(U,O,B),B+=4,a.pubkey.copy(U,B),h(U,C,B+=O),B+=4,r.pubkey.copy(U,B),h(U,N,B+=C),B+=4,r.secret.copy(U,B),a.exchangeHash=w.update(U).digest();var L=m(r.sig,r.sig._pos,t);if(!1===L||!(L=v(L,r.sig_format,t)))return!1;var D=E(r.hostkey,r.sig_format);if(D instanceof Error)return!1;if(c("DEBUG: Verifying signature"),!0!==D.verify(a.exchangeHash,L)){var x;return c("DEBUG: Signature verification failed"),t.disconnect(k.KEY_EXCHANGE_FAILED),t.reset(),(x=new Error("Handshake failed: signature verification failed")).level="handshake",t.emit("error",x),!1}void 0===a.sessionId&&(a.sessionId=a.exchangeHash);a.kexsecret=r.secret,c("DEBUG: Outgoing: Writing NEWKEYS"),a.status===W?Ee(t,ee,void 0,!0):Ee(t,ee);a.sentNEWKEYS=!0,void 0!==i&&void 0===s.expectedPacket&&ce(t)}(t,e)})).on("KEXDH_GEX_GROUP",(function(e,r){!function(e,t,r){var n=e._state,i=n.outgoing;n.kex.setDHParams(t,r),n.kex.generateKeys(),i.pubkey=n.kex.getPublicKey(),ye(e)}(t,e,r)})),this.server&&("string"==typeof e.greeting&&e.greeting.length&&("\r\n"===e.greeting.slice(-2)?this.push(e.greeting):this.push(e.greeting+"\r\n")),"string"==typeof e.banner&&e.banner.length&&("\r\n"===e.banner.slice(-2)?this.banner=e.banner:this.banner=e.banner+"\r\n")),this.debug("DEBUG: Local ident: "+a(this.config.ident)),this.push(this.config.ident+"\r\n"),this._state.incoming.expectedPacket="KEXINIT"}function ce(e){var t=e._state,r=t.outgoing,o=t.incoming;if(o.expectedPacket=void 0,r.sentNEWKEYS){var s,a,c=r.kexsecret.length,u=r.encrypt.info=w[r.encrypt.type],f=0,l=t.kex.hash,d=Buffer.allocUnsafe(4+c);if(t.authsQueue=[],h(d,c,f),f+=4,r.kexsecret.copy(d,f),r.kexsecret=void 0,u.stream)s=Q;else{for(s=n.createHash(l).update(d).update(r.exchangeHash).update(e.server?"B":"A","ascii").update(r.sessionId).digest();s.length<u.ivLen;)s=Buffer.concat([s,n.createHash(l).update(d).update(r.exchangeHash).update(s).digest()]);s.length>u.ivLen&&(s=s.slice(0,u.ivLen))}for(a=n.createHash(l).update(d).update(r.exchangeHash).update(e.server?"D":"C","ascii").update(r.sessionId).digest();a.length<u.keyLen;)a=Buffer.concat([a,n.createHash(l).update(d).update(r.exchangeHash).update(a).digest()]);if(a.length>u.keyLen&&(a=a.slice(0,u.keyLen)),u.authLen>0)r.encrypt.iv=s,r.encrypt.key=a,r.encrypt.instance=!0;else{var p=I[r.encrypt.type];r.encrypt.instance=n.createCipheriv(p,a,s),r.encrypt.instance.setAutoPadding(!1)}var m=o.decrypt.info=w[o.decrypt.type];if(m.stream)s=Q;else{for(s=n.createHash(l).update(d).update(r.exchangeHash).update(e.server?"A":"B","ascii").update(r.sessionId).digest();s.length<m.ivLen;)s=Buffer.concat([s,n.createHash(l).update(d).update(r.exchangeHash).update(s).digest()]);s.length>m.ivLen&&(s=s.slice(0,m.ivLen))}for(o.decrypt.buf=Buffer.allocUnsafe(m.blockLen),a=n.createHash(l).update(d).update(r.exchangeHash).update(e.server?"C":"D","ascii").update(r.sessionId).digest();a.length<m.keyLen;)a=Buffer.concat([a,n.createHash(l).update(d).update(r.exchangeHash).update(a).digest()]);a.length>m.keyLen&&(a=a.slice(0,m.keyLen));var g,y=I[o.decrypt.type];o.decrypt.instance=n.createDecipheriv(y,a,s),o.decrypt.instance.setAutoPadding(!1),o.decrypt.iv=s,o.decrypt.key=a,u.discardLen>0&&(g=Buffer.alloc(u.discardLen),r.encrypt.instance.update(g)),m.discardLen>0&&(g&&g.length===m.discardLen||(g=Buffer.alloc(u.discardLen)),o.decrypt.instance.update(g));var _=r.hmac.info=b[r.hmac.type],v=o.hmac.info=b[o.hmac.type];if(0===u.authLen){for(a=n.createHash(l).update(d).update(r.exchangeHash).update(e.server?"F":"E","ascii").update(r.sessionId).digest();a.length<_.len;)a=Buffer.concat([a,n.createHash(l).update(d).update(r.exchangeHash).update(a).digest()]);a.length>_.len&&(a=a.slice(0,_.len)),r.hmac.key=a}else r.hmac.key=void 0;if(0===m.authLen){for(a=n.createHash(l).update(d).update(r.exchangeHash).update(e.server?"E":"F","ascii").update(r.sessionId).digest();a.length<v.len;)a=Buffer.concat([a,n.createHash(l).update(d).update(r.exchangeHash).update(a).digest()]);a.length>v.len&&(a=a.slice(0,v.len)),o.hmac.key=a}else o.hmac.key=void 0;var E=m.authLen||o.hmac.info.actualLen;if(o.hmac.buf&&o.hmac.buf.length===E||(o.hmac.buf=Buffer.allocUnsafe(E)),r.exchangeHash=void 0,"zlib"===r.compress.type?(r.compress.instance=i.createDeflate(X),r.compress.queue=[]):"none"===r.compress.type&&(r.compress.instance=!1,r.compress.queue=null),"zlib"===o.decompress.type?o.decompress.instance=i.createInflate(X):"none"===o.decompress.type&&(o.decompress.instance=!1),e.bytesSent=e.bytesReceived=0,r.status===W){r.status=j;var S=r.rekeyQueue,T=S.length,k=0;for(r.rekeyQueue=[];k<T;++k)Buffer.isBuffer(S[k])?Ee(e,S[k]):Ee(e,S[k][0],S[k][1]);T=(S=o.rekeyQueue).length,k=0,o.rekeyQueue=[];for(var A=o.seqno;k<T;++k){if(o.seqno=S[k][0],o.payload=S[k][1],!1===fe(e))return;if(o.status===D)return}o.seqno=A}else r.status=j,o.status===F&&(e.debug("DEBUG: Parser: IN_PACKETBEFORE (update) (expecting "+m.blockLen+")"),pe(e,2,m.blockLen,o.decrypt.buf)),e.emit("ready")}}function ue(e,t){var r=e._state.kex;if(r)switch(t){case 30:return r.pktInit;case 31:switch(r.type){case"group":return"KEXDH_REPLY";case"groupex":return"KEXDH_GEX_GROUP";default:return"KEXECDH_REPLY"}break;case 33:if("groupex"===r.type)return"KEXDH_GEX_REPLY"}return S[t]}function fe(e,t){var r,n,o,s,a,c,u,l,d,p,y,_,E,w,b=e._state.incoming,T=e._state.outgoing,I=b.payload,C=b.seqno;if(++b.seqno>4294967295&&(b.seqno=0),b.ignoreNext)return e.debug("DEBUG: Parser: Packet ignored"),void(b.ignoreNext=!1);var N=I[0];if(void 0===N)return!1;if(T.status!==j&&ue(e,N)!==b.expectedPacket&&N<1&&N>4){e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+b.expectedPacket+" but got: "+ue(e,N)),e.disconnect(k.PROTOCOL_ERROR);var P=new Error("Received unexpected packet");return P.level="protocol",e.emit("error",P),!1}if(N===S.CHANNEL_DATA){if(!1===(a=g(I,1,e,t)))return!1;if(!1===(c=m(I,5,e,t,32768)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_DATA ("+a+")"),e.emit("CHANNEL_DATA:"+a,c)}else if(N===S.CHANNEL_EXTENDED_DATA){if(!1===(a=g(I,1,e,t)))return!1;var B=g(I,5,e,t);if(!1===B)return!1;if(!1===(c=m(I,9,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EXTENDED_DATA ("+a+")"),e.emit("CHANNEL_EXTENDED_DATA:"+a,B,c)}else if(N===S.CHANNEL_WINDOW_ADJUST){if(!1===(a=g(I,1,e,t)))return!1;var U=g(I,5,e,t);if(!1===U)return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_WINDOW_ADJUST ("+a+", "+U+")"),e.emit("CHANNEL_WINDOW_ADJUST:"+a,U)}else if(N===S.CHANNEL_SUCCESS){if(!1===(a=g(I,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_SUCCESS ("+a+")"),e.emit("CHANNEL_SUCCESS:"+a)}else if(N===S.CHANNEL_FAILURE){if(!1===(a=g(I,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_FAILURE ("+a+")"),e.emit("CHANNEL_FAILURE:"+a)}else if(N===S.CHANNEL_EOF){if(!1===(a=g(I,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EOF ("+a+")"),e.emit("CHANNEL_EOF:"+a)}else if(N===S.CHANNEL_OPEN){var L,D=m(I,1,"ascii",e,t);if(!1===D)return!1;if(!1===(d=g(I,I._pos,e,t)))return!1;if(!1===(p=g(I,I._pos+=4,e,t)))return!1;if(!1===(y=g(I,I._pos+=4,e,t)))return!1;if(e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_OPEN ("+d+", "+D+")"),"forwarded-tcpip"===D||"direct-tcpip"===D){var x=m(I,I._pos+=4,"ascii",e,t);if(!1===x)return!1;var H=g(I,I._pos,e,t);if(!1===H)return!1;if(!1===(u=m(I,I._pos+=4,"ascii",e,t)))return!1;if(!1===(l=g(I,I._pos,e,t)))return!1;L={type:D,sender:d,window:p,packetSize:y,data:{destIP:x,destPort:H,srcIP:u,srcPort:l}}}else if("forwarded-streamlocal@openssh.com"===D||"direct-streamlocal@openssh.com"===D){if(!1===(w=m(I,I._pos+=4,"utf8",e,t)))return!1;L={type:D,sender:d,window:p,packetSize:y,data:{socketPath:w}}}else if("x11"===D){if(!1===(u=m(I,I._pos+=4,"ascii",e,t)))return!1;if(!1===(l=g(I,I._pos,e,t)))return!1;L={type:D,sender:d,window:p,packetSize:y,data:{srcIP:u,srcPort:l}}}else L={type:D,sender:d,window:p,packetSize:y,data:{}};e.emit("CHANNEL_OPEN",L)}else if(N===S.CHANNEL_OPEN_CONFIRMATION){if(!1===(_=g(I,1,e,t)))return!1;if(!1===(d=g(I,5,e,t)))return!1;if(!1===(p=g(I,9,e,t)))return!1;if(!1===(y=g(I,13,e,t)))return!1;s={recipient:_,sender:d,window:p,packetSize:y},I.length>17&&(s.data=I.slice(17)),e.emit("CHANNEL_OPEN_CONFIRMATION:"+s.recipient,s)}else if(N===S.CHANNEL_OPEN_FAILURE){if(!1===(_=g(I,1,e,t)))return!1;var M=g(I,5,e,t);if(!1===M)return!1;if(!1===(E=m(I,9,"utf8",e,t)))return!1;if(!1===(n=m(I,I._pos,"utf8",e,t)))return!1;I._pos=9,s={recipient:_,reasonCode:M,reason:A[M],description:E,lang:n},e.emit("CHANNEL_OPEN_FAILURE:"+s.recipient,s)}else if(N===S.CHANNEL_CLOSE){if(!1===(a=g(I,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_CLOSE ("+a+")"),e.emit("CHANNEL_CLOSE:"+a)}else if(N===S.IGNORE);else if(N===S.DISCONNECT){var F=g(I,1,e,t);if(!1===F)return!1;var G=k[F];if(!1===(E=m(I,5,"utf8",e,t)))return!1;I._pos<I.length&&(n=m(I,I._pos,"ascii",e,t)),e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: DISCONNECT ("+G+")"),e.emit("DISCONNECT",G,F,E,n)}else if(N===S.DEBUG){if(!1===(o=m(I,2,"utf8",e,t)))return!1;if(!1===(n=m(I,I._pos,"ascii",e,t)))return!1;e.emit("DEBUG",o,n)}else if(N===S.NEWKEYS)e.emit("NEWKEYS");else if(N===S.SERVICE_REQUEST){if(!1===(r=m(I,1,"ascii",e,t)))return!1;e.emit("SERVICE_REQUEST",r)}else if(N===S.SERVICE_ACCEPT){if(!1===(r=m(I,1,"ascii",e,t)))return!1;e.emit("SERVICE_ACCEPT",r)}else if(N===S.USERAUTH_REQUEST){var $=m(I,1,"utf8",e,t);if(!1===$)return!1;var K=m(I,I._pos,"ascii",e,t);if(!1===K)return!1;var q,W,z=m(I,I._pos,"ascii",e,t);if(!1===z)return!1;if("password"===z){if(!1===(q=m(I,I._pos+1,"utf8",e,t)))return!1}else if("publickey"===z||"hostbased"===z){var V,Y,Q,Z,J,ee,te;if("publickey"===z){if(void 0===(V=I[I._pos++]))return!1;V=0!==V}if(!1===(Y=m(I,I._pos,"ascii",e,t)))return!1;if(!1===(Q=m(I,I._pos,e,t)))return!1;if(V||"hostbased"===z){if("hostbased"===z){if(!1===(ee=m(I,I._pos,"ascii",e,t)))return!1;if(!1===(te=m(I,I._pos,"utf8",e,t)))return!1}var re=I._pos;if(!1===(Z=m(I,re,e,t)))return!1;if(Z.length>4+Y.length+4&&Z.toString("ascii",4,4+Y.length)===Y&&(Z=Z.slice(4+Y.length+4)),!1===(Z=v(Z,Y,e,t)))return!1;J=Buffer.allocUnsafe(4+T.sessionId.length+re),h(J,T.sessionId.length,0),T.sessionId.copy(J,4),I.copy(J,4+T.sessionId.length,0,re)}else W="publickey -- check";q={keyAlgo:Y,key:Q,signature:Z,blob:J,localHostname:ee,localUsername:te}}else if("keyboard-interactive"===z){var ne=g(I,I._pos,e,t);if(!1===ne)return!1;if(!1===(q=m(I,I._pos+4+ne,"utf8",e,t)))return!1}else"none"!==z&&(q=I.slice(I._pos));void 0===W&&(W=z),e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: USERAUTH_REQUEST ("+W+")"),e._state.authsQueue.push(z),e.emit("USERAUTH_REQUEST",$,K,z,q)}else if(N===S.USERAUTH_SUCCESS)"zlib@openssh.com"===T.compress.type&&(T.compress.instance=i.createDeflate(X),T.compress.queue=[]),"zlib@openssh.com"===b.decompress.type&&(b.decompress.instance=i.createInflate(X)),e._state.authsQueue.shift(),e.emit("USERAUTH_SUCCESS");else if(N===S.USERAUTH_FAILURE){var ie=m(I,1,"ascii",e,t);if(!1===ie)return!1;var oe=I[I._pos];if(void 0===oe)return!1;oe=0!==oe,ie=ie.split(","),e._state.authsQueue.shift(),e.emit("USERAUTH_FAILURE",ie,oe)}else if(N===S.USERAUTH_BANNER){if(!1===(o=m(I,1,"utf8",e,t)))return!1;if(!1===(n=m(I,I._pos,"utf8",e,t)))return!1;e.emit("USERAUTH_BANNER",o,n)}else if(N===S.GLOBAL_REQUEST){var se=m(I,1,"ascii",e,t);if(!1===se)return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: GLOBAL_REQUEST"),!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: GLOBAL_REQUEST ("+se+")");var ae,ce=I[I._pos++];if(void 0===ce)return!1;if(ce=0!==ce,"tcpip-forward"===se||"cancel-tcpip-forward"===se){var fe=m(I,I._pos,"ascii",e,t);if(!1===fe)return!1;var le=g(I,I._pos,e,t);if(!1===le)return!1;ae={bindAddr:fe,bindPort:le}}else if("streamlocal-forward@openssh.com"===se||"cancel-streamlocal-forward@openssh.com"===se){if(!1===(w=m(I,I._pos,"utf8",e,t)))return!1;ae={socketPath:w}}else"no-more-sessions@openssh.com"===se||(ae=I.slice(I._pos));e.emit("GLOBAL_REQUEST",se,ce,ae)}else if(N===S.REQUEST_SUCCESS)I.length>1?e.emit("REQUEST_SUCCESS",I.slice(1)):e.emit("REQUEST_SUCCESS");else if(N===S.REQUEST_FAILURE)e.emit("REQUEST_FAILURE");else if(N===S.UNIMPLEMENTED);else{if(N===S.KEXINIT)return function(e,t){var r,n=e._state.incoming,i=n.payload,o={algorithms:{kex:void 0,srvHostKey:void 0,cs:{encrypt:void 0,mac:void 0,compress:void 0},sc:{encrypt:void 0,mac:void 0,compress:void 0}},languages:{cs:void 0,sc:void 0}};if(!1===(r=me(i,17,e,t)))return!1;if(o.algorithms.kex=r,!1===(r=me(i,i._pos,e,t)))return!1;if(o.algorithms.srvHostKey=r,!1===(r=me(i,i._pos,e,t)))return!1;if(o.algorithms.cs.encrypt=r,!1===(r=me(i,i._pos,e,t)))return!1;if(o.algorithms.sc.encrypt=r,!1===(r=me(i,i._pos,e,t)))return!1;if(o.algorithms.cs.mac=r,!1===(r=me(i,i._pos,e,t)))return!1;if(o.algorithms.sc.mac=r,!1===(r=me(i,i._pos,e,t)))return!1;if(o.algorithms.cs.compress=r,!1===(r=me(i,i._pos,e,t)))return!1;if(o.algorithms.sc.compress=r,!1===(r=me(i,i._pos,e,t)))return!1;if(o.languages.cs=r,!1===(r=me(i,i._pos,e,t)))return!1;o.languages.sc=r;var s=i._pos<i.length&&1===i[i._pos];n.kexinit=i,e.emit("KEXINIT",o,s)}(e,t);if(N===S.CHANNEL_REQUEST)return function(e,t){var r,n,i,o,s,a,c,u=e._state.incoming.payload,h=g(u,1,e,t);if(!1===h)return!1;var l=m(u,5,"ascii",e,t);if(!1===l)return!1;if("exit-status"===l){var d=g(u,++u._pos,e,t);if(!1===d)return!1;r={recipient:h,request:l,wantReply:!1,code:d}}else if("exit-signal"===l){var p;if(e.remoteBugs&R.OLD_EXIT){if(!1===(c=g(u,++u._pos,e,t)))return!1;switch(c){case 1:c="HUP";break;case 2:c="INT";break;case 3:c="QUIT";break;case 6:c="ABRT";break;case 9:c="KILL";break;case 14:c="ALRM";break;case 15:c="TERM";break;default:c="UNKNOWN ("+c+")"}p=!1}else{if(!1===(c=m(u,++u._pos,"ascii",e,t)))return!1;if(void 0===(p=u[u._pos++]))return!1;p=0!==p}var y=m(u,u._pos,"utf8",e,t);if(!1===y)return!1;var _=m(u,u._pos,"utf8",e,t);if(!1===_)return!1;r={recipient:h,request:l,wantReply:!1,signal:c,coredump:p,description:y,lang:_}}else if("pty-req"===l){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var v=m(u,u._pos,"ascii",e,t);if(!1===v)return!1;if(!1===(n=g(u,u._pos,e,t)))return!1;if(!1===(i=g(u,u._pos+=4,e,t)))return!1;if(!1===(o=g(u,u._pos+=4,e,t)))return!1;if(!1===(s=g(u,u._pos+=4,e,t)))return!1;var E=m(u,u._pos+=4,e,t);if(!1===E)return!1;E=function(e){for(var t,r={},n=0,i=e.length;n<i&&!((t=e[n])===O.TTY_OP_END||void 0===O[t]||n+5>i);n+=5)r[O[t]]=f(e,n+1);return r}(E),r={recipient:h,request:l,wantReply:a,term:v,cols:n,rows:i,width:o,height:s,modes:E}}else if("window-change"===l){if(!1===(n=g(u,++u._pos,e,t)))return!1;if(!1===(i=g(u,u._pos+=4,e,t)))return!1;if(!1===(o=g(u,u._pos+=4,e,t)))return!1;if(!1===(s=g(u,u._pos+=4,e,t)))return!1;r={recipient:h,request:l,wantReply:!1,cols:n,rows:i,width:o,height:s}}else if("x11-req"===l){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var w=u[u._pos++];if(void 0===w)return!1;w=0!==w;var b=m(u,u._pos,"ascii",e,t);if(!1===b)return!1;var S=m(u,u._pos,"binary",e,t);if(!1===S)return!1;var T=g(u,u._pos,e,t);if(!1===T)return!1;r={recipient:h,request:l,wantReply:a,single:w,protocol:b,cookie:S,screen:T}}else if("env"===l){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var k=m(u,u._pos,"utf8",e,t);if(!1===k)return!1;var A=m(u,u._pos,"utf8",e,t);if(!1===A)return!1;r={recipient:h,request:l,wantReply:a,key:k,val:A}}else if("shell"===l){if(void 0===(a=u[u._pos]))return!1;r={recipient:h,request:l,wantReply:a=0!==a}}else if("exec"===l){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var I=m(u,u._pos,"utf8",e,t);if(!1===I)return!1;r={recipient:h,request:l,wantReply:a,command:I}}else if("subsystem"===l){if(void 0===(a=u[u._pos++]))return!1;a=0!==a;var C=m(u,u._pos,"utf8",e,t);if(!1===C)return!1;r={recipient:h,request:l,wantReply:a,subsystem:C}}else if("signal"===l){if(!1===(c=m(u,++u._pos,"ascii",e,t)))return!1;r={recipient:h,request:l,wantReply:!1,signal:"SIG"+c}}else if("xon-xoff"===l){var N=u[++u._pos];if(void 0===N)return!1;r={recipient:h,request:l,wantReply:!1,clientControl:N=0!==N}}else if("auth-agent-req@openssh.com"===l){if(void 0===(a=u[u._pos]))return!1;r={recipient:h,request:l,wantReply:a=0!==a}}else{if(void 0===(a=u[u._pos]))return!1;r={recipient:h,request:l,wantReply:a=0!==a}}e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_REQUEST ("+h+", "+l+")"),e.emit("CHANNEL_REQUEST:"+h,r)}(e,t);if(N>=30&&N<=49)return function(e,t,r){var n=e._state,i=n.incoming,o=i.payload;if(n.outgoing.status===j||ue(e,t)!==i.expectedPacket){return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+i.expectedPacket+" but got: "+ue(e,t)),e.disconnect(k.PROTOCOL_ERROR),(s=new Error("Received unexpected packet")).level="protocol",e.emit("error",s),!1}if("groupex"===n.kex.type){var s;if(e.server)return e.disconnect(k.PROTOCOL_ERROR),(s=new Error("DH group exchange not supported by server")).level="handshake",e.emit("error",s),!1;if(t===S.KEXDH_GEX_GROUP){var a=m(o,1,e,r);if(!1===a)return!1;var c=m(o,o._pos,e,r);if(!1===c)return!1;e.emit("KEXDH_GEX_GROUP",a,c)}else if(t===S.KEXDH_GEX_REPLY)return he(e,r)}else if(t===S.KEXDH_INIT){var u=m(o,1,e,r);if(!1===u)return!1;e.emit("KEXDH_INIT",u)}else if(t===S.KEXDH_REPLY)return he(e,r)}(e,N,t);if(N>=60&&N<=70)return function(e,t,r){var n,i,o,s=e._state,a=s.authsQueue[0],c=s.incoming.payload;if("password"===a){if(t===S.USERAUTH_PASSWD_CHANGEREQ){if(!1===(n=m(c,1,"utf8",e,r)))return!1;if(!1===(i=m(c,c._pos,"utf8",e,r)))return!1;e.emit("USERAUTH_PASSWD_CHANGEREQ",n,i)}}else if("keyboard-interactive"===a){if(t===S.USERAUTH_INFO_REQUEST){var u,f,h;if(!1===(u=m(c,1,"utf8",e,r)))return!1;if(!1===(f=m(c,c._pos,"utf8",e,r)))return!1;if(!1===(i=m(c,c._pos,"utf8",e,r)))return!1;if(!1===(h=g(c,c._pos,e,r)))return!1;c._pos+=4;for(var l=[],d=0;d<h;++d){if(!1===(o=m(c,c._pos,"utf8",e,r)))return!1;var p=c[c._pos++];if(void 0===p)return!1;p=0!==p,l.push({prompt:o,echo:p})}e.emit("USERAUTH_INFO_REQUEST",u,f,i,l)}else if(t===S.USERAUTH_INFO_RESPONSE){var y=g(c,1,e,r);if(!1===y)return!1;c._pos=5;for(var _=[],v=0;v<y;++v){if(!1===(o=m(c,c._pos,"utf8",e,r)))return!1;_.push(o)}e.emit("USERAUTH_INFO_RESPONSE",_)}}else if("publickey"===a){if(t===S.USERAUTH_PK_OK){var E=e._state.authsQueue;if(!E.length||"publickey"!==E[0])return;E.shift(),e.emit("USERAUTH_PK_OK")}}else if(void 0!==a){e.disconnect(k.PROTOCOL_ERROR);var w=new Error("Invalid authentication method: "+a);w.level="protocol",e.emit("error",w)}}(e,N,t);var de=Buffer.allocUnsafe(5);de[0]=S.UNIMPLEMENTED,h(de,C,1),Ee(e,de)}}function he(e,t){var r=e._state.incoming.payload,n=m(r,1,e,t);if(!1===n)return!1;var i=m(r,r._pos,e,t);if(!1===i)return!1;var o=m(r,r._pos,e,t);if(!1===o)return!1;var s={hostkey:n,hostkey_format:void 0,pubkey:i,sig:o,sig_format:void 0},a=m(n,0,"ascii",e,t);if(!1===a)return!1;s.hostkey_format=a;var c=m(o,0,"ascii",e,t);if(!1===c)return!1;s.sig_format=c,e.emit("KEXDH_REPLY",s)}function le(e,t){var r=e._state.incoming,i=r.hmac;if(e.debug("DEBUG: Parser: Verifying MAC"),r.decrypt.info.authLen>0){var o=r.decrypt,s=o.instance;s.setAuthTag(t);var a=s.update(r.packet);return r.payload=a.slice(1,r.packet.length-a[0]),p(o.iv),o.instance=n.createDecipheriv(I[o.type],o.key,o.iv),o.instance.setAutoPadding(!1),!0}var c=n.createHmac(I[i.type],i.key);h(Z,r.seqno,0),h(Z,r.pktLen,4),Z[8]=r.padLen,c.update(Z),c.update(r.packet);var u=c.digest();return u.length>r.hmac.info.actualLen&&(u=u.slice(0,r.hmac.info.actualLen)),Te(u,t)}function de(e,t){var r=e._state.incoming.decrypt.instance;return e.debug("DEBUG: Parser: Decrypting"),r.update(t)}function pe(e,t,r,n){var i=e._state.incoming.expect;i.amount=r,i.type=t,i.ptr=0,n?i.buf=n:r&&(i.buf=Buffer.allocUnsafe(r))}function me(e,t,r,n){var i=m(e,t,"ascii",r,n);return!1!==i&&(i.length?i.split(","):[])}function ge(e,t){return function(e,t){n.randomBytes(e,(function r(i,o){if(i)return n.randomBytes(e,r);t&&t(o)}))}(16,(function(r){var n=e.config.algorithms,i=n.kexBuf;if(e.remoteBugs&R.BAD_DHGEX){for(var o=!1,s=n.kex,a=s.length-1;a>=0;--a)-1!==s[a].indexOf("group-exchange")&&(o||(s=s.slice(),o=!0),s.splice(a,1));o&&(i=Buffer.from(s.join(",")))}var c=n.serverHostKeyBuf,u=21+i.length+4+c.length+2*(4+n.cipherBuf.length)+2*(4+n.hmacBuf.length)+2*(4+n.compressBuf.length)+8+1+4,f=Buffer.allocUnsafe(u),l=17;f[0]=S.KEXINIT,!1!==r&&r.copy(f,1),h(f,i.length,l),l+=4,i.copy(f,l),l+=i.length,h(f,c.length,l),l+=4,c.copy(f,l),l+=c.length,h(f,n.cipherBuf.length,l),l+=4,n.cipherBuf.copy(f,l),l+=n.cipherBuf.length,h(f,n.cipherBuf.length,l),l+=4,n.cipherBuf.copy(f,l),l+=n.cipherBuf.length,h(f,n.hmacBuf.length,l),l+=4,n.hmacBuf.copy(f,l),l+=n.hmacBuf.length,h(f,n.hmacBuf.length,l),l+=4,n.hmacBuf.copy(f,l),l+=n.hmacBuf.length,h(f,n.compressBuf.length,l),l+=4,n.compressBuf.copy(f,l),l+=n.compressBuf.length,h(f,n.compressBuf.length,l),l+=4,n.compressBuf.copy(f,l),l+=n.compressBuf.length,f.fill(0,f.length-13),e.debug("DEBUG: Outgoing: Writing KEXINIT"),e._state.incoming.expectedPacket="KEXINIT";var d=e._state.outgoing;d.kexinit=f,d.status===j&&(d.status=W),Ee(e,f,t,!0)})),!0}function ye(e){var t=e._state,r=t.outgoing,n=Buffer.allocUnsafe(5+r.pubkey.length);return t.incoming.expectedPacket=t.kex.pktReply,"groupex"===t.kex.type?(n[0]=S.KEXDH_GEX_INIT,e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_INIT")):(n[0]=S.KEXDH_INIT,"group"===t.kex.type?e.debug("DEBUG: Outgoing: Writing KEXDH_INIT"):e.debug("DEBUG: Outgoing: Writing KEXECDH_INIT")),h(n,r.pubkey.length,1),r.pubkey.copy(n,5),Ee(e,n,void 0,!0)}function _e(e,t,r){var n=e._state.outgoing.compress.instance;n.write(t),n.flush(z,ve.bind(e,r))}function ve(e){if(!this._readableState.ended&&!this._writableState.ended){we(this,this._state.outgoing.compress.instance.read(),e);var t=this._state.outgoing.compress.queue;t.shift(),t.length>0&&_e(this,t[0][0],t[0][1])}}function Ee(e,t,r,n){var i=e._state;if(!i)return!1;var o=i.outgoing;if(o.status===W&&!n)return"function"==typeof r?o.rekeyQueue.push([t,r]):o.rekeyQueue.push(t),!1;if(e._readableState.ended||e._writableState.ended)return!1;if(o.compress.instance){var s=o.compress.queue;return s.push([t,r]),1===s.length&&_e(e,s[0][0],s[0][1]),!0}return we(e,t,r)}function we(e,t,r){var i,o,s,a,c,u=e._state.outgoing,f=u.encrypt,l=u.hmac;if(i=t.length+9,!1!==f.instance)if(f.info.authLen>0){for(var d=1+t.length+4;d%f.info.blockLen!=0;)++d;o=d-1-t.length,i=4+d}else{var m=f.info.blockLen;o=(i+=(m-1)*i%m)-t.length-5}else o=(i+=7*i%8)-t.length-5;s=Buffer.allocUnsafe(i),h(s,i-4,0),s[4]=o,t.copy(s,5),be(s,5+t.length,o),!1!==l.type&&l.key&&(a=n.createHmac(I[l.type],l.key),h(u.bufSeqno,u.seqno,0),a.update(u.bufSeqno),a.update(s),(a=a.digest()).length>l.info.actualLen&&(a=a.slice(0,l.info.actualLen)));var g,y=0;if(!1!==f.instance)if(f.info.authLen>0){var _=n.createCipheriv(I[f.type],f.key,f.iv);_.setAutoPadding(!1);var v=s.slice(0,4);_.setAAD(v),e.push(v),y+=v,g=_.update(s.slice(4)),e.push(g),y+=g.length;var E=_.final();E.length&&(e.push(E),y+=E.length);var w=_.getAuthTag();c=e.push(w),y+=w.length,p(f.iv)}else g=f.instance.update(s),e.push(g),y+=g.length,c=e.push(a),y+=a.length;else c=e.push(s),y=s.length;return e.bytesSent+=y,++u.seqno>4294967295&&(u.seqno=0),r&&r(),c}s(ae,o),ae.prototype.__read=o.prototype._read,ae.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},ae.prototype.__push=o.prototype.push,ae.prototype.push=function(e,t){var r=this.__push(e,t);return this._needContinue=!1===r,r},ae.prototype._cleanup=function(e){this.reset(),this.debug("DEBUG: Parser: Malformed packet"),e&&e(new Error("Malformed packet"))},ae.prototype._transform=function(e,t,r,n){var i,o,s,u,f=!1,h=!1,l=this._state,d=l.incoming,p=l.outgoing,m=d.expect,y=d.decrypt,_=d.decompress,v=e.length,E=0,w=this.debug,b=this,T=0,A=T;for(this.bytesReceived+=v;;){if(void 0!==m.type){if(T>=v)break;if(2===m.type){E=v-T;var I=m.buf.length-m.ptr;I<=E?(e.copy(m.buf,m.ptr,T,T+I),T+=I,o=m.buf,m.buf=void 0,m.ptr=0,m.type=void 0):(e.copy(m.buf,m.ptr,T),m.ptr+=E,T+=E);continue}if(0===m.type){if(T+=d.search.push(e),void 0!==m.type)continue}else if(1===m.type){if(4+ ++m.ptr>255)return this.reset(),w("DEBUG: Parser: Identification string exceeded 255 characters"),r(new Error("Max identification string size exceeded"));if(10!==e[T]){++T===v&&A<T&&(void 0===m.buf?m.buf=e.toString("ascii",A,T):m.buf+=e.toString("ascii",A,T));continue}m.type=void 0,A<T&&(void 0===m.buf?m.buf=e.toString("ascii",A,T):m.buf+=e.toString("ascii",A,T)),o=m.buf,m.buf=void 0,++T}}if(d.status===D){if(!this.readable)return r();if(this.server)if(o){if(83!==o[0]||83!==o[1]||72!==o[2]||45!==o[3])return this.reset(),w("DEBUG: Parser: Bad identification start"),r(new Error("Bad identification start"));d.status=x,w("DEBUG: Parser: IN_INIT (waiting for rest of identification)")}else w("DEBUG: Parser: IN_INIT (waiting for identification begin)"),pe(this,2,4);else{w("DEBUG: Parser: IN_INIT");var O=d.search=new c(Y);O.on("info",(function e(t,r,n,i){r&&(void 0===d.greeting?d.greeting=r.toString("binary",n,i):d.greeting+=r.toString("binary",n,i)),t&&(m.type=void 0,d.search.removeListener("info",e))})),O.maxMatches=1,pe(this,0),d.status=x}}else if(d.status===x)w("DEBUG: Parser: IN_GREETING"),d.search=void 0,A=T,pe(this,1),d.status=H;else{if(d.status===H){w("DEBUG: Parser: IN_HEADER"),13===o.charCodeAt(o.length-1)&&(o=o.slice(0,-1));var C=o.indexOf("-"),N=o.indexOf(" "),R={greeting:d.greeting,identRaw:"SSH-"+o,versions:{protocol:o.substr(0,C),software:-1===N?o.substring(C+1):o.substring(C+1,N)},comments:N>-1?o.substring(N+1):void 0};if(d.greeting=void 0,"1.99"!==R.versions.protocol&&"2.0"!==R.versions.protocol)return this.reset(),w("DEBUG: Parser: protocol version not supported: "+R.versions.protocol),r(new Error("Protocol version not supported"));if(this.emit("header",R),d.status===D)return;var U=R.identRaw,L=R.versions.software;this.debug("DEBUG: Remote ident: "+a(U));for(var q,X=0;X<B;++X)"string"==typeof(q=P[X])[0]?L===q[0]&&(this.remoteBugs|=q[1]):q[0].test(L)&&(this.remoteBugs|=q[1]);return d.identRaw=U,this.bytesReceived-=v-T,ge(this,(function(){T===v?r():b._transform(e.slice(T),t,r)})),void(d.status=M)}if(d.status===M)w("DEBUG: Parser: IN_PACKETBEFORE (expecting "+(i=y.instance?y.info.blockLen:8)+")"),pe(this,2,i,y.buf),d.status=F;else if(d.status===F){if(w("DEBUG: Parser: IN_PACKET"),y.instance?((h=y.info.authLen>0)||(o=de(this,o)),i=y.info.blockLen):(h=!1,i=8),!1===(u=g(o,0,this,r)))return;var V,Z=d.hmac.info,J=u+4+(V=Z?Z.actualLen:0),ee=this.maxPacketSize;if(_.instance&&(ee+=5*(this.maxPacketSize/16384+1)+6),u>ee||J<16+V||(u+(h?0:4))%i!=0)return this.disconnect(k.PROTOCOL_ERROR),w("DEBUG: Parser: Bad packet length ("+J+")"),r(new Error("Bad packet length"));d.pktLen=u;var te=d.pktLen+4-i;if(h?(y.instance.setAAD(o.slice(0,4)),w("DEBUG: Parser: pktLen:"+d.pktLen+",remainLen:"+te)):(d.padLen=o[4],w("DEBUG: Parser: pktLen:"+d.pktLen+",padLen:"+d.padLen+",remainLen:"+te)),te>0)d.pktExtra=h?o.slice(4):o.slice(5),pe(this,2,te),d.status=G;else{if(!(te<0)){f=!0,d.status=G;continue}d.status=M}}else if(d.status===G){w("DEBUG: Parser: IN_PACKETDATA"),y.instance?(h=y.info.authLen>0,f?f=!1:h||(o=de(this,o))):(h=!1,f=!1);var re=d.pktLen-d.padLen-1;if(d.pktExtra?(s=Buffer.allocUnsafe(d.pktExtra.length+o.length),d.pktExtra.copy(s),o.copy(s,d.pktExtra.length),d.payload=s.slice(0,re)):(s=h?o.slice(4):o.slice(5),d.payload=o.slice(5,5+re)),void 0!==d.hmac.info){var ne=y.info.authLen||d.hmac.info.actualLen;w("DEBUG: Parser: HMAC size:"+ne),pe(this,2,ne,d.hmac.buf),d.status=$,d.packet=s}else d.status=K;d.pktExtra=void 0,s=void 0}else if(d.status===$){if(w("DEBUG: Parser: IN_PACKETDATAVERIFY"),!le(this,o))return this.reset(),w("DEBUG: Parser: IN_PACKETDATAVERIFY (Invalid HMAC)"),r(new Error("Invalid HMAC"));w("DEBUG: Parser: IN_PACKETDATAVERIFY (Valid HMAC)"),d.status=K,d.packet=void 0}else if(d.status===K){if(_.instance){if(!n){w("DEBUG: Parser: Decompressing"),_.instance.write(d.payload);var ie=[],oe=0;return void _.instance.on("readable",(function(){for(var e;e=this.read();)ie.push(e),oe+=e.length})).flush(z,(function(){var n;_.instance.removeAllListeners("readable"),1===ie.length?d.payload=ie[0]:d.payload=Buffer.concat(ie,oe),ie=null,n=T===v?Q:e.slice(T),b._transform(n,t,r,!0)}))}n=!1}this.emit("packet");var ae=d.payload[0];if(w!==se){var ce="DEBUG: Parser: IN_PACKETDATAAFTER, packet: ",ue=l.authsQueue[0],he=null;if(p.status!==W||ae<=4||ae>=20&&ae<=49||(ce+="(enqueued) "),ae===S.KEXDH_INIT)switch(l.kex.type){case"group":he="KEXDH_INIT";break;case"groupex":he="KEXDH_GEX_REQUEST";break;default:he="KEXECDH_INIT"}else if(ae===S.KEXDH_REPLY)switch(l.kex.type){case"group":he="KEXDH_REPLY";break;case"groupex":he="KEXDH_GEX_GROUP";break;default:he="KEXECDH_REPLY"}else ae===S.KEXDH_GEX_GROUP?he="KEXDH_GEX_GROUP":ae===S.KEXDH_GEX_REPLY?he="KEXDH_GEX_REPLY":60===ae?he="password"===ue?"USERAUTH_PASSWD_CHANGEREQ":"keyboard-interactive"===ue?"USERAUTH_INFO_REQUEST":"publickey"===ue?"USERAUTH_PK_OK":"UNKNOWN PACKET 60":61===ae&&(he="keyboard-interactive"===ue?"USERAUTH_INFO_RESPONSE":"UNKNOWN PACKET 61");null===he&&(he=S[ae]),ae!==S.CHANNEL_OPEN&&ae!==S.CHANNEL_REQUEST&&ae!==S.CHANNEL_SUCCESS&&ae!==S.CHANNEL_FAILURE&&ae!==S.CHANNEL_EOF&&ae!==S.CHANNEL_CLOSE&&ae!==S.CHANNEL_DATA&&ae!==S.CHANNEL_EXTENDED_DATA&&ae!==S.CHANNEL_WINDOW_ADJUST&&ae!==S.DISCONNECT&&ae!==S.USERAUTH_REQUEST&&ae!==S.GLOBAL_REQUEST&&w(ce+he)}if(p.status===j||ae<=4||ae>=20&&ae<=49){if(!1===fe(this,r))return;if(d.status===D)return}else if(p.status===W){if(50===d.rekeyQueue.length)return w("DEBUG: Parser: Max incoming re-key queue length reached"),this.disconnect(k.PROTOCOL_ERROR),r(new Error("Incoming re-key queue length limit reached"));var me=d.seqno;++d.seqno>4294967295&&(d.seqno=0),d.rekeyQueue.push([me,d.payload])}d.status=M,d.payload=void 0}}void 0!==o&&(o=void 0)}r()},ae.prototype.reset=function(e){if(this._state){var t=this._state;t.incoming.status=D,t.outgoing.status=q}else this._state={authsQueue:[],hostkeyFormat:void 0,kex:void 0,incoming:{status:D,expectedPacket:void 0,search:void 0,greeting:void 0,seqno:0,pktLen:void 0,padLen:void 0,pktExtra:void 0,payload:void 0,packet:void 0,kexinit:void 0,identRaw:void 0,rekeyQueue:[],ignoreNext:!1,expect:{amount:void 0,type:void 0,ptr:0,buf:void 0},decrypt:{instance:!1,info:void 0,iv:void 0,key:void 0,buf:void 0,type:void 0},hmac:{info:void 0,key:void 0,buf:void 0,type:!1},decompress:{instance:!1,type:!1}},outgoing:{status:q,seqno:0,bufSeqno:Buffer.allocUnsafe(4),rekeyQueue:[],kexinit:void 0,kexsecret:void 0,pubkey:void 0,exchangeHash:void 0,sessionId:void 0,sentNEWKEYS:!1,encrypt:{instance:!1,info:void 0,iv:void 0,key:void 0,type:void 0},hmac:{info:void 0,key:void 0,buf:void 0,type:!1},compress:{instance:!1,type:!1,queue:null}}};e||this.readable&&this.push(null)},ae.prototype.disconnect=function(e){var t=Buffer.alloc(13);return t[0]=S.DISCONNECT,void 0===k[e]&&(e=k.BY_APPLICATION),h(t,e,1),this.debug("DEBUG: Outgoing: Writing DISCONNECT ("+k[e]+")"),Ee(this,t),this.reset(),!1},ae.prototype.ping=function(){return this.debug("DEBUG: Outgoing: Writing ping (GLOBAL_REQUEST: keepalive@openssh.com)"),Ee(this,J)},ae.prototype.rekey=function(){var e=this._state.outgoing.status;if(e===W)throw new Error("A re-key is already in progress");if(e!==j)throw new Error("Cannot re-key yet");return this.debug("DEBUG: Outgoing: Starting re-key"),ge(this)},ae.prototype.requestSuccess=function(e){var t;return Buffer.isBuffer(e)?((t=Buffer.allocUnsafe(1+e.length))[0]=S.REQUEST_SUCCESS,e.copy(t,1)):t=re,this.debug("DEBUG: Outgoing: Writing REQUEST_SUCCESS"),Ee(this,t)},ae.prototype.requestFailure=function(){return this.debug("DEBUG: Outgoing: Writing REQUEST_FAILURE"),Ee(this,ne)},ae.prototype.channelSuccess=function(e){var t=Buffer.allocUnsafe(5);return t[0]=S.CHANNEL_SUCCESS,h(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_SUCCESS ("+e+")"),Ee(this,t)},ae.prototype.channelFailure=function(e){var t=Buffer.allocUnsafe(5);return t[0]=S.CHANNEL_FAILURE,h(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_FAILURE ("+e+")"),Ee(this,t)},ae.prototype.channelEOF=function(e){var t=Buffer.allocUnsafe(5);return t[0]=S.CHANNEL_EOF,h(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_EOF ("+e+")"),Ee(this,t)},ae.prototype.channelClose=function(e){var t=Buffer.allocUnsafe(5);return t[0]=S.CHANNEL_CLOSE,h(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_CLOSE ("+e+")"),Ee(this,t)},ae.prototype.channelWindowAdjust=function(e,t){var r=Buffer.allocUnsafe(9);return r[0]=S.CHANNEL_WINDOW_ADJUST,h(r,e,1),h(r,t,5),this.debug("DEBUG: Outgoing: Writing CHANNEL_WINDOW_ADJUST ("+e+", "+t+")"),Ee(this,r)},ae.prototype.channelData=function(e,t){var r=Buffer.isBuffer(t),n=r?t.length:Buffer.byteLength(t),i=Buffer.allocUnsafe(9+n);return i[0]=S.CHANNEL_DATA,h(i,e,1),h(i,n,5),r?t.copy(i,9):i.write(t,9,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_DATA ("+e+")"),Ee(this,i)},ae.prototype.channelExtData=function(e,t,r){var n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t),o=Buffer.allocUnsafe(13+i);return o[0]=S.CHANNEL_EXTENDED_DATA,h(o,e,1),h(o,r,5),h(o,i,9),n?t.copy(o,13):o.write(t,13,i,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_EXTENDED_DATA ("+e+")"),Ee(this,o)},ae.prototype.channelOpenConfirm=function(e,t,r,n){var i=Buffer.allocUnsafe(17);return i[0]=S.CHANNEL_OPEN_CONFIRMATION,h(i,e,1),h(i,t,5),h(i,r,9),h(i,n,13),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_CONFIRMATION (r:"+e+", l:"+t+")"),Ee(this,i)},ae.prototype.channelOpenFail=function(e,t,r,n){"string"!=typeof r&&(r=""),"string"!=typeof n&&(n="");var i=Buffer.byteLength(r),o=Buffer.byteLength(n),s=9,a=Buffer.allocUnsafe(13+i+4+o);return a[0]=S.CHANNEL_OPEN_FAILURE,h(a,e,1),h(a,t,5),h(a,i,s),s+=4,i&&(a.write(r,s,i,"utf8"),s+=i),h(a,o,s),o&&a.write(n,s+=4,o,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_FAILURE ("+e+")"),Ee(this,a)},ae.prototype.service=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=Buffer.allocUnsafe(5+t);return r[0]=S.SERVICE_REQUEST,h(r,t,1),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_REQUEST ("+e+")"),Ee(this,r)},ae.prototype.tcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.allocUnsafe(23+n+4);return i[0]=S.GLOBAL_REQUEST,h(i,13,1),i.write("tcpip-forward",5,13,"ascii"),i[18]=void 0===r||!0===r?1:0,h(i,n,19),i.write(e,23,n,"ascii"),h(i,t,23+n),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (tcpip-forward)"),Ee(this,i)},ae.prototype.cancelTcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.allocUnsafe(30+n+4);return i[0]=S.GLOBAL_REQUEST,h(i,20,1),i.write("cancel-tcpip-forward",5,20,"ascii"),i[25]=void 0===r||!0===r?1:0,h(i,n,26),i.write(e,30,n,"ascii"),h(i,t,30+n),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-tcpip-forward)"),Ee(this,i)},ae.prototype.openssh_streamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.allocUnsafe(41+r);return n[0]=S.GLOBAL_REQUEST,h(n,31,1),n.write("streamlocal-forward@openssh.com",5,31,"ascii"),n[36]=void 0===t||!0===t?1:0,h(n,r,37),n.write(e,41,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (streamlocal-forward@openssh.com)"),Ee(this,n)},ae.prototype.openssh_cancelStreamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.allocUnsafe(48+r);return n[0]=S.GLOBAL_REQUEST,h(n,38,1),n.write("cancel-streamlocal-forward@openssh.com",5,38,"ascii"),n[43]=void 0===t||!0===t?1:0,h(n,r,44),n.write(e,48,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-streamlocal-forward@openssh.com)"),Ee(this,n)},ae.prototype.directTcpip=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.srcIP),o=Buffer.byteLength(n.dstIP),s=29,a=Buffer.allocUnsafe(33+i+4+4+o+4);return a[0]=S.CHANNEL_OPEN,h(a,12,1),a.write("direct-tcpip",5,12,"ascii"),h(a,e,17),h(a,t,21),h(a,r,25),h(a,o,s),a.write(n.dstIP,s+=4,o,"ascii"),h(a,n.dstPort,s+=o),h(a,i,s+=4),a.write(n.srcIP,s+=4,i,"ascii"),h(a,n.srcPort,s+=i),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-tcpip)"),Ee(this,a)},ae.prototype.openssh_directStreamLocal=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.socketPath),o=47,s=Buffer.allocUnsafe(51+i+4+4);return s[0]=S.CHANNEL_OPEN,h(s,30,1),s.write("direct-streamlocal@openssh.com",5,30,"ascii"),h(s,e,35),h(s,t,39),h(s,r,43),h(s,i,o),s.write(n.socketPath,o+=4,i,"utf8"),s.fill(0,s.length-8),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-streamlocal@openssh.com)"),Ee(this,s)},ae.prototype.openssh_noMoreSessions=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.allocUnsafe(34);return t[0]=S.GLOBAL_REQUEST,h(t,28,1),t.write("no-more-sessions@openssh.com",5,28,"ascii"),t[33]=void 0===e||!0===e?1:0,this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (no-more-sessions@openssh.com)"),Ee(this,t)},ae.prototype.session=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.allocUnsafe(24);return n[0]=S.CHANNEL_OPEN,h(n,7,1),n.write("session",5,7,"ascii"),h(n,e,12),h(n,t,16),h(n,r,20),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", session)"),Ee(this,n)},ae.prototype.windowChange=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var o=Buffer.allocUnsafe(39);return o[0]=S.CHANNEL_REQUEST,h(o,e,1),h(o,13,5),o.write("window-change",9,13,"ascii"),o[22]=0,h(o,r,23),h(o,t,27),h(o,i,31),h(o,n,35),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", window-change)"),Ee(this,o)},ae.prototype.pty=function(e,t,r,n,i,o,s,a){if(this.server)throw new Error("Client-only method called in server mode");o&&o.length||(o="vt100"),!s||Buffer.isBuffer(s)||Array.isArray(s)||"object"!=typeof s||(s=function(e){for(var t,r,n,i=/^\d+$/,o=Object.keys(e),s=0,a=[],c=0,u=o.length;c<u;++c)t=o[c],(r=O[t])&&!i.test(t)&&"number"==typeof e[t]&&"TTY_OP_END"!==t&&(n=e[t],a[s++]=r,a[s++]=n>>>24&255,a[s++]=n>>>16&255,a[s++]=n>>>8&255,a[s++]=255&n);return a[s]=O.TTY_OP_END,a}(s)),s&&s.length||(s=ie);var c=o.length,u=s.length,f=21,l=Buffer.allocUnsafe(21+c+4+4+4+4+4+u);if(l[0]=S.CHANNEL_REQUEST,h(l,e,1),h(l,7,5),l.write("pty-req",9,7,"ascii"),l[16]=void 0===a||!0===a?1:0,h(l,c,17),l.write(o,21,c,"utf8"),h(l,r,f+=c),h(l,t,f+=4),h(l,i,f+=4),h(l,n,f+=4),h(l,u,f+=4),f+=4,Array.isArray(s))for(var d=0;d<u;++d)l[f++]=s[d];else Buffer.isBuffer(s)&&s.copy(l,f);return this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", pty-req)"),Ee(this,l)},ae.prototype.shell=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.allocUnsafe(15);return r[0]=S.CHANNEL_REQUEST,h(r,e,1),h(r,5,5),r.write("shell",9,5,"ascii"),r[14]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", shell)"),Ee(this,r)},ae.prototype.exec=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.isBuffer(t)?t.length:Buffer.byteLength(t),i=Buffer.allocUnsafe(18+n);return i[0]=S.CHANNEL_REQUEST,h(i,e,1),h(i,4,5),i.write("exec",9,4,"ascii"),i[13]=void 0===r||!0===r?1:0,h(i,n,14),Buffer.isBuffer(t)?t.copy(i,18):i.write(t,18,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exec)"),Ee(this,i)},ae.prototype.signal=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("SIG"===(t=t.toUpperCase()).slice(0,3)&&(t=t.substring(3)),-1===C.indexOf(t))throw new Error("Invalid signal: "+t);var r=t.length,n=Buffer.allocUnsafe(20+r);return n[0]=S.CHANNEL_REQUEST,h(n,e,1),h(n,6,5),n.write("signal",9,6,"ascii"),n[15]=0,h(n,r,16),n.write(t,20,r,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", signal)"),Ee(this,n)},ae.prototype.env=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(t),o=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),s=Buffer.allocUnsafe(17+i+4+o);return s[0]=S.CHANNEL_REQUEST,h(s,e,1),h(s,3,5),s.write("env",9,3,"ascii"),s[12]=void 0===n||!0===n?1:0,h(s,i,13),s.write(t,17,i,"ascii"),h(s,o,17+i),Buffer.isBuffer(r)?r.copy(s,17+i+4):s.write(r,17+i+4,o,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", env)"),Ee(this,s)},ae.prototype.x11Forward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t.protocol),i=Buffer.byteLength(t.cookie),o=Buffer.allocUnsafe(22+n+4+i+4);o[0]=S.CHANNEL_REQUEST,h(o,e,1),h(o,7,5),o.write("x11-req",9,7,"ascii"),o[16]=void 0===r||!0===r?1:0,o[17]=t.single?1:0,h(o,n,18);var s=22;return Buffer.isBuffer(t.protocol)?t.protocol.copy(o,s):o.write(t.protocol,s,n,"utf8"),h(o,i,s+=n),s+=4,Buffer.isBuffer(t.cookie)?t.cookie.copy(o,s):o.write(t.cookie,s,i,"binary"),s+=i,h(o,t.screen||0,s),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", x11-req)"),Ee(this,o)},ae.prototype.subsystem=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t),i=Buffer.allocUnsafe(23+n);return i[0]=S.CHANNEL_REQUEST,h(i,e,1),h(i,9,5),i.write("subsystem",9,9,"ascii"),i[18]=void 0===r||!0===r?1:0,h(i,n,19),i.write(t,23,n,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", subsystem: "+t+")"),Ee(this,i)},ae.prototype.openssh_agentForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.allocUnsafe(36);return r[0]=S.CHANNEL_REQUEST,h(r,e,1),h(r,26,5),r.write("auth-agent-req@openssh.com",9,26,"ascii"),r[35]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", auth-agent-req@openssh.com)"),Ee(this,r)},ae.prototype.authPassword=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.byteLength(t),i=0,o=Buffer.allocUnsafe(5+r+4+14+4+8+1+4+n);return o[i]=S.USERAUTH_REQUEST,h(o,r,++i),o.write(e,i+=4,r,"utf8"),h(o,14,i+=r),o.write("ssh-connection",i+=4,14,"ascii"),h(o,8,i+=14),o.write("password",i+=4,8,"ascii"),o[i+=8]=0,h(o,n,++i),o.write(t,i+=4,n,"utf8"),this._state.authsQueue.push("password"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (password)"),Ee(this,o)},ae.prototype.authPK=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this,o=this._state.outgoing;"function"==typeof t.getPublicSSH?(n=t.type,t=t.getPublicSSH()):n=t.toString("ascii",4,4+f(t,0));var s=Buffer.byteLength(e),a=Buffer.byteLength(n),c=t.length,u=o.sessionId.length,l=0,d=Buffer.allocUnsafe((r?4+u:0)+1+4+s+4+14+4+9+1+4+a+4+c);return r?(h(d,u,l),o.sessionId.copy(d,l+=4),d[l+=u]=S.USERAUTH_REQUEST):d[l]=S.USERAUTH_REQUEST,h(d,s,++l),d.write(e,l+=4,s,"utf8"),h(d,14,l+=s),d.write("ssh-connection",l+=4,14,"ascii"),h(d,9,l+=14),d.write("publickey",l+=4,9,"ascii"),d[l+=9]=r?1:0,h(d,a,++l),d.write(n,l+=4,a,"ascii"),h(d,c,l+=a),t.copy(d,l+=4),r?(r(d,(function(r){if(!1===(r=Se(r,n)))throw new Error("Error while converting handshake signature");var o=r.length,u=Buffer.allocUnsafe(5+s+4+14+4+9+1+4+a+4+c+4+4+a+4+o);return u[l=0]=S.USERAUTH_REQUEST,h(u,s,++l),u.write(e,l+=4,s,"utf8"),h(u,14,l+=s),u.write("ssh-connection",l+=4,14,"ascii"),h(u,9,l+=14),u.write("publickey",l+=4,9,"ascii"),u[l+=9]=1,h(u,a,++l),u.write(n,l+=4,a,"ascii"),h(u,c,l+=a),t.copy(u,l+=4),h(u,4+a+4+o,l+=c),h(u,a,l+=4),u.write(n,l+=4,a,"ascii"),h(u,o,l+=a),r.copy(u,l+=4),i._state.authsQueue.push("publickey"),i.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey)"),Ee(i,u)})),!0):(this._state.authsQueue.push("publickey"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey -- check)"),Ee(this,d))},ae.prototype.authHostbased=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var o,s=this,a=this._state.outgoing;"function"==typeof t.getPublicSSH?(o=t.type,t=t.getPublicSSH()):o=t.toString("ascii",4,4+f(t,0));var c=Buffer.byteLength(e),u=Buffer.byteLength(o),l=t.length,d=a.sessionId.length,p=Buffer.byteLength(r),m=Buffer.byteLength(n),g=0,y=Buffer.allocUnsafe(4+d+1+4+c+4+14+4+9+4+u+4+l+4+p+4+m);return h(y,d,g),a.sessionId.copy(y,g+=4),y[g+=d]=S.USERAUTH_REQUEST,h(y,c,++g),y.write(e,g+=4,c,"utf8"),h(y,14,g+=c),y.write("ssh-connection",g+=4,14,"ascii"),h(y,9,g+=14),y.write("hostbased",g+=4,9,"ascii"),h(y,u,g+=9),y.write(o,g+=4,u,"ascii"),h(y,l,g+=u),t.copy(y,g+=4),h(y,p,g+=l),y.write(r,g+=4,p,"ascii"),h(y,m,g+=p),y.write(n,g+=4,m,"utf8"),i(y,(function(e){if(!1===(e=Se(e,o)))throw new Error("Error while converting handshake signature");var t=e.length,r=Buffer.allocUnsafe(y.length-d+t);return y.copy(r,0,4+d),h(r,t,r.length-t-4),e.copy(r,r.length-t),s._state.authsQueue.push("hostbased"),s.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (hostbased)"),Ee(s,r)})),!0},ae.prototype.authKeyboard=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=Buffer.allocUnsafe(5+t+4+14+4+20+4+4);return n[r]=S.USERAUTH_REQUEST,h(n,t,++r),n.write(e,r+=4,t,"utf8"),h(n,14,r+=t),n.write("ssh-connection",r+=4,14,"ascii"),h(n,20,r+=14),n.write("keyboard-interactive",r+=4,20,"ascii"),h(n,0,r+=20),h(n,0,r+=4),this._state.authsQueue.push("keyboard-interactive"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (keyboard-interactive)"),Ee(this,n)},ae.prototype.authNone=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=Buffer.allocUnsafe(5+t+4+14+4+4);return n[r]=S.USERAUTH_REQUEST,h(n,t,++r),n.write(e,r+=4,t,"utf8"),h(n,14,r+=t),n.write("ssh-connection",r+=4,14,"ascii"),h(n,4,r+=14),n.write("none",r+=4,4,"ascii"),this._state.authsQueue.push("none"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (none)"),Ee(this,n)},ae.prototype.authInfoRes=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t,r,n,i=0,o=0;if(e)for(n=0,r=e.length;n<r;++n)i+=4+Buffer.byteLength(e[n]);var s=Buffer.allocUnsafe(5+i);if(s[o++]=S.USERAUTH_INFO_RESPONSE,h(s,e?e.length:0,o),e)for(o+=4,n=0,r=e.length;n<r;++n)t=Buffer.byteLength(e[n]),h(s,t,o),o+=4,t&&(s.write(e[n],o,t,"utf8"),o+=t);return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_RESPONSE"),Ee(this,s)},ae.prototype.serviceAccept=function(e){if(!this.server)throw new Error("Server-only method called in client mode");var t=e.length,r=Buffer.allocUnsafe(5+t);if(r[0]=S.SERVICE_ACCEPT,h(r,t,1),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_ACCEPT ("+e+")"),Ee(this,r),this.server&&this.banner&&"ssh-userauth"===e){var n=Buffer.byteLength(this.banner),i=5+n+4,o=Buffer.allocUnsafe(i);o[0]=S.USERAUTH_BANNER,h(o,n,1),o.write(this.banner,5,n,"utf8"),o.fill(0,i-4),this.debug("DEBUG: Outgoing: Writing USERAUTH_BANNER"),Ee(this,o),this.banner=void 0}},ae.prototype.forwardedTcpip=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.boundAddr),o=Buffer.byteLength(n.remoteAddr),s=36+i,a=Buffer.allocUnsafe(36+i+4+4+o+4);return a[0]=S.CHANNEL_OPEN,h(a,15,1),a.write("forwarded-tcpip",5,15,"ascii"),h(a,e,20),h(a,t,24),h(a,r,28),h(a,i,32),a.write(n.boundAddr,36,i,"ascii"),h(a,n.boundPort,s),h(a,o,s+=4),a.write(n.remoteAddr,s+=4,o,"ascii"),h(a,n.remotePort,s+=o),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-tcpip)"),Ee(this,a)},ae.prototype.x11=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.originAddr),o=24+i,s=Buffer.allocUnsafe(24+i+4);return s[0]=S.CHANNEL_OPEN,h(s,3,1),s.write("x11",5,3,"ascii"),h(s,e,8),h(s,t,12),h(s,r,16),h(s,i,20),s.write(n.originAddr,24,i,"ascii"),h(s,n.originPort,o),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", x11)"),Ee(this,s)},ae.prototype.openssh_authAgent=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n=Buffer.allocUnsafe(39);return n[0]=S.CHANNEL_OPEN,h(n,22,1),n.write("auth-agent@openssh.com",5,22,"ascii"),h(n,e,27),h(n,t,31),h(n,r,35),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", auth-agent@openssh.com)"),Ee(this,n)},ae.prototype.openssh_forwardedStreamLocal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.socketPath),o=Buffer.allocUnsafe(54+i+4);return o[0]=S.CHANNEL_OPEN,h(o,33,1),o.write("forwarded-streamlocal@openssh.com",5,33,"ascii"),h(o,e,38),h(o,t,42),h(o,r,46),h(o,i,50),o.write(n.socketPath,54,i,"utf8"),h(o,0,54+i),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-streamlocal@openssh.com)"),Ee(this,o)},ae.prototype.exitStatus=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.allocUnsafe(25);return r[0]=S.CHANNEL_REQUEST,h(r,e,1),h(r,11,5),r.write("exit-status",9,11,"ascii"),r[20]=0,h(r,t,21),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-status)"),Ee(this,r)},ae.prototype.exitSignal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(t),o=n?Buffer.byteLength(n):0,s=25+i,a=Buffer.allocUnsafe(25+i+1+4+o+4);return a[0]=S.CHANNEL_REQUEST,h(a,e,1),h(a,11,5),a.write("exit-signal",9,11,"ascii"),a[20]=0,h(a,i,21),a.write(t,25,i,"utf8"),a[s++]=r?1:0,h(a,o,s),s+=4,o&&(a.write(n,s,o,"utf8"),s+=o),h(a,0,s),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-signal)"),Ee(this,a)},ae.prototype.authFailure=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r;if(!this._state.authsQueue.length)throw new Error("No auth in progress");if("boolean"==typeof e&&(t=e,e=void 0),e){r=[];for(var n=0,i=e.length;n<i;++n)"none"!==e[n].toLowerCase()&&r.push(e[n]);r=r.join(",")}else r="";var o=r.length,s=Buffer.allocUnsafe(5+o+1);return s[0]=S.USERAUTH_FAILURE,h(s,o,1),s.write(r,5,o,"ascii"),s[5+o]=!0===t?1:0,this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_FAILURE"),Ee(this,s)},ae.prototype.authSuccess=function(){if(!this.server)throw new Error("Server-only method called in client mode");if(!this._state.authsQueue.length)throw new Error("No auth in progress");var e=this._state,t=e.outgoing,r=e.incoming;e.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_SUCCESS");var n=Ee(this,te);return"zlib@openssh.com"===t.compress.type&&(t.compress.instance=i.createDeflate(X),t.compress.queue=[]),"zlib@openssh.com"===r.decompress.type&&(r.decompress.instance=i.createInflate(X)),n},ae.prototype.authPKOK=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=this._state.authsQueue;if(!r.length||"publickey"!==r[0])throw new Error('"publickey" auth not in progress');var n=e.length,i=t.length,o=Buffer.allocUnsafe(5+n+4+i);return o[0]=S.USERAUTH_PK_OK,h(o,n,1),o.write(e,5,n,"ascii"),h(o,i,5+n),t.copy(o,5+n+4),this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_PK_OK"),Ee(this,o)},ae.prototype.authPasswdChg=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.byteLength(e),n=t?t.length:0,i=0,o=Buffer.allocUnsafe(5+r+4+n);return o[i]=S.USERAUTH_PASSWD_CHANGEREQ,h(o,r,++i),o.write(e,i+=4,r,"utf8"),h(o,n,i+=r),n&&o.write(t,i+=4,n,"ascii"),this.debug("DEBUG: Outgoing: Writing USERAUTH_PASSWD_CHANGEREQ"),Ee(this,o)},ae.prototype.authInfoReq=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n,i,o,s,a=0,c=e?Buffer.byteLength(e):0,u=t?Buffer.byteLength(t):0,f=0;for(s=0,o=r.length;s<o;++s)a+=4+Buffer.byteLength(r[s].prompt)+1;var l=Buffer.allocUnsafe(5+c+4+u+4+4+a);for(l[f++]=S.USERAUTH_INFO_REQUEST,h(l,c,f),f+=4,e&&(l.write(e,f,c,"utf8"),f+=c),h(l,u,f),f+=4,t&&(l.write(t,f,u,"utf8"),f+=u),h(l,0,f),f+=4,h(l,r.length,f),f+=4,s=0,o=r.length;s<o;++s)i=r[s],n=Buffer.byteLength(i.prompt),h(l,n,f),f+=4,n&&(l.write(i.prompt,f,n,"utf8"),f+=n),l[f++]=i.echo?1:0;return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_REQUEST"),Ee(this,l)};var be="function"==typeof n.randomFillSync?n.randomFillSync:function(e,t,r){n.randomBytes(r).copy(e,t)};function Se(e,t){switch(t){case"ssh-dss":return y(e);case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return _(e)}return e}var Te="function"==typeof n.timingSafeEqual?function(e,t){return e.length!==t.length?(n.timingSafeEqual(e,e),!1):n.timingSafeEqual(e,t)}:function(e,t){var r;e.length===t.length?r=0:(r=1,t=e);for(var n=0,i=e.length;n<i;++n)r|=e[n]^t[n];return 0===r};function ke(e,t){switch(e){case"curve25519-sha256":case"curve25519-sha256@libssh.org":if(!N)break;return this.type="25519",this.hash="sha256",this.pktInit="KEXECDH_INIT",void(this.pktReply="KEXECDH_REPLY");case"ecdh-sha2-nistp256":return this.type="ecdh",this.name="prime256v1",this.hash="sha256",this.pktInit="KEXECDH_INIT",void(this.pktReply="KEXECDH_REPLY");case"ecdh-sha2-nistp384":return this.type="ecdh",this.name="secp384r1",this.hash="sha384",this.pktInit="KEXECDH_INIT",void(this.pktReply="KEXECDH_REPLY");case"ecdh-sha2-nistp521":return this.type="ecdh",this.name="secp521r1",this.hash="sha512",this.pktInit="KEXECDH_INIT",void(this.pktReply="KEXECDH_REPLY");case"diffie-hellman-group1-sha1":return this.type="group",this.name="modp2",this.hash="sha1",this.pktInit="KEXDH_INIT",void(this.pktReply="KEXDH_REPLY");case"diffie-hellman-group14-sha1":return this.type="group",this.name="modp14",this.hash="sha1",this.pktInit="KEXDH_INIT",void(this.pktReply="KEXDH_REPLY");case"diffie-hellman-group14-sha256":return this.type="group",this.name="modp14",this.hash="sha256",this.pktInit="KEXDH_INIT",void(this.pktReply="KEXDH_REPLY");case"diffie-hellman-group16-sha512":return this.type="group",this.name="modp16",this.hash="sha512",this.pktInit="KEXDH_INIT",void(this.pktReply="KEXDH_REPLY");case"diffie-hellman-group18-sha512":return this.type="group",this.name="modp18",this.hash="sha512",this.pktInit="KEXDH_INIT",void(this.pktReply="KEXDH_REPLY");case"diffie-hellman-group-exchange-sha1":return this.type="groupex",this.hash="sha1",this.pktInit="KEXDH_GEX_REQ",this.pktReply="KEXDH_GEX_REPLY",this._prime=null,void(this._generator=null);case"diffie-hellman-group-exchange-sha256":return this.type="groupex",this.hash="sha256",this.pktInit="KEXDH_GEX_REQ",this.pktReply="KEXDH_GEX_REPLY",this._prime=null,void(this._generator=null)}throw new Error("Unsupported key exchange algorithm: "+e)}function Ae(e){for(var t,r=0,n=e.length;0===e[r];)++r,--n;return 128&e[r]?((t=Buffer.allocUnsafe(1+n))[0]=0,e.copy(t,1,r),e=t):n!==e.length&&(t=Buffer.allocUnsafe(n),e.copy(t,0,r),e=t),e}ke.prototype.setDHParams=function(e,t){if("groupex"===this.type){if(!Buffer.isBuffer(e))throw new Error("Invalid prime value");if(!Buffer.isBuffer(t))throw new Error("Invalid generator value");this._prime=e,this._generator=t}},ke.prototype.getDHParams=function(){if("groupex"===this.type&&this._kex)return{prime:Ae(this._kex.getPrime()),generator:Ae(this._kex.getGenerator())}},ke.prototype.generateKeys=function(){switch(this.type){case"25519":this._keys||(this._keys=n.generateKeyPairSync("x25519"));break;case"ecdh":this._kex||(this._kex=n.createECDH(this.name),this._public=this._kex.generateKeys());break;case"group":case"groupex":this._kex||(this.name?this._kex=n.createDiffieHellmanGroup(this.name):this._prime&&this._generator&&(this._kex=n.createDiffieHellman(this._prime,this._generator)),this._kex&&(this._public=this._kex.generateKeys()))}},ke.prototype.getPublicKey=function(){var e;switch(this.generateKeys(),this.type){case"25519":return(e=this._keys.publicKey.export({type:"spki",format:"der"})).slice(-32);case"ecdh":case"group":case"groupex":e=this._public}if(e)return this.convertPublicKey(e)},ke.prototype.convertPublicKey=function(e){for(var t,r=0,n=e.length;0===e[r];)++r,--n;switch(this.type){case"25519":if(32===e.length)return e;break;default:if(128&e[r])return(t=Buffer.allocUnsafe(1+n))[0]=0,e.copy(t,1,r),t}return n!==e.length&&(t=Buffer.allocUnsafe(n),e.copy(t,0,r),e=t),e},ke.prototype.computeSecret=function(e){switch(this.generateKeys(),this.type){case"25519":try{var t=new u.Writer;return t.startSequence(),t.startSequence(),t.writeOID("1.3.101.110"),t.endSequence(),t.startSequence(u.BitString),t.writeByte(0),t._ensure(e.length),e.copy(t._buf,t._offset,0,e.length),t._offset+=e.length,t.endSequence(),t.endSequence(),Ae(n.diffieHellman({privateKey:this._keys.privateKey,publicKey:n.createPublicKey({key:t.buffer,type:"spki",format:"der"})}))}catch(e){return e}break;case"ecdh":case"group":case"groupex":try{return Ae(this._kex.computeSecret(e))}catch(e){return e}}},e.exports=ae,e.exports._send=Ee},function(e,t,r){var n=r(11).EventEmitter;function i(e,t,r,n,i){for(var o=0;o<i;++o,++t,++n)if(e[t]!==r[n])return!1;return!0}function o(e){"string"==typeof e&&(e=new Buffer(e));var t,r,n=e.length;for(this.maxMatches=1/0,this.matches=0,this._occ=new Array(256),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=new Buffer(n),r=0;r<256;++r)this._occ[r]=n;if(n>=1)for(t=0;t<n-1;++t)this._occ[e[t]]=n-1-t}(0,r(0).inherits)(o,n),o.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},o.prototype.push=function(e,t){var r,n;for(Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),n=e.length,this._bufpos=t||0;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(e);return r},o.prototype._sbmh_feed=function(e){var t=e.length,r=this._needle,n=r.length,o=-this._lookbehind_size,s=r[n-1],a=this._occ,c=this._lookbehind;if(o<0){for(;o<0&&o<=t-n;){if((f=this._sbmh_lookup_char(e,o+n-1))===s&&this._sbmh_memcmp(e,o,n-1))return this._lookbehind_size=0,++this.matches,o>-this._lookbehind_size?this.emit("info",!0,c,0,this._lookbehind_size+o):this.emit("info",!0),this._bufpos=o+n,o+n;o+=a[f]}if(o<0)for(;o<0&&!this._sbmh_memcmp(e,o,t-o);)o++;if(!(o>=0)){var u=this._lookbehind_size+o;return u>0&&this.emit("info",!1,c,0,u),c.copy(c,0,u,this._lookbehind_size-u),this._lookbehind_size-=u,e.copy(c,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}this.emit("info",!1,c,0,this._lookbehind_size),this._lookbehind_size=0}for(o>=0&&(o+=this._bufpos);o<=t-n;){var f;if((f=e[o+n-1])===s&&e[o]===r[0]&&i(r,0,e,o,n-1))return++this.matches,o>0?this.emit("info",!0,e,this._bufpos,o):this.emit("info",!0),this._bufpos=o+n,o+n;o+=a[f]}if(o<t){for(;o<t&&(e[o]!==r[0]||!i(e,o,r,0,t-o));)++o;o<t&&(e.copy(c,0,o,o+(t-o)),this._lookbehind_size=t-o)}return o>0&&this.emit("info",!1,e,this._bufpos,o<t?o:t),this._bufpos=t,t},o.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},o.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;){if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;++n}return!0},e.exports=o},function(e){e.exports=JSON.parse('{"_args":[["ssh2-streams@0.4.10","/home/runner/work/docker-run/docker-run"]],"_from":"ssh2-streams@0.4.10","_id":"ssh2-streams@0.4.10","_inBundle":false,"_integrity":"sha512-8pnlMjvnIZJvmTzUIIA5nT4jr2ZWNNVHwyXfMGdRJbug9TpI3kd99ffglgfSWqujVv/0gxwMsDn9j9RVst8yhQ==","_location":"/ssh2-streams","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"ssh2-streams@0.4.10","name":"ssh2-streams","escapedName":"ssh2-streams","rawSpec":"0.4.10","saveSpec":null,"fetchSpec":"0.4.10"},"_requiredBy":["/ssh2"],"_resolved":"https://registry.npmjs.org/ssh2-streams/-/ssh2-streams-0.4.10.tgz","_spec":"0.4.10","_where":"/home/runner/work/docker-run/docker-run","author":{"name":"Brian White","email":"mscdex@mscdex.net"},"bugs":{"url":"https://github.com/mscdex/ssh2-streams/issues"},"dependencies":{"asn1":"~0.2.0","bcrypt-pbkdf":"^1.0.2","streamsearch":"~0.1.2"},"description":"SSH2 and SFTP(v3) client/server protocol streams for node.js","engines":{"node":">=5.2.0"},"homepage":"https://github.com/mscdex/ssh2-streams#readme","keywords":["ssh","ssh2","sftp","secure","protocol","streams","client","server"],"licenses":[{"type":"MIT","url":"http://github.com/mscdex/ssh2-streams/raw/master/LICENSE"}],"main":"./index","name":"ssh2-streams","repository":{"type":"git","url":"git+ssh://git@github.com/mscdex/ssh2-streams.git"},"scripts":{"test":"node test/test.js"},"version":"0.4.10"}')},function(e,t,r){var n,i=r(23).Agent,o=r(36).Agent,s=r(0).inherits;function a(e,t){var i=e&&e.localAddress||this._defaultSrcIP,o=e&&e.localPort||0,s=e.host,a=e.port;void 0===n&&(n=r(38).Client);var u=new n,f=!1;u.on("ready",()=>{u.forwardOut(i,o,s,a,(e,r)=>{if(f=!0,e)return u.end(),t(e);r.once("close",()=>{u.end()}),t(null,function(e){return e.setKeepAlive=c,e.setNoDelay=c,e.setTimeout=c,e.ref=c,e.unref=c,e.destroySoon=e.destroy,e}(r))})}).on("error",t).on("close",()=>{f||t(new Error("Unexpected connection loss"))}).connect(this._connectCfg)}function c(){}[i,o].forEach(e=>{function r(t,n){if(!(this instanceof r))return new r(t,n);e.call(this,n),this._connectCfg=t,this._defaultSrcIP=n&&n.srcIP||"localhost"}s(r,e),r.prototype.createConnection=a,t[e===i?"SSHTTPAgent":"SSHTTPSAgent"]=r})},function(e,t,r){(function(t){var n=r(25).Socket,i=r(11).EventEmitter,o=r(0).inherits,s=r(13),a=r(5),c=r(87),u=r(21).readUInt32BE,f=r(21).writeUInt32BE,h=r(21).writeUInt32LE,l=/^\!<socket >(\d+) s ([A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8})/,d=/^[/\\][/\\]\.[/\\]pipe[/\\].+/;if(e.exports=function(e,t,r,i,o){var s,p,m,y,_,v,E,w,b=0,S=Buffer.isBuffer(t),T=0,k=0,A=0,I=0,O=!1;function C(){var e;if(S){var r=9;e=Buffer.allocUnsafe(9+b+4+y+4),f(e,e.length-4,0),e[4]=13,f(e,b,5),t.copy(e,r),f(e,y,r+=b),i.copy(e,r+=4),f(e,0,r+=y),s.write(e)}else s.write(Buffer.from([0,0,0,1,11]))}function N(e){for(var r=0,n=e.length;r<n;++r)if(void 0===_)5==++T&&(_=e[r],T=0);else if(14===_)if(m){if(m[T]=e[r],++T===k)return s.removeAllListeners("data"),s.destroy()}else k<<=8,k+=e[r],4==++T&&(m=Buffer.allocUnsafe(k),T=0);else if(12===_)if(void 0===v){if(A<<=8,A+=e[r],4==++T&&(v=new Array(A),T=0,0===A))return s.removeAllListeners("data"),s.destroy()}else if(t)if(!1===O){if(t[T]=e[r],++T===b&&(v[A-1]=t,b=0,T=0,O=!0,0==--A))return t=void 0,s.removeAllListeners("data"),s.destroy()}else!0===O?(I<<=8,I+=e[r],4==++T&&(T=0,I>0?O=I:(t=void 0,O=!1),I=0)):++T===O&&(O=!1,T=0,t=void 0);else b<<=8,b+=e[r],4==++T&&(t=Buffer.allocUnsafe(b),T=0);else if(5===_)return p=S?new Error("Agent unable to sign data"):new Error("Unable to retrieve list of keys from agent"),s.removeAllListeners("data"),s.destroy()}function R(e){p=e}function P(){p?o(p):S&&!m||!S&&!v?o(new Error("Unexpected disconnection from agent")):S&&m?o(void 0,m):!S&&v&&o(void 0,v)}if("function"==typeof t&&"function"==typeof r?(E=t,w=r):S?(b=t.length,y=i.length):(o=t,t=void 0),"win32"!==process.platform||d.test(e))s=new n;else{if("pageant"!==e){var B=!1;return void a.readFile(e,(function t(r,i){if(r)return B?o(new Error("Invalid cygwin unix socket path")):void c.exec('cygpath -w "'+e+'"',(function(r,n,i){if(r||0===n.length)return o(new Error("Invalid cygwin unix socket path"));B=!0,e=n.toString().replace(/[\r\n]/g,""),a.readFile(e,t)}));var f;if(f=l.exec(i.toString("ascii"))){var d,p,m,g,y,_,v=0,E=!1,w=[],b=Buffer.allocUnsafe(12);for(b.fill(0),d=parseInt(f[1],10),p=f[2].replace(/\-/g,""),m=Buffer.allocUnsafe(16),y=0,_=0;_<32;++y,_+=2)m[y]=parseInt(p.substring(_,_+2),16);for(y=0;y<16;y+=4)h(m,u(m,y),y);function S(){v=0,g="secret",s.write(m)}function T(e){v+=e.length,"secret"===g?16===v&&(v=0,g="creds",s.write(b)):"creds"===g&&(E||w.push(e),12===v&&(s.removeListener("connect",S),s.removeListener("data",T),s.removeListener("close",k),E?(U(),s.emit("connect")):(E=!0,b=Buffer.concat(w),h(b,process.pid,0),s.destroy(),A())))}function k(){o(new Error("Problem negotiating cygwin unix socket security"))}function A(){(s=new n).once("connect",S),s.on("data",T),s.once("close",k),s.connect(d)}A()}else o(new Error("Malformed cygwin unix socket file"))}))}s=new g}function U(){var e;E||w?(s.once("connect",(function(){e=E();var t=!1;function r(){t||(s.destroy(),t=!0)}e.once("end",r).once("close",r).on("data",(function(e){s.write(e)})),s.on("data",(function(t){e.write(t)}))})),s.once("close",(function(){e||w()}))):(s.once("connect",C),s.on("data",N),s.once("error",R),s.once("close",P))}U(),s.connect(e)},"win32"===process.platform){var p={},m=s.resolve(t,"..","util/pagent.exe");function g(){this.proc=void 0,this.buffer=null}p[10]=new Error("Invalid pagent.exe arguments"),p[11]=new Error("Pageant is not running"),p[12]=new Error("pagent.exe could not create an mmap"),p[13]=new Error("pagent.exe could not set mode for stdin"),p[14]=new Error("pagent.exe could not set mode for stdout"),p[15]=new Error("pagent.exe did not get expected input payload"),o(g,i),g.prototype.write=function(e){if(null===this.buffer?this.buffer=e:this.buffer=Buffer.concat([this.buffer,e],this.buffer.length+e.length),!(this.buffer.length<4)){var t=u(this.buffer,0);if(!(this.buffer.length-4<t)){e=this.buffer.slice(0,4+t),this.buffer.length>4+t?this.buffer=this.buffer.slice(4+t):this.buffer=null;var r,n=this,i=!1;(r=this.proc=c.spawn(m,[e.length])).stdout.on("data",(function(e){n.emit("data",e)})),r.once("error",(function(e){i||(i=!0,n.emit("error",e))})),r.once("close",(function(e){n.proc=void 0,p[e]&&!i&&(i=!0,n.emit("error",p[e])),n.emit("close",i)})),r.stdin.end(e)}}},g.prototype.end=g.prototype.destroy=function(){this.buffer=null,this.proc&&(this.proc.kill(),this.proc=void 0)},g.prototype.connect=function(){this.emit("connect")}}}).call(this,"/")},function(e,t){e.exports=require("child_process")},function(e,t,r){var n=r(0).inherits,i=r(11).EventEmitter;function o(e){var t=this;i.call(this),this._stream=e,e.on("error",(function(e){t.emit("error",e)})).on("end",(function(){t.emit("end")})).on("close",(function(){t.emit("close")})).on("continue",(function(){t.emit("continue")}))}n(o,i),o.prototype.end=function(){return this._stream.end()},o.prototype.createReadStream=function(e,t){return this._stream.createReadStream(e,t)},o.prototype.createWriteStream=function(e,t){return this._stream.createWriteStream(e,t)},o.prototype.open=function(e,t,r,n){return this._stream.open(e,t,r,n)},o.prototype.close=function(e,t){return this._stream.close(e,t)},o.prototype.read=function(e,t,r,n,i,o){return this._stream.readData(e,t,r,n,i,o)},o.prototype.write=function(e,t,r,n,i,o){return this._stream.writeData(e,t,r,n,i,o)},o.prototype.fastGet=function(e,t,r,n){return this._stream.fastGet(e,t,r,n)},o.prototype.fastPut=function(e,t,r,n){return this._stream.fastPut(e,t,r,n)},o.prototype.readFile=function(e,t,r){return this._stream.readFile(e,t,r)},o.prototype.writeFile=function(e,t,r,n){return this._stream.writeFile(e,t,r,n)},o.prototype.appendFile=function(e,t,r,n){return this._stream.appendFile(e,t,r,n)},o.prototype.exists=function(e,t){return this._stream.exists(e,t)},o.prototype.unlink=function(e,t){return this._stream.unlink(e,t)},o.prototype.rename=function(e,t,r){return this._stream.rename(e,t,r)},o.prototype.mkdir=function(e,t,r){return this._stream.mkdir(e,t,r)},o.prototype.rmdir=function(e,t){return this._stream.rmdir(e,t)},o.prototype.readdir=function(e,t,r){return this._stream.readdir(e,t,r)},o.prototype.fstat=function(e,t){return this._stream.fstat(e,t)},o.prototype.stat=function(e,t){return this._stream.stat(e,t)},o.prototype.lstat=function(e,t){return this._stream.lstat(e,t)},o.prototype.opendir=function(e,t){return this._stream.opendir(e,t)},o.prototype.setstat=function(e,t,r){return this._stream.setstat(e,t,r)},o.prototype.fsetstat=function(e,t,r){return this._stream.fsetstat(e,t,r)},o.prototype.futimes=function(e,t,r,n){return this._stream.futimes(e,t,r,n)},o.prototype.utimes=function(e,t,r,n){return this._stream.utimes(e,t,r,n)},o.prototype.fchown=function(e,t,r,n){return this._stream.fchown(e,t,r,n)},o.prototype.chown=function(e,t,r,n){return this._stream.chown(e,t,r,n)},o.prototype.fchmod=function(e,t,r){return this._stream.fchmod(e,t,r)},o.prototype.chmod=function(e,t,r){return this._stream.chmod(e,t,r)},o.prototype.readlink=function(e,t){return this._stream.readlink(e,t)},o.prototype.symlink=function(e,t,r){return this._stream.symlink(e,t,r)},o.prototype.realpath=function(e,t){return this._stream.realpath(e,t)},o.prototype.ext_openssh_rename=function(e,t,r){return this._stream.ext_openssh_rename(e,t,r)},o.prototype.ext_openssh_statvfs=function(e,t){return this._stream.ext_openssh_statvfs(e,t)},o.prototype.ext_openssh_fstatvfs=function(e,t){return this._stream.ext_openssh_fstatvfs(e,t)},o.prototype.ext_openssh_hardlink=function(e,t,r){return this._stream.ext_openssh_hardlink(e,t,r)},o.prototype.ext_openssh_fsync=function(e,t){return this._stream.ext_openssh_fsync(e,t)},e.exports=o},function(e,t,r){var n,i=r(25),o=r(11).EventEmitter,s=o.listenerCount,a=r(0).inherits,c=r(26),u=c.utils.parseKey,f=c.SSH2Stream,h=c.SFTPStream,l=c.constants,d=l.DISCONNECT_REASON,p=l.CHANNEL_OPEN_FAILURE,m=l.ALGORITHMS,g=r(43),y=r(90),_=r(21).writeUInt32BE,v=Math.pow(2,32)-1;function E(e,t){if(!(this instanceof E))return new E(e,t);var r,a={"ssh-rsa":null,"ssh-dss":null,"ssh-ed25519":null,"ecdsa-sha2-nistp256":null,"ecdsa-sha2-nistp384":null,"ecdsa-sha2-nistp521":null},c=e.hostKeys;if(!Array.isArray(c))throw new Error("hostKeys must be an array");for(r=0;r<c.length;++r){var h;if((h=Buffer.isBuffer(c[r])||"string"==typeof c[r]?u(c[r]):u(c[r].key,c[r].passphrase))instanceof Error)throw new Error("Cannot parse privateKey: "+h.message);if(Array.isArray(h)&&(h=h[0]),null===h.getPrivatePEM())throw new Error("privateKey value contains an invalid private key");a[h.type]||(a[h.type]=h)}var l={kex:void 0,kexBuf:void 0,cipher:void 0,cipherBuf:void 0,serverHostKey:void 0,serverHostKeyBuf:void 0,hmac:void 0,hmacBuf:void 0,compress:void 0,compressBuf:void 0};if("object"==typeof e.algorithms&&null!==e.algorithms){var p,g;if(g=e.algorithms.kex,Array.isArray(g)&&g.length>0){for(p=m.SUPPORTED_KEX,r=0;r<g.length;++r)if(-1===p.indexOf(g[r]))throw new Error("Unsupported key exchange algorithm: "+g[r]);l.kex=g}if(g=e.algorithms.cipher,Array.isArray(g)&&g.length>0){for(p=m.SUPPORTED_CIPHER,r=0;r<g.length;++r)if(-1===p.indexOf(g[r]))throw new Error("Unsupported cipher algorithm: "+g[r]);l.cipher=g}g=e.algorithms.serverHostKey;var _=!1;if(Array.isArray(g)&&g.length>0){for(p=m.SUPPORTED_SERVER_HOST_KEY,r=g.length-1;r>=0;--r){if(-1===p.indexOf(g[r]))throw new Error("Unsupported server host key algorithm: "+g[r]);a[g[r]]||(_||(g=g.slice(),_=!0),g.splice(r,1))}g.length>0&&(l.serverHostKey=g)}if(g=e.algorithms.hmac,Array.isArray(g)&&g.length>0){for(p=m.SUPPORTED_HMAC,r=0;r<g.length;++r)if(-1===p.indexOf(g[r]))throw new Error("Unsupported HMAC algorithm: "+g[r]);l.hmac=g}if(g=e.algorithms.compress,Array.isArray(g)&&g.length>0){for(p=m.SUPPORTED_COMPRESS,r=0;r<g.length;++r)if(-1===p.indexOf(g[r]))throw new Error("Unsupported compression algorithm: "+g[r]);l.compress=g}}if(void 0===l.serverHostKey){var v=Object.keys(a);for(r=v.length-1;r>=0;--r)a[v[r]]||v.splice(r,1);l.serverHostKey=v}!n&&E.KEEPALIVE_INTERVAL>0&&E.KEEPALIVE_CLIENT_INTERVAL>0&&E.KEEPALIVE_CLIENT_COUNT_MAX>=0&&(n=new y(E.KEEPALIVE_INTERVAL,E.KEEPALIVE_CLIENT_INTERVAL,E.KEEPALIVE_CLIENT_COUNT_MAX));var b=this;o.call(this),"function"==typeof t&&b.on("connection",t);var S,T,k={algorithms:l,hostKeys:a,server:!0};for(r=0,T=(S=Object.keys(e)).length;r<T;++r){var A=S[r];"privateKey"!==A&&"publicKey"!==A&&"passphrase"!==A&&"algorithms"!==A&&"hostKeys"!==A&&"server"!==A&&(k[A]=e[A])}if("function"==typeof k.debug)var I=k.debug,O=Object.keys(k);this._srv=new i.Server((function(e){if(b._connections>=b.maxConnections)e.destroy();else{++b._connections,e.once("close",(function(e){--b._connections,o.read()})).on("error",(function(e){o.reset(),o.emit("error",e)}));var t=k;if(I){t={};for(var r,n=0;n<O.length;++n)t[r=O[n]]=k[r];var i="["+process.hrtime().join(".")+"] ";t.debug=function(e){I(i+e)}}var o=new f(t),a=new w(o,e);e.pipe(o).pipe(e),a.on("error",c),o.once("header",(function(t){if(!o._readableState.ended){if(!s(b,"connection"))return o.disconnect(d.BY_APPLICATION);a.removeListener("error",c),b.emit("connection",a,{ip:e.remoteAddress,family:e.remoteFamily,port:e.remotePort,header:t})}}))}function c(e){}})).on("error",(function(e){b.emit("error",e)})).on("listening",(function(){b.emit("listening")})).on("close",(function(){b.emit("close")})),this._connections=0,this.maxConnections=1/0}function w(e,t){o.call(this);var r=this;this._sshstream=e;var i=this._channels={};this._curChan=-1,this._sock=t,this.noMoreSessions=!1,this.authenticated=!1,e.on("end",(function(){t.resume(),r.emit("end")})).on("close",(function(e){r.emit("close",e)})).on("error",(function(e){r.emit("error",e)})).on("drain",(function(){r.emit("drain")})).on("continue",(function(){r.emit("continue")}));var a,c=0,u=!1,f=[];function h(t,n,i,o){if(0===c||a&&(a.username!==t||a.service!==n)||"password"!==i&&"publickey"!==i&&"hostbased"!==i&&"keyboard-interactive"!==i&&"none"!==i||10===f.length)return e.disconnect(d.PROTOCOL_ERROR);if("ssh-connection"!==n)return e.disconnect(d.SERVICE_NOT_AVAILABLE);var u;if(e._state.authMethod=i,"keyboard-interactive"===i?u=new k(e,t,n,i,o,l):"publickey"===i?u=new A(e,t,n,i,o,l):"hostbased"===i?u=new I(e,t,n,i,o,l):"password"===i?u=new O(e,t,n,i,o,l):"none"===i&&(u=new S(e,t,n,i,l)),a){if(!a._initialResponse)return f.push(u);a._multistep&&!this._finalResponse&&(a._cleanup&&a._cleanup(),a.emit("abort"))}a=u,s(r,"authentication")?r.emit("authentication",a):a.reject()}function l(t,n,i,o){a!==t||r.authenticated||(n?(e.removeListener("USERAUTH_REQUEST",h),a=void 0,r.authenticated=!0,e.authSuccess(),f=[],r.emit("ready")):(e.authFailure(i,o),f.length&&(a=f.pop(),s(r,"authentication")?r.emit("authentication",a):a.reject())))}e.on("SERVICE_REQUEST",(function(t){if(0===c||u||r.authenticated||"ssh-userauth"!==t)return e.disconnect(d.SERVICE_NOT_AVAILABLE);u=!0,e.serviceAccept(t)})).on("USERAUTH_REQUEST",h);var m=[];e.on("GLOBAL_REQUEST",(function(t,n,i){var o={type:null,buf:null};function a(t,r){o.type=t,o.buf=r,function(){for(var t;m.length>0&&m[0].type;)"SUCCESS"===(t=m.shift()).type&&e.requestSuccess(t.buf),"FAILURE"===t.type&&e.requestFailure()}()}if(n&&m.push(o),("tcpip-forward"===t||"cancel-tcpip-forward"===t||"no-more-sessions@openssh.com"===t||"streamlocal-forward@openssh.com"===t||"cancel-streamlocal-forward@openssh.com"===t)&&s(r,"request")&&r.authenticated){var c,u;if(n){var f=!1;c=function(e){var r;f||(f=!0,"tcpip-forward"===t&&0===i.bindPort&&"number"==typeof e&&(r=Buffer.allocUnsafe(4),_(r,e,0)),a("SUCCESS",r))},u=function(){f||(f=!0,a("FAILURE"))}}if("no-more-sessions@openssh.com"===t)return r.noMoreSessions=!0,void(c&&c());r.emit("request",c,u,t,i)}else n&&a("FAILURE")})),e.on("CHANNEL_OPEN",(function(t){if("session"===t.type&&r.noMoreSessions||!r.authenticated){var n=p.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,n)}var o,a,c=N(r),u=!1;if(!1===c)return e.channelOpenFail(t.sender,p.RESOURCE_SHORTAGE);switch(i[c]=!0,a=function(){if(!u){u=!0,delete i[c];var r=p.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,r)}},t.type){case"session":s(r,"session")?(o=function(){if(!u)return u=!0,e.channelOpenConfirm(t.sender,c,g.MAX_WINDOW,g.PACKET_SIZE),new b(r,t,c)},r.emit("session",o,a)):a();break;case"direct-tcpip":s(r,"tcpip")?(o=function(){if(!u){u=!0,e.channelOpenConfirm(t.sender,c,g.MAX_WINDOW,g.PACKET_SIZE);var n={type:void 0,incoming:{id:c,window:g.MAX_WINDOW,packetSize:g.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new g(n,r)}},r.emit("tcpip",o,a,t.data)):a();break;case"direct-streamlocal@openssh.com":s(r,"openssh.streamlocal")?(o=function(){if(!u){u=!0,e.channelOpenConfirm(t.sender,c,g.MAX_WINDOW,g.PACKET_SIZE);var n={type:void 0,incoming:{id:c,window:g.MAX_WINDOW,packetSize:g.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new g(n,r)}},r.emit("openssh.streamlocal",o,a,t.data)):a();break;default:a()}})),e.on("NEWKEYS",(function(){++c>1&&r.emit("rekey")})),n&&this.once("ready",(function(){n.add(e)}))}function b(e,t,r){this.subtype=void 0;var n,i=!1,o=this,a=t.sender,c={type:"session",incoming:{id:r,window:g.MAX_WINDOW,packetSize:g.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};e._sshstream.on("CHANNEL_REQUEST:"+r,(function(t){var r,u,f=!1;if(t.wantReply&&("shell"!==t.request&&"exec"!==t.request&&"subsystem"!==t.request&&(r=function(){if(!(f||i||n))return f=!0,e._sshstream.channelSuccess(a)}),u=function(){if(!(f||i||n))return f=!0,e._sshstream.channelFailure(a)}),i)u&&u();else switch(t.request){case"env":s(o,"env")?o.emit("env",r,u,{key:t.key,val:t.val}):u&&u();break;case"pty-req":s(o,"pty")?o.emit("pty",r,u,{cols:t.cols,rows:t.rows,width:t.width,height:t.height,term:t.term,modes:t.modes}):u&&u();break;case"window-change":s(o,"window-change")?o.emit("window-change",r,u,{cols:t.cols,rows:t.rows,width:t.width,height:t.height}):u&&u();break;case"x11-req":s(o,"x11")?o.emit("x11",r,u,{single:t.single,protocol:t.protocol,cookie:t.cookie,screen:t.screen}):u&&u();break;case"signal":s(o,"signal")?o.emit("signal",r,u,{name:t.signal}):u&&u();break;case"auth-agent-req@openssh.com":s(o,"auth-agent")?o.emit("auth-agent",r,u):u&&u();break;case"shell":s(o,"shell")?(r=function(){if(!(f||i||n))return f=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new g(c,e,{server:!0})).subtype=o.subtype=t.request,n},o.emit("shell",r,u)):u&&u();break;case"exec":s(o,"exec")?(r=function(){if(!(f||i||n))return f=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new g(c,e,{server:!0})).subtype=o.subtype=t.request,n},o.emit("exec",r,u,{command:t.command})):u&&u();break;case"subsystem":r=function(){if(!(f||i||n)){if(f=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new g(c,e,{server:!0})).subtype=o.subtype=t.request+":"+t.subsystem,"sftp"===t.subsystem){var r=new h({server:!0,debug:e._sshstream.debug});return n.pipe(r).pipe(n),r}return n}},"sftp"===t.subsystem&&s(o,"sftp")?o.emit("sftp",r,u):"sftp"!==t.subsystem&&s(o,"subsystem")?o.emit("subsystem",r,u,{name:t.subsystem}):u&&u();break;default:u&&u()}})).once("CHANNEL_EOF:"+r,(function(){i=!0,o.emit("eof"),o.emit("end")})).once("CHANNEL_CLOSE:"+r,(function(){i=!0,o.emit("close")}))}function S(e,t,r,n,i){o.call(this);var s=this;this.username=this.user=t,this.service=r,this.method=n,this._initialResponse=!1,this._finalResponse=!1,this._multistep=!1,this._cbfinal=function(e,t,r){s._finalResponse||(s._finalResponse=!0,i(s,e,t,r))},this._stream=e}a(E,o),E.prototype.listen=function(){return this._srv.listen.apply(this._srv,arguments),this},E.prototype.address=function(){return this._srv.address()},E.prototype.getConnections=function(e){this._srv.getConnections(e)},E.prototype.close=function(e){return this._srv.close(e),this},E.prototype.ref=function(){this._srv.ref()},E.prototype.unref=function(){this._srv.unref()},a(w,o),w.prototype.end=function(){return this._sshstream.disconnect(d.BY_APPLICATION)},w.prototype.x11=function(e,t,r){return C(this,"x11",{originAddr:e,originPort:t},r)},w.prototype.forwardOut=function(e,t,r,n,i){return C(this,"forwarded-tcpip",{boundAddr:e,boundPort:t,remoteAddr:r,remotePort:n},i)},w.prototype.openssh_forwardOutStreamLocal=function(e,t){return C(this,"forwarded-streamlocal@openssh.com",{socketPath:e},t)},w.prototype.rekey=function(e){var t,r=this._sshstream,n=!0;try{n=r.rekey()}catch(e){t=e}return"function"==typeof e&&(t?process.nextTick((function(){e(t)})):this.once("rekey",e)),n},a(b,o),a(S,o),S.prototype.accept=function(){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!0)},S.prototype.reject=function(e,t){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!1,e,t)};var T=/[ \t\r\n]*,[ \t\r\n]*/g;function k(e,t,r,n,i,o){S.call(this,e,t,r,n,o),this._multistep=!0;var s=this;this._cb=void 0,this._onInfoResponse=function(e){if(s._cb){var t=s._cb;s._cb=void 0,t(e)}},this.submethods=i.split(T),this.on("abort",(function(){s._cb&&s._cb(new Error("Authentication request aborted"))}))}function A(e,t,r,n,i,o){var s;if(S.call(this,e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature)switch(i.keyAlgo){case"ssh-rsa":case"ssh-dss":s="sha1";break;case"ssh-ed25519":s=null;break;case"ecdsa-sha2-nistp256":s="sha256";break;case"ecdsa-sha2-nistp384":s="sha384";break;case"ecdsa-sha2-nistp521":s="sha512"}this.sigAlgo=s,this.blob=i.blob}function I(e,t,r,n,i,o){var s;if(S.call(this,e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature)switch(i.keyAlgo){case"ssh-rsa":case"ssh-dss":s="sha1";break;case"ssh-ed25519":s=null;break;case"ecdsa-sha2-nistp256":s="sha256";break;case"ecdsa-sha2-nistp384":s="sha384";break;case"ecdsa-sha2-nistp521":s="sha512"}this.sigAlgo=s,this.blob=i.blob,this.localHostname=i.localHostname,this.localUsername=i.localUsername}function O(e,t,r,n,i,o){S.call(this,e,t,r,n,o),this.password=i}function C(e,t,r,n){var i=N(e),o=g.MAX_WINDOW,s=g.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=!0;var c=e._sshstream;return c.once("CHANNEL_OPEN_CONFIRMATION:"+i,(function(r){c.removeAllListeners("CHANNEL_OPEN_FAILURE:"+i);var a={type:t,incoming:{id:i,window:o,packetSize:s,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new g(a,e,{server:!0}))})).once("CHANNEL_OPEN_FAILURE:"+i,(function(t){c.removeAllListeners("CHANNEL_OPEN_CONFIRMATION:"+i),delete e._channels[i];var r=new Error("(SSH) Channel open failure: "+t.description);r.reason=t.reason,r.lang=t.lang,n(r)})),"forwarded-tcpip"===t?a=c.forwardedTcpip(i,o,s,r):"x11"===t?a=c.x11(i,o,s,r):"forwarded-streamlocal@openssh.com"===t&&(a=c.openssh_forwardedStreamLocal(i,o,s,r)),a}function N(e){if(e._curChan<v)return++e._curChan;for(var t=0,r=e._channels;t<v;++t)if(!r[t])return t;return!1}a(k,S),k.prototype._cleanup=function(){this._stream.removeListener("USERAUTH_INFO_RESPONSE",this._onInfoResponse)},k.prototype.prompt=function(e,t,r,n){Array.isArray(e)||(e=[e]),"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r&&(n=r,r=void 0);for(var i=0;i<e.length;++i)"string"==typeof e[i]&&(e[i]={prompt:e[i],echo:!0});return this._cb=n,this._initialResponse=!0,this._stream.once("USERAUTH_INFO_RESPONSE",this._onInfoResponse),this._stream.authInfoReq(t,r,e)},a(A,S),A.prototype.accept=function(){this.signature?S.prototype.accept.call(this):(this._initialResponse=!0,this._stream.authPKOK(this.key.algo,this.key.data))},a(I,S),a(O,S),E.createServer=function(e,t){return new E(e,t)},E.KEEPALIVE_INTERVAL=1e3,E.KEEPALIVE_CLIENT_INTERVAL=15e3,E.KEEPALIVE_CLIENT_COUNT_MAX=3,e.exports=E,e.exports.IncomingClient=w},function(e,t){function r(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function n(e,t,n){var i=this._streams=[];this._timer=void 0,this._timerInterval=e,this._timerfn=function(){for(var e,o,s=Date.now(),a=0,c=i.length;a<c;++a)if((o=(e=i[a])._kalast)&&s-o>=t)if(++e._kacnt>n){var u=new Error("Keepalive timeout");u.level="client-timeout",e.emit("error",u),e.disconnect(),r(i,a),--a,c=i.length}else e._kalast=s,e.ping()}}n.prototype.start=function(){this._timer&&this.stop(),this._timer=setInterval(this._timerfn,this._timerInterval)},n.prototype.stop=function(){this._timer&&(clearInterval(this._timer),this._timer=void 0)},n.prototype.add=function(e){var t=this._streams,r=this;function n(){e._kalast=Date.now(),e._kacnt=0}e.once("end",(function(){r.remove(e)})).on("packet",n),t[t.length]=e,n(),this._timer||this.start()},n.prototype.remove=function(e){var t=this._streams,n=t.indexOf(e);n>-1&&r(t,n),t.length||this.stop()},e.exports=n},function(e,t,r){e.exports=o;var n=r(0),i=r(15);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);i.Duplex.call(this,r),this._output=null,this.connect(e,t)}n.inherits(o,i.Duplex),o.prototype.connect=function(e,t){var r=this;r.req=e,r._output=t,r.emit("response",t),t.on("data",(function(e){r.push(e)||r._output.pause()})),t.on("end",(function(){r.push(null)}))},o.prototype._read=function(e){this._output&&this._output.resume()},o.prototype._write=function(e,t,r){this.req.write(e,t),r()},o.prototype.end=function(e,t,r){return this._output.socket.destroy(),this.req.end(e,t,r)},o.prototype.destroy=function(){this.req.destroy(),this._output.socket.destroy()}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(17).Buffer,a=r(0).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),u&&o(t,u),e}()},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){e.exports=r(0).deprecate},function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(17),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(31),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),l=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[l].read();null!==r&&(e[f]=null,e[s]=null,e[a]=null,t(d(r,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[l]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(d(void 0,!0));if(this[l].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(d(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(d(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var i=this[l].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[h])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[l].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(y,(i(t={},l,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var n=r[l].read();n?(r[f]=null,r[s]=null,r[a]=null,e(d(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[f]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[f]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[a]=null,n(d(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(16).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function f(){return h.apply(this,arguments)}function h(){return(h=i((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?f():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,f())},c}},function(e,t,r){"use strict";e.exports=i;var n=r(50);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(12)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(16).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(31)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function f(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(f)}},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(101):e.exports=r(103)},function(e,t,r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(51)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return s(e,t,o,"day");if(t>=i)return s(e,t,i,"hour");if(t>=n)return s(e,t,n,"minute");if(t>=r)return s(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(104),i=r(0);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=r(105);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(51)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(32),i=r(106),o=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)}},function(e,t,r){var n=r(5);e.exports=function(e,t,r){t=void 0!==t?t:"\n",r=void 0!==r?r:"utf8";var i=[],o=n.readFileSync(e,r);if(o.indexOf("-END CERTIFICATE-")<0||o.indexOf("-BEGIN CERTIFICATE-")<0)throw Error("File does not contain 'BEGIN CERTIFICATE' or 'END CERTIFICATE'");var s,a,c=[];for(s=0,a=(o=o.split(t)).length;s<a;s++){var u=o[s];0!==u.length&&(c.push(u),u.match(/-END CERTIFICATE-/)&&(i.push(c.join(t)),c=[]))}return i}},function(e,t,r){var n=r(109),i=r(110),o=r(119),s=r(120),a=r(5),c=r(13),u="win32"===r(32).platform(),f=function(){},h=function(e){return e},l=u?function(e){return e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:h,d=function(e,t){return function(r){r.name=r.name.split("/").slice(t).join("/");var n=r.linkname;return n&&("link"===r.type||c.isAbsolute(n))&&(r.linkname=n.split("/").slice(t).join("/")),e(r)}};t.pack=function(e,t){e||(e="."),t||(t={});var r=t.fs||a,n=t.ignore||t.filter||f,s=t.map||f,u=t.mapStream||h,m=function(e,t,r,n,i,o){var s=i||["."];return function(i){if(!s.length)return i();var a=s.shift(),u=c.join(r,a);t(u,(function(t,f){return t?i(t):f.isDirectory()?void e.readdir(u,(function(e,t){if(e)return i(e);o&&t.sort();for(var u=0;u<t.length;u++)n(c.join(r,a,t[u]))||s.push(c.join(a,t[u]));i(null,a,f)})):i(null,a,f)}))}}(r,t.dereference?r.stat:r.lstat,e,n,t.entries,t.sort),g=!1!==t.strict,y="number"==typeof t.umask?~t.umask:~p(),_="number"==typeof t.dmode?t.dmode:0,v="number"==typeof t.fmode?t.fmode:0,E=t.pack||i.pack(),w=t.finish||f;t.strip&&(s=d(s,t.strip)),t.readable&&(_|=parseInt(555,8),v|=parseInt(444,8)),t.writable&&(_|=parseInt(333,8),v|=parseInt(222,8));var b=function(n,i,a){if(n)return E.destroy(n);if(!i)return!1!==t.finalize&&E.finalize(),w(E);if(a.isSocket())return S();var f={name:l(i),mode:(a.mode|(a.isDirectory()?_:v))&y,mtime:a.mtime,size:a.size,type:"file",uid:a.uid,gid:a.gid};if(a.isDirectory())return f.size=0,f.type="directory",f=s(f)||f,E.entry(f,S);if(a.isSymbolicLink())return f.size=0,f.type="symlink",function(t,n){r.readlink(c.join(e,t),(function(e,t){if(e)return E.destroy(e);n.linkname=l(t),E.entry(n,S)}))}(i,f=s(f)||f);if(f=s(f)||f,!a.isFile())return g?E.destroy(new Error("unsupported type for "+i)):S();var h=E.entry(f,S);if(h){var d=u(r.createReadStream(c.join(e,i)),f);d.on("error",(function(e){h.destroy(e)})),o(d,h)}},S=function(e){if(e)return E.destroy(e);m(b)};return S(),E};var p=function(){return process.umask?process.umask():0};function m(e,t,r){s(e,{fs:t.fs},(function(e,i){!e&&i&&t.own?n(i,t.uid,t.gid,r):r(e)}))}t.extract=function(e,t){e||(e="."),t||(t={});var r=t.fs||a,n=t.ignore||t.filter||f,s=t.map||f,g=t.mapStream||h,y=!1!==t.chown&&!u&&0===(process.getuid?process.getuid():-1),_=t.extract||i.extract(),v=[],E=new Date,w="number"==typeof t.umask?~t.umask:~p(),b="number"==typeof t.dmode?t.dmode:0,S="number"==typeof t.fmode?t.fmode:0,T=!1!==t.strict;t.strip&&(s=d(s,t.strip)),t.readable&&(b|=parseInt(555,8),S|=parseInt(444,8)),t.writable&&(b|=parseInt(333,8),S|=parseInt(222,8));var k=function(e,t){for(var n,i;(n=(i=v).length?i[i.length-1]:null)&&e.slice(0,n[0].length)!==n[0];)v.pop();if(!n)return t();r.utimes(n[0],E,n[1],t)};return _.on("entry",(function(i,a,f){(i=s(i)||i).name=l(i.name);var h=c.join(e,c.join("/",i.name));if(n(h,i))return a.resume(),f();var d=function(e){if(e)return f(e);!function(e,n,i){!1===t.utimes?i():"directory"===n.type?r.utimes(e,E,n.mtime,i):"symlink"===n.type?k(e,i):r.utimes(e,E,n.mtime,(function(t){if(t)return i(t);k(e,i)}))}(h,i,(function(e){return e?f(e):u?f():void function(e,t,n){var i="symlink"===t.type,o=i?r.lchmod:r.chmod,s=i?r.lchown:r.chown;if(!o)return n();var a=(t.mode|("directory"===t.type?b:S))&w;o(e,a,(function(r){return r?n(r):y&&s?void s(e,t.uid,t.gid,n):n()}))}(h,i,f)}))},p=function(){var e=r.createWriteStream(h),t=g(a,i);e.on("error",(function(e){t.destroy(e)})),o(t,e,(function(t){if(t)return f(t);e.on("close",d)}))};if("directory"===i.type)return v.push([h,i.mtime]),m(h,{fs:r,own:y,uid:i.uid,gid:i.gid},d);var _=c.dirname(h);!function e(t,r,n,i){if(r===n)return i(null,!0);t.lstat(r,(function(o,s){return o&&"ENOENT"!==o.code?i(o):o||s.isDirectory()?e(t,c.join(r,".."),n,i):void i(null,!1)}))}(r,_,c.join(e,"."),(function(n,o){return n?f(n):o?void m(_,{fs:r,own:y,uid:i.uid,gid:i.gid},(function(n){if(n)return f(n);switch(i.type){case"file":return p();case"link":return function(){if(u)return f();r.unlink(h,(function(){var n=c.join(e,c.join("/",i.linkname));r.link(n,h,(function(e){if(e&&"EPERM"===e.code&&t.hardlinkAsFilesFallback)return a=r.createReadStream(n),p();d(e)}))}))}();case"symlink":return function(){if(u)return f();r.unlink(h,(function(){r.symlink(i.linkname,h,d)}))}()}if(T)return f(new Error("unsupported type for "+h+" ("+i.type+")"));a.resume(),f()})):f(new Error(_+" is not a valid path"))}))})),t.finish&&_.on("finish",t.finish),_}},function(e,t,r){"use strict";const n=r(5),i=r(13),o=n.lchown?"lchown":"chown",s=n.lchownSync?"lchownSync":"chownSync",a=n.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),c=(e,t,r)=>{try{return n[s](e,t,r)}catch(e){if("ENOENT"!==e.code)throw e}},u=a?(e,t,r,i)=>o=>{o&&"EISDIR"===o.code?n.chown(e,t,r,i):i(o)}:(e,t,r,n)=>n,f=a?(e,t,r)=>{try{return c(e,t,r)}catch(i){if("EISDIR"!==i.code)throw i;((e,t,r)=>{try{n.chownSync(e,t,r)}catch(e){if("ENOENT"!==e.code)throw e}})(e,t,r)}}:(e,t,r)=>c(e,t,r),h=process.version;let l=(e,t,r)=>n.readdir(e,t,r);/^v4\./.test(h)&&(l=(e,t,r)=>n.readdir(e,r));const d=(e,t,r,i)=>{n[o](e,t,r,u(e,t,r,e=>{i(e&&"ENOENT"!==e.code?e:null)}))},p=(e,t,r,o,s)=>{if("string"==typeof t)return n.lstat(i.resolve(e,t),(n,i)=>{if(n)return s("ENOENT"!==n.code?n:null);i.name=t,p(e,i,r,o,s)});if(t.isDirectory())m(i.resolve(e,t.name),r,o,n=>{if(n)return s(n);const a=i.resolve(e,t.name);d(a,r,o,s)});else{const n=i.resolve(e,t.name);d(n,r,o,s)}},m=(e,t,r,n)=>{l(e,{withFileTypes:!0},(i,o)=>{if(i){if("ENOENT"===i.code)return n();if("ENOTDIR"!==i.code&&"ENOTSUP"!==i.code)return n(i)}if(i||!o.length)return d(e,t,r,n);let s=o.length,a=null;const c=i=>{if(!a)return i?n(a=i):0==--s?d(e,t,r,n):void 0};o.forEach(n=>p(e,n,t,r,c))})},g=(e,t,r)=>{let o;try{o=((e,t)=>n.readdirSync(e,t))(e,{withFileTypes:!0})}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code||"ENOTSUP"===n.code)return f(e,t,r);throw n}return o&&o.length&&o.forEach(o=>((e,t,r,o)=>{if("string"==typeof t)try{const r=n.lstatSync(i.resolve(e,t));r.name=t,t=r}catch(e){if("ENOENT"===e.code)return;throw e}t.isDirectory()&&g(i.resolve(e,t.name),r,o),f(i.resolve(e,t.name),r,o)})(e,o,t,r)),f(e,t,r)};e.exports=m,m.sync=g},function(e,t,r){t.extract=r(111),t.pack=r(114)},function(e,t,r){var n=r(0),i=r(112),o=r(52),s=r(15).Writable,a=r(15).PassThrough,c=function(){},u=function(e){return(e&=511)&&512-e},f=function(e,t){this._parent=e,this.offset=t,a.call(this)};n.inherits(f,a),f.prototype.destroy=function(e){this._parent.destroy(e)};var h=function(e){if(!(this instanceof h))return new h(e);s.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,r=t._buffer,n=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||n()},l=function(){t._stream=null;var e=u(t._header.size);e?t._parse(e,d):t._parse(512,_),t._locked||n()},d=function(){t._buffer.consume(u(t._header.size)),t._parse(512,_),n()},p=function(){var e=t._header.size;t._paxGlobal=o.decodePax(r.slice(0,e)),r.consume(e),l()},m=function(){var e=t._header.size;t._pax=o.decodePax(r.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),r.consume(e),l()},g=function(){var n=t._header.size;this._gnuLongPath=o.decodeLongPath(r.slice(0,n),e.filenameEncoding),r.consume(n),l()},y=function(){var n=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(r.slice(0,n),e.filenameEncoding),r.consume(n),l()},_=function(){var i,s=t._offset;try{i=t._header=o.decode(r.slice(0,512),e.filenameEncoding)}catch(e){t.emit("error",e)}return r.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,g),void n()):"gnu-long-link-path"===i.type?(t._parse(i.size,y),void n()):"pax-global-header"===i.type?(t._parse(i.size,p),void n()):"pax-header"===i.type?(t._parse(i.size,m),void n()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new f(t,s),t.emit("entry",i,t._stream,a),t._parse(i.size,l),void n()):(t._parse(512,_),void t.emit("entry",i,function(e,t){var r=new f(e,t);return r.end(),r}(t,s),a))):(t._parse(512,_),void n())};this._onheader=_,this._parse(512,_)};n.inherits(h,s),h.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},h.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},h.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},h.prototype._write=function(e,t,r){if(!this._destroyed){var n=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,n?n.write(e,r):(i.append(e),r());this._cb=r,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),n?n.end(e):i.append(e),this._overflow=s,this._onparse()}},h.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=h},function(e,t,r){"use strict";const n=r(15).Duplex,i=r(12),o=r(113);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},function(e,t,r){"use strict";const{Buffer:n}=r(17),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||n.alloc(0);if(i<=0)return e||n.alloc(0);const o=!!e,s=this._offset(r),a=i-r;let c=a,u=o&&t||0,f=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-f)return o?this._bufs[s[0]].copy(e,t,f,f+c):this._bufs[s[0]].slice(f,f+c);o||(e=n.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const r=this._bufs[t].length-f;if(!(c>r)){this._bufs[t].copy(e,u,f,f+c),u+=r;break}this._bufs[t].copy(e,u,f),u+=r,c-=r,f&&(f=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},function(e,t,r){var n=r(115),i=r(53),o=r(12),s=Buffer.alloc,a=r(15).Readable,c=r(15).Writable,u=r(118).StringDecoder,f=r(52),h=parseInt("755",8),l=parseInt("644",8),d=s(1024),p=function(){},m=function(e,t){(t&=511)&&e.push(d.slice(0,512-t))};var g=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,r){if(this.written+=e.length,this._to.push(e))return r();this._to._drain=r},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this.linkname="",this._decoder=new u("utf-8"),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,r){this.linkname+=this._decoder.write(e),r()},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var _=function(){c.call(this),this._destroyed=!1};o(_,c),_.prototype._write=function(e,t,r){r(new Error("No body allowed for this entry"))},_.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var v=function(e){if(!(this instanceof v))return new v(e);a.call(this,e),this._drain=p,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(v,a),v.prototype.entry=function(e,t,r){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(r=t,t=null),r||(r=p);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&n.S_IFMT){case n.S_IFBLK:return"block-device";case n.S_IFCHR:return"character-device";case n.S_IFDIR:return"directory";case n.S_IFIFO:return"fifo";case n.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?h:l),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var s=this.push(t);return m(o,e.size),s?process.nextTick(r):this._drain=r,new _}if("symlink"===e.type&&!e.linkname){var a=new y;return i(a,(function(t){if(t)return o.destroy(),r(t);e.linkname=a.linkname,o._encode(e),r()})),a}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(r),new _;var c=new g(this);return this._stream=c,i(c,(function(t){return o._stream=null,t?(o.destroy(),r(t)):c.written!==e.size?(o.destroy(),r(new Error("size mismatch"))):(m(o,e.size),o._finalizing&&o.finalize(),void r())})),c}},v.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(d),this.push(null))},v.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},v.prototype._encode=function(e){if(!e.pax){var t=f.encode(e);if(t)return void this.push(t)}this._encodePax(e)},v.prototype._encodePax=function(e){var t=f.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),r={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(f.encode(r)),this.push(t),m(this,t.length),r.size=e.size,r.type=e.type,this.push(f.encode(r))},v.prototype._read=function(e){var t=this._drain;this._drain=p,t()},e.exports=v},function(e,t,r){e.exports=r(5).constants||r(116)},function(e,t){e.exports=require("constants")},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},function(e,t){e.exports=require("string_decoder")},function(e,t,r){var n=r(54),i=r(53),o=r(5),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},u=function(e,t,r,u){u=n(u);var f=!1;e.on("close",(function(){f=!0})),i(e,{readable:t,writable:r},(function(e){if(e)return u(e);f=!0,u()}));var h=!1;return function(t){if(!f&&!h)return h=!0,function(e){return!!a&&(!!o&&((e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},f=function(e){e()},h=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var s=o<t.length-1;return u(i,s,o>0,(function(t){e||(e=t),t&&n.forEach(f),s||(n.forEach(f),r(e))}))}));return t.reduce(h)}},function(e,t,r){var n=r(13),i=r(5),o=parseInt("0777",8);function s(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,u=t.fs||i;void 0===c&&(c=o&~process.umask()),a||(a=null);var f=r||function(){};e=n.resolve(e),u.mkdir(e,c,(function(r){if(!r)return f(null,a=a||e);switch(r.code){case"ENOENT":s(n.dirname(e),t,(function(r,n){r?f(r,n):s(e,t,f,n)}));break;default:u.stat(e,(function(e,t){e||!t.isDirectory()?f(r,a):f(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var a=r.mode,c=r.fs||i;void 0===a&&(a=o&~process.umask()),s||(s=null),t=n.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(i){switch(i.code){case"ENOENT":s=e(n.dirname(t),r,s),e(t,r,s);break;default:var u;try{u=c.statSync(t)}catch(e){throw i}if(!u.isDirectory())throw i}}return s}},function(e,t,r){var n=r(15).Writable,i=r(12),o=r(122);if("undefined"==typeof Uint8Array)var s=r(123).Uint8Array;else s=Uint8Array;function a(e,t){if(!(this instanceof a))return new a(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var r=e.encoding,i=!1;r?"u8"!==(r=String(r).toLowerCase())&&"uint8"!==r||(r="uint8array"):i=!0,n.call(this,{objectMode:!0}),this.encoding=r,this.shouldInferEncoding=i,t&&this.on("finish",(function(){t(this.getBody())})),this.body=[]}e.exports=a,i(a,n),a.prototype._write=function(e,t,r){this.body.push(e),r()},a.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return Buffer.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},a.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++)t.push.apply(t,e[r]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"string"==typeof n||Buffer.isBuffer(n)?t.push(n):c(n)?t.push(o(n)):t.push(o(String(n)))}t=Buffer.isBuffer(e[0])?(t=Buffer.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];Buffer.isBuffer(n)?t.push(n):c(n)?t.push(o(n)):t.push(o(String(n)))}return Buffer.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=o(e[r])),t+=e[r].length;for(var n=new s(t),i=(r=0,0);r<e.length;r++)for(var a=e[r],c=0;c<a.length;c++)n[i++]=a[c];return n}(this.body):this.body):[]};Array.isArray;function c(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}},function(e,t){var r=Object.prototype.toString,n="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,t,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return o=e,"ArrayBuffer"===r.call(o).slice(8,-1)?function(e,t,r){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=i;else if((r>>>=0)>i)throw new RangeError("'length' is out of bounds");return n?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}(e,t,i):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(e,t):new Buffer(e,t)}(e,t):n?Buffer.from(e):new Buffer(e);var o}},function(e,t){var r,n,i,o=(r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,{Class:function(e){return r.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return n.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}),s=Math.LN2,a=Math.abs,c=Math.floor,u=Math.log,f=Math.min,h=Math.pow,l=Math.round;function d(e){if(p&&i){var t,r=p(e);for(t=0;t<r.length;t+=1)i(e,r[t],{value:e[r[t]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,r){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return o.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,r.get),o.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,r.set),o.HasProperty(r,"value")&&(e[t]=r.value),e};var p=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)o.HasOwnProperty(e,t)&&r.push(t);return r};function m(e){if(i){if(e.length>1e5)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)r(t)}function r(t){i(e,t,{get:function(){return e._getter(t)},set:function(r){e._setter(t,r)},enumerable:!0,configurable:!1})}}function g(e,t){var r=32-t;return e<<r>>r}function y(e,t){var r=32-t;return e<<r>>>r}function _(e){return[255&e]}function v(e){return g(e[0],8)}function E(e){return[255&e]}function w(e){return y(e[0],8)}function b(e){return[(e=l(Number(e)))<0?0:e>255?255:255&e]}function S(e){return[e>>8&255,255&e]}function T(e){return g(e[0]<<8|e[1],16)}function k(e){return[e>>8&255,255&e]}function A(e){return y(e[0]<<8|e[1],16)}function I(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function O(e){return g(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function C(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function N(e){return y(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function R(e,t,r){var n,i,o,l,d,p,m,g=(1<<t-1)-1;function y(e){var t=c(e),r=e-t;return r<.5?t:r>.5||t%2?t+1:t}for(e!=e?(i=(1<<t)-1,o=h(2,r-1),n=0):e===1/0||e===-1/0?(i=(1<<t)-1,o=0,n=e<0?1:0):0===e?(i=0,o=0,n=1/e==-1/0?1:0):(n=e<0,(e=a(e))>=h(2,1-g)?(i=f(c(u(e)/s),1023),(o=y(e/h(2,i)*h(2,r)))/h(2,r)>=2&&(i+=1,o=1),i>g?(i=(1<<t)-1,o=0):(i+=g,o-=h(2,r))):(i=0,o=y(e/h(2,1-g-r)))),d=[],l=r;l;l-=1)d.push(o%2?1:0),o=c(o/2);for(l=t;l;l-=1)d.push(i%2?1:0),i=c(i/2);for(d.push(n?1:0),d.reverse(),p=d.join(""),m=[];p.length;)m.push(parseInt(p.substring(0,8),2)),p=p.substring(8);return m}function P(e,t,r){var n,i,o,s,a,c,u,f,l=[];for(n=e.length;n;n-=1)for(o=e[n-1],i=8;i;i-=1)l.push(o%2?1:0),o>>=1;return l.reverse(),s=l.join(""),a=(1<<t-1)-1,c=parseInt(s.substring(0,1),2)?-1:1,u=parseInt(s.substring(1,1+t),2),f=parseInt(s.substring(1+t),2),u===(1<<t)-1?0!==f?NaN:c*(1/0):u>0?c*h(2,u-a)*(1+f/h(2,r)):0!==f?c*h(2,-(a-1))*(f/h(2,r)):c<0?-0:0}function B(e){return P(e,11,52)}function U(e){return R(e,11,52)}function L(e){return P(e,8,23)}function D(e){return R(e,8,23)}!function(){var e=function(e){if((e=o.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;d(this)};t.ArrayBuffer=t.ArrayBuffer||e;var r=function(){};function n(t,n,i){var s;return(s=function(t,r,n){var i,a,c,u;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===s)for(i=arguments[0],this.length=i.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)this._setter(c,i._getter(c));else if("object"!=typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===o.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===o.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=o.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=o.ToUint32(n),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(a=arguments[0],this.length=o.ToUint32(a.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)u=a[c],this._setter(c,Number(u));else{if(this.length=o.ToInt32(arguments[0]),n<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=s,d(this),m(this)}).prototype=new r,s.prototype.BYTES_PER_ELEMENT=t,s.prototype._pack=n,s.prototype._unpack=i,s.BYTES_PER_ELEMENT=t,s.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(!((e=o.ToUint32(e))>=this.length)){var t,r,n=[];for(t=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)}},s.prototype.get=s.prototype._getter,s.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(!((e=o.ToUint32(e))>=this.length)){var r,n,i=this._pack(t);for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]}},s.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var r,n,i,s,a,c,u,f,h,l;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(i=o.ToUint32(arguments[1]))+r.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(f=this.byteOffset+i*this.BYTES_PER_ELEMENT,h=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(l=[],a=0,c=r.byteOffset;a<h;a+=1,c+=1)l[a]=r.buffer._bytes[c];for(a=0,u=f;a<h;a+=1,u+=1)this.buffer._bytes[u]=l[a]}else for(a=0,c=r.byteOffset,u=f;a<h;a+=1,c+=1,u+=1)this.buffer._bytes[u]=r.buffer._bytes[c]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(n=arguments[0],s=o.ToUint32(n.length),(i=o.ToUint32(arguments[1]))+s>this.length)throw new RangeError("Offset plus length of array is out of range");for(a=0;a<s;a+=1)c=n[a],this._setter(i+a,Number(c))}},s.prototype.subarray=function(e,t){function r(e,t,r){return e<t?t:e>r?r:e}e=o.ToInt32(e),t=o.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length);var n=(t=r(t,0,this.length))-e;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)},s}var i=n(1,_,v),s=n(1,E,w),a=n(1,b,w),c=n(2,S,T),u=n(2,k,A),f=n(4,I,O),h=n(4,C,N),l=n(4,D,L),p=n(8,U,B);t.Int8Array=t.Int8Array||i,t.Uint8Array=t.Uint8Array||s,t.Uint8ClampedArray=t.Uint8ClampedArray||a,t.Int16Array=t.Int16Array||c,t.Uint16Array=t.Uint16Array||u,t.Int32Array=t.Int32Array||f,t.Uint32Array=t.Uint32Array||h,t.Float32Array=t.Float32Array||l,t.Float64Array=t.Float64Array||p}(),function(){function e(e,t){return o.IsCallable(e.get)?e.get(t):e[t]}var r,n=(r=new t.Uint16Array([4660]),18===e(new t.Uint8Array(r.buffer),0)),i=function(e,r,n){if(0===arguments.length)e=new t.ArrayBuffer(0);else if(!(e instanceof t.ArrayBuffer||"ArrayBuffer"===o.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new t.ArrayBuffer(0),this.byteOffset=o.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteLength=arguments.length<3?this.buffer.byteLength-this.byteOffset:o.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");d(this)};function s(r){return function(i,s){if((i=o.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");i+=this.byteOffset;var a,c=new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT),u=[];for(a=0;a<r.BYTES_PER_ELEMENT;a+=1)u.push(e(c,a));return Boolean(s)===Boolean(n)&&u.reverse(),e(new r(new t.Uint8Array(u).buffer),0)}}function a(r){return function(i,s,a){if((i=o.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var c,u=new r([s]),f=new t.Uint8Array(u.buffer),h=[];for(c=0;c<r.BYTES_PER_ELEMENT;c+=1)h.push(e(f,c));Boolean(a)===Boolean(n)&&h.reverse(),new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT).set(h)}}i.prototype.getUint8=s(t.Uint8Array),i.prototype.getInt8=s(t.Int8Array),i.prototype.getUint16=s(t.Uint16Array),i.prototype.getInt16=s(t.Int16Array),i.prototype.getUint32=s(t.Uint32Array),i.prototype.getInt32=s(t.Int32Array),i.prototype.getFloat32=s(t.Float32Array),i.prototype.getFloat64=s(t.Float64Array),i.prototype.setUint8=a(t.Uint8Array),i.prototype.setInt8=a(t.Int8Array),i.prototype.setUint16=a(t.Uint16Array),i.prototype.setInt16=a(t.Int16Array),i.prototype.setUint32=a(t.Uint32Array),i.prototype.setInt32=a(t.Int32Array),i.prototype.setFloat32=a(t.Float32Array),i.prototype.setFloat64=a(t.Float64Array),t.DataView=t.DataView||i}()},function(e,t,r){r(3).extend;var n=r(55),i=r(3),o=function(e,t){this.modem=e,this.id=t,this.defaultOptions={top:{},start:{},commit:{},stop:{},pause:{},unpause:{},restart:{},resize:{},attach:{},remove:{},copy:{},kill:{},exec:{},rename:{},log:{},stats:{},getArchive:{},infoArchive:{},putArchive:{},update:{},wait:{}}};o.prototype[r(0).inspect.custom]=function(){return this},o.prototype.inspect=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/json?",method:"GET",options:n.opts,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.rename=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.rename),o={path:"/containers/"+this.id+"/rename?",method:"POST",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.update=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.update),o={path:"/containers/"+this.id+"/update",method:"POST",statusCodes:{200:!0,204:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.top=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.top),o={path:"/containers/"+this.id+"/top?",method:"GET",statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.changes=function(e){var t=this,r={path:"/containers/"+this.id+"/changes",method:"GET",statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},o.prototype.listCheckpoint=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/checkpoints?",method:"GET",statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.deleteCheckpoint=function(e,t,r){var n=this,o=i.processArgs(t,r),s={path:"/containers/"+this.id+"/checkpoints/"+e+"?",method:"DELETE",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){n.modem.dial(s,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(s,(function(e,t){o.callback(e,t)}))},o.prototype.createCheckpoint=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/checkpoints",method:"POST",allowEmpty:!0,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.export=function(e){var t=this,r={path:"/containers/"+this.id+"/export",method:"GET",isStream:!0,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},o.prototype.start=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.start),o={path:"/containers/"+this.id+"/start",method:"POST",statusCodes:{200:!0,204:!0,304:"container already started",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.pause=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.pause),o={path:"/containers/"+this.id+"/pause",method:"POST",statusCodes:{200:!0,204:!0,500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.unpause=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.unpause),o={path:"/containers/"+this.id+"/unpause",method:"POST",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.exec=function(e,t){var r=this,o=i.processArgs(e,t,this.defaultOptions.exec),s={path:"/containers/"+this.id+"/exec",method:"POST",statusCodes:{200:!0,201:!0,404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){r.modem.dial(s,(function(i,o){if(i)return t(i);e(new n(r.modem,o.Id))}))}));this.modem.dial(s,(function(e,t){if(e)return o.callback(e,t);o.callback(e,new n(r.modem,t.Id))}))},o.prototype.commit=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.commit);n.opts.container=this.id;var o={path:"/commit?",method:"POST",statusCodes:{200:!0,201:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.stop=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.stop),o={path:"/containers/"+this.id+"/stop?",method:"POST",statusCodes:{200:!0,204:!0,304:"container already stopped",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.restart=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.restart),o={path:"/containers/"+this.id+"/restart?",method:"POST",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.kill=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.kill),o={path:"/containers/"+this.id+"/kill?",method:"POST",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.resize=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.resize),o={path:"/containers/"+this.id+"/resize?",method:"POST",statusCodes:{200:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.attach=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.attach),o={path:"/containers/"+this.id+"/attach?",method:"POST",isStream:!0,hijack:n.opts.hijack,openStdin:n.opts.stdin,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.wait=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.wait),o={path:"/containers/"+this.id+"/wait?",method:"POST",statusCodes:{200:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.remove=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.remove),o={path:"/containers/"+this.id+"?",method:"DELETE",statusCodes:{200:!0,204:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.copy=function(e,t){var r=this;console.log("container.copy is deprecated since Docker v1.8.x");var n=i.processArgs(e,t,this.defaultOptions.copy),o={path:"/containers/"+this.id+"/copy",method:"POST",isStream:!0,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.getArchive=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.getArchive),o={path:"/containers/"+this.id+"/archive?",method:"GET",isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.infoArchive=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.infoArchive),o={path:"/containers/"+this.id+"/archive?",method:"HEAD",isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.putArchive=function(e,t,r){var n=this,o=i.processArgs(t,r,this.defaultOptions.putArchive),s={path:"/containers/"+this.id+"/archive?",method:"PUT",file:e,isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",403:"client error, permission denied",404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){n.modem.dial(s,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(s,(function(e,t){o.callback(e,t)}))},o.prototype.logs=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.log),o={path:"/containers/"+this.id+"/logs?",method:"GET",isStream:n.opts.follow||!1,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.stats=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.stats),o=!0;!1===n.opts.stream&&(o=!1);var s={path:"/containers/"+this.id+"/stats?",method:"GET",isStream:o,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(s,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(s,(function(e,t){n.callback(e,t)}))},e.exports=o},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.name=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/images/"+this.name+"/json",method:"GET",statusCodes:{200:!0,404:"no such image",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.distribution=function(e,t){var r=n.processArgs(e,t),i=this,o={path:"/distribution/"+this.name+"/json",method:"GET",statusCodes:{200:!0,401:"no such image",500:"server error"},authconfig:r.opts?r.opts.authconfig:void 0};if(void 0===r.callback)return new this.modem.Promise((function(e,t){i.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return r.callback(e,t);r.callback(e,t)}))},i.prototype.history=function(e){var t=this,r={path:"/images/"+this.name+"/history",method:"GET",statusCodes:{200:!0,404:"no such image",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.get=function(e){var t=this,r={path:"/images/"+this.name+"/get",method:"GET",isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.push=function(e,t,r){var i=this,o=n.processArgs(e,t),s=!0;!1===o.opts.stream&&(s=!1);var a={path:"/images/"+this.name+"/push?",method:"POST",options:o.opts,authconfig:o.opts.authconfig||r,isStream:s,statusCodes:{200:!0,404:"no such image",500:"server error"}};if(delete a.options.authconfig,void 0===t)return new this.modem.Promise((function(e,t){i.modem.dial(a,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(a,(function(e,r){t(e,r)}))},i.prototype.tag=function(e,t){var r=this,n={path:"/images/"+this.name+"/tag?",method:"POST",options:e,statusCodes:{200:!0,201:!0,400:"bad parameter",404:"no such image",409:"conflict",500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/images/"+this.name+"?",method:"DELETE",statusCodes:{200:!0,404:"no such image",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.name=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/volumes/"+this.name,method:"GET",statusCodes:{200:!0,404:"no such volume",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/volumes/"+this.name,method:"DELETE",statusCodes:{204:!0,404:"no such volume",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t);e={path:"/networks/"+this.id+"?",method:"GET",statusCodes:{200:!0,404:"no such network",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(t,n){r.modem.dial(e,(function(e,r){if(e)return n(e);t(r)}))}));this.modem.dial(e,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id,method:"DELETE",statusCodes:{200:!0,204:!0,404:"no such network",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.connect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id+"/connect",method:"POST",statusCodes:{200:!0,201:!0,404:"network or container is not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.disconnect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id+"/disconnect",method:"POST",statusCodes:{200:!0,201:!0,404:"network or container is not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/services/"+this.id,method:"GET",statusCodes:{200:!0,404:"no such service",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.remove=function(e){var t=this,r={path:"/services/"+this.id,method:"DELETE",statusCodes:{200:!0,204:!0,404:"no such service",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.update=function(e,t,r){var n=this;if(!r){var i=typeof t;"function"===i?(r=t,e=(t=e).authconfig||void 0):"undefined"===i&&(e=(t=e).authconfig||void 0)}var o={path:"/services/"+this.id+"/update?",method:"POST",statusCodes:{200:!0,404:"no such service",500:"server error"},authconfig:e,options:t};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){r(e,t)}))},i.prototype.logs=function(e,t){var r=this,i=n.processArgs(e,t,{}),o={path:"/services/"+this.id+"/logs?",method:"GET",isStream:i.opts.follow||!1,statusCodes:{200:!0,404:"no such service",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(3),i=function(e,t,r){this.modem=e,this.name=t,this.remote=r||t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/plugins/"+this.name,method:"GET",statusCodes:{200:!0,404:"plugin is not installed",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"?",method:"DELETE",statusCodes:{200:!0,404:"plugin is not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.privileges=function(e){var t=this,r={path:"/plugins/privileges?",method:"GET",options:{remote:this.remote},statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.pull=function(e,t){var r=this,i=n.processArgs(e,t);i.opts._query&&!i.opts._query.name&&(i.opts._query.name=this.name),i.opts._query&&!i.opts._query.remote&&(i.opts._query.remote=this.remote);var o={path:"/plugins/pull?",method:"POST",isStream:!0,options:i.opts,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.enable=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/enable?",method:"POST",statusCodes:{200:!0,500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.disable=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/disable",method:"POST",statusCodes:{200:!0,500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.push=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/push",method:"POST",statusCodes:{200:!0,404:"plugin not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.configure=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/set",method:"POST",statusCodes:{200:!0,404:"plugin not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.upgrade=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,e=(t=e).authconfig||void 0);var i={path:"/plugins/"+this.name+"/upgrade?",method:"POST",statusCodes:{200:!0,204:!0,404:"plugin not installed",500:"server error"},authconfig:e,options:t};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},e.exports=i},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/secrets/"+this.id,method:"GET",statusCodes:{200:!0,404:"secret not found",406:"node is not part of a swarm",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/secrets/"+this.id+"/update?",method:"POST",statusCodes:{200:!0,404:"secret not found",500:"server error"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/secrets/"+this.id,method:"DELETE",statusCodes:{200:!0,204:!0,404:"secret not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/configs/"+this.id,method:"GET",statusCodes:{200:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/configs/"+this.id+"/update?",method:"POST",statusCodes:{200:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/configs/"+this.id,method:"DELETE",statusCodes:{200:!0,204:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.id=t,this.defaultOptions={log:{}}};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/tasks/"+this.id,method:"GET",statusCodes:{200:!0,404:"unknown task",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.logs=function(e,t){var r=this,i=n.processArgs(e,t,this.defaultOptions.log),o={path:"/tasks/"+this.id+"/logs?",method:"GET",isStream:i.opts.follow||!1,statusCodes:{101:!0,200:!0,404:"no such container",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(3),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/nodes/"+this.id,method:"GET",statusCodes:{200:!0,404:"no such node",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/nodes/"+this.id+"/update?",method:"POST",statusCodes:{200:!0,404:"no such node",406:"node is not part of a swarm",500:"server error"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/nodes/"+this.id+"?",method:"DELETE",statusCodes:{200:!0,404:"no such node",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(135);t.StartOperation=n.StartOperation;var i=r(136);t.StopOperation=i.StopOperation;var o=r(137);t.StopNonRelatedOperation=o.StopNonRelatedOperation},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(2),s=r(33);class a extends s.Operation{constructor(){super()}getProgressTitleForSingleContainer(e){return o.STARTING_CONTAINER(e)}getProgressTitleForMultipleContainers(e){return e?o.STARTING_ALL_CONTAINERS:o.STARTING_SELECTED_CONTAINERS}operate(e,t){return n(this,void 0,void 0,(function*(){const r=yield e.inspect(),{State:{Running:n}}=r;!0!==n?(yield e.start(),i.window.showInformationMessage(o.SUCCESSFULLY_STARTED_CONTAINER(t))):i.window.showInformationMessage(o.CONTAINER_ALREADY_RUNNING(t))}))}}t.StartOperation=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(2),s=r(33);class a extends s.Operation{constructor(){super()}getProgressTitleForSingleContainer(e){return o.STOPPING_CONTAINER(e)}getProgressTitleForMultipleContainers(e){return e?o.STOPPING_ALL_CONTAINERS:o.STOPPING_SELECTED_CONTAINERS}operate(e,t){return n(this,void 0,void 0,(function*(){const r=yield e.inspect(),{State:{Running:n}}=r;!1!==n&&(yield e.stop(),i.window.showInformationMessage(o.SUCCESSFULLY_STOPPED_CONTAINER(t)))}))}}t.StopOperation=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(2),s=r(33);class a extends s.Operation{constructor(){super()}getProgressTitleForSingleContainer(e){return o.STOPPING_NON_RELATED_CONTAINER(e)}getProgressTitleForMultipleContainers(){return o.STOPPING_NON_RELATED_CONTAINERS}operate(e,t){return n(this,void 0,void 0,(function*(){const r=yield e.inspect(),{State:{Running:n}}=r;!1!==n&&(yield e.stop(),i.window.showInformationMessage(o.SUCCESSFULLY_STOPPED_NON_RELATED_CONTAINER(t)))}))}}t.StopNonRelatedOperation=a}]);
//# sourceMappingURL=extension.js.map