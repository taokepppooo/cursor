(()=>{var e={151:e=>{function t(e){return Array.isArray(e)?e:[e]}const r=/^\s+$/,n=/^\\!/,s=/^\\#/,i=/\r?\n/g,o=/^\.*\/|^\.+$/,c="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",a=/([0-z])-([0-z])/g,h=()=>!1,u=[[/\\?\s+$/,e=>0===e.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,s)=>"\\"===t?`\\[${r}${(e=>{const{length:t}=e;return e.slice(0,t-t%2)})(n)}${s}`:"]"===s&&n.length%2==0?`[${(e=>e.replace(a,((e,t,r)=>t.charCodeAt(0)<=r.charCodeAt(0)?e:"")))(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>(t?`${t}[^/]+`:"[^/]*")+"(?=$|\\/$)"]],d=Object.create(null),l=e=>"string"==typeof e;class p{constructor(e,t,r,n){this.origin=e,this.pattern=t,this.negative=r,this.regex=n}}const g=(e,t)=>{throw new t(e)},f=(e,t,r)=>l(e)?e?!f.isNotRelative(e)||r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),$=e=>o.test(e);f.isNotRelative=$,f.convert=e=>e;class y{constructor({ignorecase:e=!0,ignoreCase:t=e,allowRelativePaths:r=!1}={}){var n;n=c,Object.defineProperty(this,n,{value:true}),this._rules=[],this._ignoreCase=t,this._allowRelativePaths=r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[c])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if((e=>e&&l(e)&&!r.test(e)&&0!==e.indexOf("#"))(e)){const t=((e,t)=>{const r=e;let i=!1;0===e.indexOf("!")&&(i=!0,e=e.substr(1));const o=((e,t)=>{let r=d[e];return r||(r=u.reduce(((t,r)=>t.replace(r[0],r[1].bind(e))),e),d[e]=r),t?new RegExp(r,"i"):new RegExp(r)})(e=e.replace(n,"!").replace(s,"#"),t);return new p(r,e,i,o)})(e,this._ignoreCase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,t(l(e)?(e=>e.split(i))(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,t){let r=!1,n=!1;return this._rules.forEach((s=>{const{negative:i}=s;n===i&&r!==n||i&&!r&&!n&&!t||s.regex.test(e)&&(r=!i,n=i)})),{ignored:r,unignored:n}}_test(e,t,r,n){const s=e&&f.convert(e);return f(s,e,this._allowRelativePaths?h:g),this._t(s,t,r,n)}_t(e,t,r,n){if(e in t)return t[e];if(n||(n=e.split("/")),n.pop(),!n.length)return t[e]=this._testOne(e,r);const s=this._t(n.join("/")+"/",t,r,n);return t[e]=s.ignored?s:this._testOne(e,r)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return t(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}}const _=e=>new y(e);if(_.isPathValid=e=>f(e&&f.convert(e),e,h),_.default=_,e.exports=_,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const e=e=>/^\\\\\?\\/.test(e)||/["<>|\u0000-\u001F]+/u.test(e)?e:e.replace(/\\/g,"/");f.convert=e;const t=/^[a-z]:\//i;f.isNotRelative=e=>t.test(e)||$(e)}},64:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectoryStructure=void 0;const n=r(496),s=r(147),i=r(17),o=r(151);let c;const a=n.workspace.getConfiguration("directoryTree");function h(e,t){const r=[];try{const n=s.readdirSync(e);for(let a=0;a<n.length;a++){const u=n[a],d=i.join(e,u);if((0,o.default)().add(t).ignores(i.relative(c,d)))continue;const l=s.statSync(d),p=l.isFile(),g=l.isDirectory();if(p&&r.push({name:u,type:"file"}),g){const e=h(d,t);r.push({name:u,type:"dir",children:e})}}return r}catch(e){return console.log("findFloder err: ",e),[]}}function u(e){const t=[],r=[];return e.forEach((e=>{"dir"===e.type?(e.children=u(e.children),r.push(e)):t.push(e)})),r.concat(t)}function d(e,t){const r=[],n=t.length,{supportEmoji:s,theme:i}=a;return t.forEach(((t,o)=>{s?"Markdown-List-Nesting"===i?r.push(`${e}  - ${"dir"===t.type?"ðŸ“":"ðŸ“„"}${t.name}`):o===n-1?r.push(`${e}â””â”€ ${"dir"===t.type?"ðŸ“":"ðŸ“„"}${t.name}`):r.push(`${e}â”œâ”€ ${"dir"===t.type?"ðŸ“":"ðŸ“„"}${t.name}`):"Markdown-List-Nesting"===i?r.push(`${e}  - ${t.name}`):o===n-1?r.push(e+"â””â”€ "+t.name):r.push(e+"â”œâ”€ "+t.name),"dir"===t.type&&t.children&&t.children.length>0&&("Markdown-List-Nesting"===i?r.push(...d(e+"  ",t.children)):o===n-1?r.push(...d(e.replace(/â”œ/g,"â”‚")+"   ",t.children)):r.push(...d(e.replace(/â”œ/g,"â”‚")+"â”‚  ",t.children)))})),r}t.getDirectoryStructure=function(){const{workspaceFolders:e}=n.workspace;if(e&&e.length>0)try{e.forEach((e=>{const t=e.name;c=i.resolve(e.uri.path.substring(1));const r=function(e){try{const t=s.readFileSync(e+"/.gitignore","utf-8").toString().split(/[\r\n]/g).map((e=>(e.replace(/(^\s*)|(\s*$)/g,""),e))).filter((e=>e&&!e.startsWith("#")));return a.ignoreGit&&t.push(".git"),t}catch(e){return a.ignoreGit?[".git"]:[]}}(c),o=d("",u(h(c,r)));!function(e,t){try{const{openREADME:r,theme:i}=a;if("Markdown-List-Nesting"===i?(t[0]=`#### ${t[0]}`,s.appendFileSync(e+"/README.md",`\r\n\r\n${t.join("\r\n> ")}\r\n`)):s.appendFileSync(e+"/README.md",`\r\n\`\`\`\r\n${t.join("\r\n")}\r\n\`\`\``),n.window.showInformationMessage("æ–‡ä»¶æ ‘å·²æ·»åŠ åˆ° README.md æ–‡ä»¶åº•éƒ¨ã€‚(The file tree has been added to the bottom of the README.md file.)"),!r)return;n.workspace.openTextDocument(e+"/README.md").then((e=>{n.window.showTextDocument(e)}),(t=>{console.log(`Open ${e} error, ${t}.`)})).then(void 0,(t=>{console.log(`Open ${e} error, ${t}.`)}))}catch(e){n.window.showErrorMessage("æ–‡ä»¶æ ‘æ·»åŠ å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ˜¯å¦å­˜åœ¨ README.md æ–‡ä»¶ï¼(Failed to add the file. Please check whether the README.md file exists!)")}}(c,[t].concat(o))}))}catch(e){n.window.showErrorMessage("ç›®å½•æ ‘ç”Ÿæˆå¤±è´¥ï¼"+e)}else n.window.showErrorMessage("è¯·æ‰“å¼€æ–‡ä»¶åŽå†è¿›è¡Œæ ‘çš„ç”Ÿæˆï¼(Please open the file before generating the tree.)")}},496:e=>{"use strict";e.exports=require("vscode")},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=r(496),s=r(64);e.activate=function(e){console.log('Congratulations, your extension "directory-tree" is now active!');let r=t.commands.registerCommand("directory-tree.getDirectoryStructure",(()=>{(0,s.getDirectoryStructure)()}));e.subscriptions.push(r)},e.deactivate=function(){}})(),module.exports=n})();