"use strict";(self.webpackChunk_sqltools_build_tools=self.webpackChunk_sqltools_build_tools||[]).push([[223],{54949:(__unused_webpack_module,exports,__webpack_require__)=>{let logger;Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLogger=void 0;logger=__webpack_require__(67793).default,exports.createLogger=function(ns,bindings={}){return ns?logger.child({...bindings,ns}):logger},exports.default=logger},61359:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const pino_1=__importDefault(__webpack_require__(35213));exports.default=function(opts={},stream){if("undefined"!=typeof window&&window.navigator){const interpolate=args=>args[0].toString().split(/\s*\%[a-z]\s*/i).reduce(((a,p,i)=>(void 0!==p&&a.push(p),void 0!==args[i+1]&&a.push(args[i+1]),a)),[]),logger=new Proxy({},{get:(_,prop)=>"child"===prop?()=>logger:function(){(console[prop]||console.log).call(null,prop.toUpperCase(),...interpolate(arguments))},set(){throw new Error("SET")}});return logger}const logger=(0,pino_1.default)({name:"ui",base:{},level:"info",formatters:{level:level=>({level})},prettyPrint:!0,...opts},stream);return logger.show=()=>{},logger}},67793:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const factory_1=__importDefault(__webpack_require__(61359));exports.default=(0,factory_1.default)()},91878:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),style_m_scss_1=__importDefault(__webpack_require__(61518));exports.default=({className="",style={},fg,float,bg,a:useAnchor,...props})=>{const composedProps={className:`${style_m_scss_1.default.button} ${className}`,style:{color:fg,background:bg,float,...style},...props};return useAnchor?react_1.default.createElement("a",{...composedProps}):react_1.default.createElement("button",{...composedProps})}},21559:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),style_m_scss_1=__importDefault(__webpack_require__(74269));exports.default=({driver})=>driver&&driver.icon?react_1.default.createElement("img",{className:style_m_scss_1.default.driverIcon,src:driver.icon}):null},45757:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DriverItem=void 0;const react_1=__importDefault(__webpack_require__(63696)),Grid_1=__importDefault(__webpack_require__(7456)),DriverIcon_1=__importDefault(__webpack_require__(21559)),style_m_scss_1=__importDefault(__webpack_require__(46771));exports.DriverItem=({driver,selected,onSelect})=>react_1.default.createElement(Grid_1.default,{item:!0,xs:3,className:selected?style_m_scss_1.default.itemSelected:style_m_scss_1.default.item},react_1.default.createElement("div",{onClick:onSelect},react_1.default.createElement(DriverIcon_1.default,{driver}),react_1.default.createElement("button",{onClick:onSelect,tabIndex:0,autoFocus:selected},driver.displayName)))},9678:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696));class ErrorBoundary extends react_1.default.Component{constructor(){super(...arguments),this.state={error:null,errorInfo:null}}static getDerivedStateFromError(error){return console.log({error}),{error}}componentDidCatch(error,errorInfo){console.error(error,errorInfo),this.setState({error,errorInfo})}render(){return this.state.errorInfo||this.state.error?react_1.default.createElement("div",null,react_1.default.createElement("h2",null,"Something went wrong."),react_1.default.createElement("details",{style:{whiteSpace:"pre-wrap"},open:!0},react_1.default.createElement("summary",null,react_1.default.createElement("code",null,this.state.error&&this.state.error.toString())),react_1.default.createElement("pre",null,this.state.errorInfo&&this.state.errorInfo.componentStack)),react_1.default.createElement("div",{style:{marginTop:30}},react_1.default.createElement("a",{href:"command:workbench.action.webview.openDeveloperTools"},"Open VS Code DevTools"))):this.props.children}}exports.default=ErrorBoundary},21008:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(63696)),style_m_scss_1=__importDefault(__webpack_require__(66086));exports.default=({value:initialValue="",id,readonly,disabled,options,onChange})=>{const[value,setValue]=(0,react_1.useState)(initialValue),inputRef=(0,react_1.useRef)(null),initialValueRef=(0,react_1.useRef)(initialValue);(0,react_1.useEffect)((()=>{initialValue!==initialValueRef.current&&(initialValueRef.current=initialValue,updateFieldValue(initialValue))}),[initialValue]);const updateFieldValue=(0,react_1.useCallback)((v=>{setValue(v),onChange&&onChange(v)}),[value]);return react_1.default.createElement("span",{title:value,className:style_m_scss_1.default.fileField},react_1.default.createElement("input",{type:"text",value:value||"",disabled:readonly||disabled,onChange:e=>updateFieldValue(e.target.value)}),react_1.default.createElement("button",{type:"button",disabled:readonly||disabled},react_1.default.createElement("input",{ref:inputRef,id,type:"file",disabled:readonly||disabled,onChange:e=>updateFieldValue(e.target.files&&e.target.files.length>0?e.target.files[0].path:void 0),accept:options.accept}),"Select File"))}},91653:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696));exports.default=props=>react_1.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426.667 426.667",width:"50",height:"50",...props},react_1.default.createElement("path",{fill:"currentColor",d:"M213.333,0C95.514,0,0,95.514,0,213.333s95.514,213.333,213.333,213.333\n      s213.333-95.514,213.333-213.333S331.153,0,213.333,0z M330.995,276.689l-54.302,54.306l-63.36-63.356l-63.36,63.36l-54.302-54.31\n      l63.356-63.356l-63.356-63.36l54.302-54.302l63.36,63.356l63.36-63.356l54.302,54.302l-63.356,63.36L330.995,276.689z"}))},98406:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),core_1=__webpack_require__(4621),style_m_scss_1=__importDefault(__webpack_require__(59272));exports.default=()=>react_1.default.createElement("div",{className:style_m_scss_1.default.loading},react_1.default.createElement("div",null,react_1.default.createElement(core_1.CircularProgress,{size:"100px"})))},23075:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),MenuItem_1=__importDefault(__webpack_require__(55768)),core_1=__webpack_require__(4621);exports.default=({position,onSelect,onClose,anchorEl,options=[],width=200})=>{if(!anchorEl)return null;const{x,y}=position||{};return react_1.default.createElement(core_1.Menu,{id:"context-menu",anchorReference:"anchorPosition",anchorEl,open:!!anchorEl,onClose:()=>(onClose&&onClose(),onSelect(null)),disablePortal:!0,anchorPosition:{top:y,left:x},PaperProps:{style:{width}}},options.map(((opt,index)=>"sep"===opt||"sep"===opt.value?react_1.default.createElement(core_1.Divider,{key:index,variant:"fullWidth",component:"li"}):react_1.default.createElement(MenuItem_1.default,{key:opt.value||opt.label||opt,onClick:()=>onSelect(opt.value||opt.label||opt),disabled:opt.disabled},react_1.default.createElement(core_1.Typography,{variant:"inherit",noWrap:!0},opt.label||opt.value||opt)))))}},55387:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),style_m_scss_1=__importDefault(__webpack_require__(9307));exports.default=({type,className="",...props})=>react_1.default.createElement("span",{className:`${style_m_scss_1.default[type]} ${className}`,...props})},8479:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(63696)),utils_1=__webpack_require__(4397),style_m_scss_1=__importDefault(__webpack_require__(58041));exports.default=({code,language,width,style,strong,allowCopy})=>{const[id]=(0,react_1.useState)(`syntax-${(1e3*Math.random()).toFixed(0)}`),[copyMsg,setMessage]=(0,react_1.useState)("Copy");(0,react_1.useEffect)((()=>{let mounted=!0;return setTimeout((()=>{mounted&&setMessage("Copy")}),1e3),()=>{mounted=!1}}),[copyMsg]);const transformedCode=(0,react_1.useMemo)((()=>transformCode(code,language)),[code,language]),copyCode=(0,react_1.useCallback)((()=>{(0,utils_1.clipboardInsert)(JSON.stringify(code,null,2)),setMessage("Copied!")}),[setMessage,code]);return react_1.default.createElement("main",{className:style_m_scss_1.default.syntaxContainer,style:{width,...style}},react_1.default.createElement("section",{id,className:`${strong?style_m_scss_1.default.syntaxStrongBg:style_m_scss_1.default.syntax} ${language?"syntax-"+language:""}`,dangerouslySetInnerHTML:{__html:transformedCode}}),allowCopy&&react_1.default.createElement("button",{className:style_m_scss_1.default.copyCodeButton,type:"button",onClick:copyCode},copyMsg))};const transformCode=(code,language)=>"string"==typeof code?code:"json"===language&&"object"==typeof code?JSON.stringify(code,null,2).replace(/( *)(".+"):/g,'$1<span class="key">$2</span>:').replace(/: (".+")/g,': <span class="string">$1</span>').replace(/: ([0-9]+(\.[0-9]+)?)/g,': <span class="number">$1</span>').replace(/: (null|true|false)/g,': <span class="bool">$1</span>'):JSON.stringify(code)},70015:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),core_1=__webpack_require__(4621),theme_1=__importDefault(__webpack_require__(33868)),ErrorBoundary_1=__importDefault(__webpack_require__(9678));exports.default=({children})=>react_1.default.createElement(core_1.ThemeProvider,{theme:theme_1.default},react_1.default.createElement(ErrorBoundary_1.default,null,children))},33868:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultColors=exports.MuiTabHeight=void 0;const styles_1=__webpack_require__(25029);exports.MuiTabHeight="36px",exports.defaultColors={backgroundColor:"var(--vscode-editor-background)",color:"var(--vscode-editor-foreground)"};const theme=(0,styles_1.createTheme)({palette:{background:{default:exports.defaultColors.backgroundColor,paper:exports.defaultColors.backgroundColor}},overrides:{MuiPaper:{root:{borderCollapse:"collapse",...exports.defaultColors},elevation0:{zIndex:0},rounded:{borderRadius:"1px"}},MuiTable:{root:{borderCollapse:"collapse !important",...exports.defaultColors}},MuiMenu:{paper:{backgroundColor:"var(--vscode-menu-background)",color:"var(--vscode-menu-foreground)"}},MuiMenuItem:{root:{minHeight:"auto"},gutters:{padding:"4px 24px","&:hover":{background:"var(--vscode-menu-selectionBackground)",color:"var(--vscode-menu-selectionForeground)"}}},MuiList:{padding:{padding:"4px 0px"}},MuiListItem:{root:{flexDirection:"row",alignItems:"center","&$selected":{background:"var(--vscode-menu-selectionBackground)",color:"var(--vscode-menu-selectionForeground)"},"&:hover":{background:"var(--vscode-menu-selectionBackground)",color:"var(--vscode-menu-selectionForeground)"}}},MuiDivider:{root:{backgroundColor:"var(--vscode-menu-separatorBackground)",margin:"4px 0",opacity:"0.4"}},MuiListItemIcon:{root:{color:"inherit"}},MuiListItemText:{root:{margin:0}},MuiTab:{root:{minHeight:exports.MuiTabHeight},textColorPrimary:{color:"var(--vscode-tab-inactiveForeground)",background:"var(--vscode-tab-inactiveBackground)","&$selected":{color:"var(--vscode-tab-activeForeground)",background:"var(--vscode-tab-activeBackground)"}}},MuiTabs:{root:{minHeight:exports.MuiTabHeight,background:"var(--vscode-tab-inactiveBackground)"},indicator:{backgroundColor:"var(--vscode-tab-activeModifiedBorder)"}},MuiTableCell:{root:{padding:"var(--sqltool-table-cell-padding, 2px 4px) !important",fontWeight:"normal",fontSize:"inherit"},body:{color:"inherit",border:"1px solid var(--vscode-input-border)","&.syntax":{fontFamily:"var(--vscode-editor-font-family, var(--font-family))",height:"300px",overflow:"auto"}},head:{fontWeight:"bold",color:"inherit",border:"1px solid var(--vscode-input-border)",background:"var(--vscode-panelSectionHeader-background)",borderBottom:"none"}},MuiInput:{root:{margin:"0 !important"},underline:{"&:before":{display:"none"},"&:after":{display:"none"}}},MuiIconButton:{root:{color:"inherit",padding:"0 4px"},label:{color:"inherit"}},MuiInputBase:{input:{color:"var(--vscode-input-foreground)",height:"1em",padding:"4px"}},MuiTableSortLabel:{root:{color:"inherit !important"},icon:{color:"inherit !important"}}}});exports.default=theme},11282:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendMessage=exports.messageLog=void 0;const src_1=__webpack_require__(54949),vscode_1=__importDefault(__webpack_require__(77e3));exports.messageLog=(0,src_1.createLogger)();exports.sendMessage=(action,payload)=>{(0,vscode_1.default)().postMessage({action,payload}),exports.messageLog.debug("sent => %s %O",action,payload)},exports.default=exports.sendMessage},4397:(__unused_webpack_module,exports)=>{function int(v){return(0,exports.notEmpty)(v)?parseInt(v,10):null}function bool(v){return void 0!==v&&("1"===(v=v.toString().toLowerCase())||"true"===v||"yes"===v||"y"===v)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toRegEx=exports.clipboardInsert=exports.inRange=exports.gtz=exports.notEmpty=exports.bool=exports.int=void 0,exports.int=int,exports.bool=bool;const notEmpty=function(value){return value&&value.toString().trim().length>0};exports.notEmpty=notEmpty,exports.notEmpty.errorMessage="{0} can't be empty";const gtz=function(value){return(value=int(value))>0};function inRange(max,min){return value=>(value=int(value))>=min&&value<=max}exports.gtz=gtz,exports.gtz.errorMessage="{0} should be greater than zero",exports.inRange=inRange;const clipboardInsert=(value,format="text/plain")=>{value="string"==typeof value?value:JSON.stringify(value,null,2);const listener=function(e){e.clipboardData.setData(format,value),e.preventDefault()};document.addEventListener("copy",listener),document.execCommand("copy"),document.removeEventListener("copy",listener)};exports.clipboardInsert=clipboardInsert;const isRegExMatcher=/^\/(.+)\/(\w+)?$/gi;function toRegEx(value){if(value instanceof RegExp)return value;try{if(isRegExMatcher.test(value))try{return eval(value.replace(isRegExMatcher,"/($1)/$2"))}catch(ee){}return new RegExp(value,"gi")}catch(e){}return value}exports.toRegEx=toRegEx},77e3:(__unused_webpack_module,exports)=>{let vscode;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return vscode=vscode||acquireVsCodeApi(),vscode}},11340:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.UIAction=void 0;const action_1=__webpack_require__(67326);exports.UIAction={...action_1.DefaultUIAction,REQUEST_SYNC_CONSOLE_MESSAGES:"REQUEST:SYNC_CONSOLE_MESSAGES",RESPONSE_RESULTS:"RESPONSE:RESULTS_RECEIVED"}},40807:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),styles_m_scss_1=__importDefault(__webpack_require__(40234)),Button_1=__importDefault(__webpack_require__(91878)),useContextAction_1=__importStar(__webpack_require__(34862));exports.default=()=>{const{openResults,reRunQuery,exportResults}=(0,useContextAction_1.default)();return react_1.default.createElement("footer",{className:styles_m_scss_1.default.footer},react_1.default.createElement(Button_1.default,{onClick:useContextAction_1.openMessagesConsole},"Console"),react_1.default.createElement(Button_1.default,{onClick:reRunQuery},"Re-Run Query"),react_1.default.createElement(Button_1.default,{onClick:exportResults},"Export"),react_1.default.createElement(Button_1.default,{onClick:openResults},"Open"))}},66077:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),ErrorIcon_1=__importDefault(__webpack_require__(91653)),FooterActions_1=__importDefault(__webpack_require__(40807)),style_m_scss_1=__importDefault(__webpack_require__(43979));exports.default=({messages})=>react_1.default.createElement("div",{className:style_m_scss_1.default.container},react_1.default.createElement(ErrorIcon_1.default,null),react_1.default.createElement("main",null,"Query with errors. Please, check the error below.",messages.length&&react_1.default.createElement("pre",{style:{whiteSpace:"pre-wrap"}},messages.map((m=>m.message||m.toString())).join("\n"))),react_1.default.createElement(FooterActions_1.default,null))},12177:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),core_1=__webpack_require__(4621),useTabs_1=__importDefault(__webpack_require__(4335)),style_m_scss_1=__importDefault(__webpack_require__(8113));exports.default=()=>{const{tabs,activeTab,toggleTab}=(0,useTabs_1.default)();return tabs.length<=1?null:react_1.default.createElement(core_1.Tabs,{value:activeTab,onChange:(_e,index)=>toggleTab(index),indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",className:style_m_scss_1.default.container},tabs.map(((name,index)=>react_1.default.createElement(core_1.Tab,{disableFocusRipple:!0,disableRipple:!0,key:index,label:react_1.default.createElement(core_1.Typography,{variant:"inherit",noWrap:!0,style:{width:"100%",textTransform:"initial"}},name)}))))}},14956:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),QueryTabs_1=__importDefault(__webpack_require__(12177)),Table_1=__importDefault(__webpack_require__(5405)),ViewContainer_1=__importDefault(__webpack_require__(21301));__webpack_require__(39391);const Loading_1=__importDefault(__webpack_require__(98406)),useResultsContext_1=__importDefault(__webpack_require__(32930));exports.default=()=>{const{setState,loading}=(0,useResultsContext_1.default)();return react_1.default.createElement(ViewContainer_1.default,null,react_1.default.createElement(QueryTabs_1.default,null),react_1.default.createElement(Table_1.default,{setContextState:setState}),loading&&react_1.default.createElement(Loading_1.default,null))}},64363:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CellValue=void 0;const react_1=__importDefault(__webpack_require__(63696)),style_m_scss_1=__importDefault(__webpack_require__(69143));exports.CellValue=({value,isCode=!1})=>null===value?react_1.default.createElement("code",{className:style_m_scss_1.default.cellValue},"NULL"):"number"==typeof value?react_1.default.createElement("code",{className:style_m_scss_1.default.cellValue},value):!0===value||!1===value?react_1.default.createElement("code",{className:style_m_scss_1.default[value.toString()]},value.toString().toUpperCase()):isCode?react_1.default.createElement("code",null,JSON.stringify(value,null,2)):react_1.default.createElement(react_1.default.Fragment,null,String(value)),exports.default=exports.CellValue},36220:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),dx_react_grid_material_ui_1=__webpack_require__(38722),Code_1=__importDefault(__webpack_require__(15161));exports.default=({type,...restProps})=>"regex"===type?react_1.default.createElement(Code_1.default,{...restProps}):react_1.default.createElement(dx_react_grid_material_ui_1.TableFilterRow.Icon,{type,...restProps})},12912:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),dx_react_grid_material_ui_1=__webpack_require__(38722),style_m_scss_1=__importDefault(__webpack_require__(84712));exports.default=({className="",...props})=>react_1.default.createElement(dx_react_grid_material_ui_1.Grid.Root,{className:`${style_m_scss_1.default.root} ${className}`,...props})},53586:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),dx_react_grid_material_ui_1=__webpack_require__(38722),FooterActions_1=__importDefault(__webpack_require__(40807));exports.default=showPagination=>props=>react_1.default.createElement("div",{className:"resultsPagination"},react_1.default.createElement(FooterActions_1.default,null),react_1.default.createElement("div",{className:"paginator "+(showPagination?"":"no-buttons")},react_1.default.createElement(dx_react_grid_material_ui_1.PagingPanel.Container,{...props})))},79083:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),dx_react_grid_material_ui_1=__webpack_require__(38722),style_m_scss_1=__importDefault(__webpack_require__(52829));exports.default=props=>{return react_1.default.createElement(dx_react_grid_material_ui_1.TableHeaderRow.SortLabel,{...props,getMessage:(column=props.column,()=>react_1.default.createElement("span",{className:style_m_scss_1.default.sortLabel},"Sort ",react_1.default.createElement("strong",null,column.title||column.name)))});var column}},31557:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObjOrArray=void 0;const react_1=__importDefault(__webpack_require__(63696)),dx_react_grid_material_ui_1=__webpack_require__(38722),CellValue_1=__webpack_require__(64363),style_m_scss_1=__importDefault(__webpack_require__(52829));exports.isObjOrArray=v=>"object"==typeof v||Array.isArray(v);exports.default=props=>{const displayAsCode=(0,exports.isObjOrArray)(props.value),classes=[style_m_scss_1.default.tableCell];var v;return displayAsCode&&classes.push(style_m_scss_1.default.tableCellSyntax),(!0===(v=props.value)||!1===v||null===v)&&classes.push(style_m_scss_1.default.centered),props.className&&classes.push(props.className),react_1.default.createElement(dx_react_grid_material_ui_1.Table.Cell,{...props,"data-rowindex":props.tableRow.rowId,"data-colname":props.column.name,className:classes.join(" ")},react_1.default.createElement(CellValue_1.CellValue,{value:props.value,isCode:displayAsCode}))}},99163:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),dx_react_grid_material_ui_1=__webpack_require__(38722),style_m_scss_1=__importDefault(__webpack_require__(52829));exports.default=props=>react_1.default.createElement(dx_react_grid_material_ui_1.TableFilterRow.Cell,{...props,className:style_m_scss_1.default.filterCell+(props.filter&&void 0!==props.filter.value?style_m_scss_1.default.filterCellActive:style_m_scss_1.default.filterCell)})},1081:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),TableRow_1=__importDefault(__webpack_require__(13368)),styles_1=__webpack_require__(25029),style_m_scss_1=__importDefault(__webpack_require__(52829)),TableRow={Selected:(0,styles_1.withStyles)((()=>(0,styles_1.createStyles)({selected:{background:"var(--vscode-editor-selectionBackground)",color:"var(--vscode-editor-selectionForeground)"}})),{name:"TableSelectRow"})((({classes,onToggle,selectByRowClick,highlighted,tableRow,...restProps})=>react_1.default.createElement(TableRow_1.default,{className:highlighted?`${classes.selected} ${style_m_scss_1.default.selectedRow}`:void 0,onClick:e=>{selectByRowClick&&(e.stopPropagation(),onToggle())},...restProps})))};exports.default=TableRow},57743:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const get_1=__importDefault(__webpack_require__(62832)),lodash_1=__importDefault(__webpack_require__(17243));exports.default=(colNames,rows)=>{const firstRows=rows.slice(0,5),values=colNames.map((columnName=>{const maxCharacters=Math.max(...firstRows.map((row=>JSON.stringify((0,get_1.default)(row,[columnName],"")).length-2)));return Math.min(7.5*Math.max(20,maxCharacters),600)}));return lodash_1.default.zipObject(colNames,values)}},5405:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(63696)),Paper_1=__importDefault(__webpack_require__(59254)),dx_react_grid_1=__webpack_require__(32e3),dx_react_grid_material_ui_1=__webpack_require__(38722),constants_1=__webpack_require__(95782),TableFilterRowCell_1=__importDefault(__webpack_require__(99163)),PagingPanelContainer_1=__importDefault(__webpack_require__(53586)),FilterIcon_1=__importDefault(__webpack_require__(36220)),TableCell_1=__importDefault(__webpack_require__(31557)),computeColumnWidths_1=__importDefault(__webpack_require__(57743)),messages_1=__importDefault(__webpack_require__(11282)),TableRow_1=__importDefault(__webpack_require__(1081)),actions_1=__webpack_require__(8613),filterPredicate_1=__webpack_require__(51931),SortLabel_1=__importDefault(__webpack_require__(79083)),utils_1=__webpack_require__(4397),GridRoot_1=__importDefault(__webpack_require__(12912)),QueryError_1=__importDefault(__webpack_require__(66077)),MenuContext_1=__webpack_require__(97599),useCurrentResult_1=__importDefault(__webpack_require__(19683)),useContextAction_1=__importDefault(__webpack_require__(34862));exports.default=({setContextState})=>{const[filters,setFilters]=(0,react_1.useState)([]),[selection,setSelection]=(0,react_1.useState)([]),{exportResults,reRunQuery}=(0,useContextAction_1.default)(),{result}=(0,useCurrentResult_1.default)(),{results:rows=[],cols=[],error,messages=[],page,pageSize,total,queryType,queryParams,requestId}=result||{},columnExtensions=(0,react_1.useMemo)((()=>cols.map((columnName=>({columnName,predicate:filterPredicate_1.filterPredicate})))),[cols]),showPagination=(0,react_1.useMemo)((()=>Math.max(null!=total?total:0,rows.length)>pageSize),[total,rows]),{columnObjNames,columnNames}=(0,react_1.useMemo)((()=>({columnNames:cols.length>0?cols:[""],columnObjNames:cols.map((title=>({name:title,title})))})),[cols]),changePage=page=>{setContextState({loading:!0}),(0,messages_1.default)(actions_1.UIAction.CALL,{command:`sqltools.${queryType}`,args:[queryParams,{page,pageSize:null!=pageSize?pageSize:50,requestId}]})},changeFilters=(0,react_1.useCallback)(((newFilters=[])=>{newFilters=newFilters.map((filter=>("regex"===filter.operation&&(filter.regex=(0,utils_1.toRegEx)(filter.value)),filter))),setFilters(newFilters)}),[setFilters]),onMenuOpen=(0,react_1.useCallback)((({rowindex})=>{rowindex=Number(rowindex),isNaN(rowindex)||rowindex<0||setSelection(selection.includes(rowindex)?selection:rowindex>=0?[rowindex]:[])}),[JSON.stringify(selection)]),defaultColumnWidths=(0,react_1.useMemo)((()=>(0,computeColumnWidths_1.default)(null!=cols?cols:[],null!=rows?rows:[])),[...cols,rows&&rows.length]),[columnWidthOverrides,setColumnWidthOverrides]=(0,react_1.useState)({}),updateWidths=(0,react_1.useCallback)((newColsInfo=>setColumnWidthOverrides((oldOverrides=>{const newOverrides={...oldOverrides};for(const{columnName,width}of newColsInfo)(width!==defaultColumnWidths[columnName]||columnName in oldOverrides)&&(newOverrides[columnName]=width);return newOverrides}))),[defaultColumnWidths]),columnWidths=Object.entries({...defaultColumnWidths,...columnWidthOverrides}).map((([columnName,width])=>({columnName,width}))),menuActions={[constants_1.MenuActions.ReRunQueryOption]:reRunQuery,[constants_1.MenuActions.SaveCSVOption]:exportResults,[constants_1.MenuActions.SaveJSONOption]:exportResults},onMenuSelect=(0,react_1.useCallback)(((choice,{rowindex,colname})=>{var _a;rowindex=Number(rowindex);let selectedRows=selection.map((index=>rows[index]));selectedRows=1===selectedRows.length?selectedRows[0]:selectedRows;const cellValue=(null!==(_a=rows[rowindex])&&void 0!==_a?_a:{})[colname];switch(choice){case constants_1.MenuActions.FilterByValueOption:const newFilters=[...filters],filterIndex=newFilters.findIndex((filter=>filter.columnName===colname));return-1!==filterIndex&&newFilters.splice(filterIndex,1),newFilters.push({columnName:colname,operation:"equal",value:cellValue}),setFilters(newFilters),setSelection([]);case constants_1.MenuActions.CopyCellOption:case constants_1.MenuActions.CopyRowOption:return(0,utils_1.clipboardInsert)(choice===constants_1.MenuActions.CopyCellOption?cellValue:selectedRows);case constants_1.MenuActions.ClearFiltersOption:setFilters([]);case constants_1.MenuActions.ClearSelection:return setSelection([]);case constants_1.MenuActions.OpenEditorWithValueOption:case constants_1.MenuActions.OpenEditorWithRowOption:return(0,messages_1.default)(actions_1.UIAction.CALL,{command:"sqltools.insertText",args:[choice===constants_1.MenuActions.OpenEditorWithValueOption?`${cellValue}`:JSON.stringify(selectedRows,null,2)]});case constants_1.MenuActions.ReRunQueryOption:case constants_1.MenuActions.SaveCSVOption:case constants_1.MenuActions.SaveJSONOption:return menuActions[choice](choice)}}),[JSON.stringify(selection),JSON.stringify(filters),rows,rows.length]),getMenuOptions=(0,react_1.useCallback)((({colname,rowindex})=>{var _a;rowindex=Number(rowindex);const row=rows[rowindex],cellOptions=[],filterOptions=[],queryOptions=[constants_1.MenuActions.ReRunQueryOption],newSelection=selection.includes(rowindex)?selection:rowindex>=0?[rowindex]:[],isMultiSelection=newSelection.length>1,rowOptions=row?[constants_1.MenuActions.CopyRowOption,constants_1.MenuActions.OpenEditorWithRowOption]:[],resultOptions=newSelection.length>0?[constants_1.MenuActions.SaveCSVOption,constants_1.MenuActions.SaveJSONOption]:[];if(row){let cellValue=row[colname];const cellValueIsObject=cellValue&&(null!==(_a=Array.isArray(cellValue))&&void 0!==_a?_a:"[object Object]"===cellValue.toString()),replaceString=cellValueIsObject?"Cell Value":`'${cellValue}'`;void 0===cellValue||cellValueIsObject||cellOptions.push({label:constants_1.MenuActions.FilterByValueOption.replace("{contextAction}",replaceString),value:constants_1.MenuActions.FilterByValueOption}),cellOptions.push({label:constants_1.MenuActions.CopyCellOption.replace("{contextAction}",replaceString),value:constants_1.MenuActions.CopyCellOption},{label:constants_1.MenuActions.OpenEditorWithValueOption.replace("{contextAction}",replaceString),value:constants_1.MenuActions.OpenEditorWithValueOption})}filters.length>0&&filterOptions.push(constants_1.MenuActions.ClearFiltersOption),isMultiSelection&&filterOptions.push(constants_1.MenuActions.ClearSelection);let options=[];return cellOptions.length>0&&(options=options.concat(cellOptions),options.push(constants_1.MenuActions.Divider)),filterOptions.length>0&&(options=options.concat(filterOptions),options.push(constants_1.MenuActions.Divider)),rowOptions.length>0&&(options=options.concat(rowOptions),options.push(constants_1.MenuActions.Divider)),queryOptions.length>0&&(options=options.concat(queryOptions),options.push(constants_1.MenuActions.Divider)),resultOptions.length>0&&(options=options.concat(resultOptions)),options[options.length-1]===constants_1.MenuActions.Divider&&options.pop(),options}),[JSON.stringify(selection),JSON.stringify(filters),rows,rows.length]);let pagingProps={};return pagingProps="number"==typeof page?{currentPage:page,onCurrentPageChange:changePage}:{defaultCurrentPage:0},result?react_1.default.createElement(MenuContext_1.MenuProvider,{onOpen:onMenuOpen,getOptions:getMenuOptions,onSelect:onMenuSelect},react_1.default.createElement(Paper_1.default,{square:!0,elevation:0,className:"result"},error&&react_1.default.createElement(QueryError_1.default,{messages}),!error&&react_1.default.createElement(dx_react_grid_material_ui_1.Grid,{rows,columns:columnObjNames,rootComponent:GridRoot_1.default},react_1.default.createElement(dx_react_grid_1.DataTypeProvider,{for:columnNames,availableFilterOperations:constants_1.availableFilterOperations}),react_1.default.createElement(dx_react_grid_1.SortingState,null),react_1.default.createElement(dx_react_grid_1.IntegratedSorting,null),react_1.default.createElement(dx_react_grid_1.FilteringState,{filters,onFiltersChange:changeFilters}),react_1.default.createElement(dx_react_grid_1.IntegratedFiltering,{columnExtensions}),react_1.default.createElement(dx_react_grid_1.PagingState,{pageSize:null!=pageSize?pageSize:50,...pagingProps}),react_1.default.createElement(dx_react_grid_1.CustomPaging,{totalCount:null!=total?total:rows.length}),react_1.default.createElement(dx_react_grid_1.SelectionState,{selection,onSelectionChange:setSelection}),react_1.default.createElement(dx_react_grid_material_ui_1.VirtualTable,{cellComponent:TableCell_1.default}),react_1.default.createElement(dx_react_grid_material_ui_1.TableColumnResizing,{columnWidths,onColumnWidthsChange:updateWidths}),react_1.default.createElement(dx_react_grid_material_ui_1.TableHeaderRow,{showSortingControls:!0,sortLabelComponent:SortLabel_1.default}),react_1.default.createElement(dx_react_grid_material_ui_1.TableSelection,{selectByRowClick:!0,highlightRow:!0,showSelectionColumn:!1,rowComponent:TableRow_1.default.Selected}),react_1.default.createElement(dx_react_grid_material_ui_1.TableFilterRow,{cellComponent:TableFilterRowCell_1.default,showFilterSelector:!0,iconComponent:FilterIcon_1.default,messages:{regex:"RegEx"}}),react_1.default.createElement(dx_react_grid_material_ui_1.PagingPanel,{containerComponent:(0,PagingPanelContainer_1.default)(showPagination)})))):null}},21301:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),style_m_scss_1=__importDefault(__webpack_require__(78821));exports.default=({className,...props})=>react_1.default.createElement("div",{className:`${style_m_scss_1.default.container} ${className||""}`,...props})},95782:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuActions=exports.availableFilterOperations=void 0,exports.availableFilterOperations=["contains","equal","notEqual","startsWith","endsWith","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","regex"],function(MenuActions){MenuActions.FilterByValueOption="Filter By {contextAction}",MenuActions.ReRunQueryOption="Re-Run This Query",MenuActions.ClearSelection="Clear Selection",MenuActions.ClearFiltersOption="Clear All Filters",MenuActions.CopyCellOption="Copy {contextAction}",MenuActions.CopyRowOption="Copy Selected JSON Row(s)",MenuActions.SaveCSVOption="Save Results as CSV",MenuActions.SaveJSONOption="Save Results as JSON",MenuActions.OpenEditorWithValueOption="Open Editor With {contextAction}",MenuActions.OpenEditorWithRowOption="Open Editor With Selected JSON Row(s)",MenuActions.Divider="sep"}(exports.MenuActions||(exports.MenuActions={}))},97599:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuProvider=exports.MenuContext=void 0;const react_1=__importStar(__webpack_require__(63696)),Menu_1=__importDefault(__webpack_require__(23075));exports.MenuContext=react_1.default.createContext({});const initialState={data:{},options:[],position:{x:null,y:null},anchorEl:null};exports.MenuProvider=({children,width=300,getOptions,onSelect:onSelectProp,onOpen})=>{const[state,setState]=(0,react_1.useState)(initialState),{data,options,position,anchorEl}=state,openMenu=(0,react_1.useCallback)((e=>{e.preventDefault();const options="function"==typeof getOptions?getOptions(e.target.dataset||{},e):[];options&&0!==options.length&&(onOpen&&onOpen(e.target.dataset||{}),setState({data:e.target.dataset||{},options,anchorEl:e.currentTarget,position:{x:e.clientX,y:e.clientY}}))}),[state,state.anchorEl]),closeMenu=(0,react_1.useCallback)((()=>{setState(initialState)}),[state,state.anchorEl]),onSelect=(0,react_1.useCallback)((choice=>{closeMenu(),onSelectProp&&onSelectProp(choice,data||{})}),[state,state.anchorEl]);return react_1.default.createElement(exports.MenuContext.Provider,{value:{data,options,position,anchorEl}},react_1.default.cloneElement(children,{onContextMenu:openMenu}),react_1.default.createElement(Menu_1.default,{anchorEl,width,onClose:closeMenu,position,onSelect,options}))}},5662:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResultsProvider=exports.ResultsContext=void 0;const react_1=__importStar(__webpack_require__(63696)),reducer_1=__webpack_require__(42231),useContextAction_1=__webpack_require__(34862),messages_1=__importDefault(__webpack_require__(11282)),actions_1=__webpack_require__(11340),src_1=__webpack_require__(54949),vscode_1=__importDefault(__webpack_require__(77e3)),log=(0,src_1.createLogger)("Results:reducer");exports.ResultsContext=react_1.default.createContext({});exports.ResultsProvider=({children})=>{const{state,dispatch,setState}=(0,reducer_1.useResultsReducer)(),stateRef=(0,react_1.useRef)(state),messageHandler=(0,react_1.useCallback)((ev=>{const{action,payload}=ev.data;action&&(log.info("Message received: %s %O",action,payload||"NO_PAYLOAD"),dispatch({type:action,payload}))}),[state,dispatch]);return(0,react_1.useEffect)((()=>(state!==stateRef.current&&(log.info("STATE => Prev %O Curr %O",stateRef.current,state),stateRef.current=state),(0,vscode_1.default)().setState(state),()=>{(0,vscode_1.default)().setState(null)})),[state]),(0,react_1.useEffect)((()=>(window.addEventListener("message",messageHandler),(0,messages_1.default)(actions_1.UIAction.NOTIFY_VIEW_READY,!0),setState({loading:!0}),()=>window.removeEventListener("message",messageHandler))),[]),(0,react_1.useEffect)((()=>{state.showConsole&&(0,useContextAction_1.openMessagesConsole)()}),[state.showConsole]),(0,react_1.useEffect)((()=>{var _a,_b;(0,messages_1.default)(actions_1.UIAction.REQUEST_SYNC_CONSOLE_MESSAGES,null!==(_b=null===(_a=state.resultTabs[state.activeTab])||void 0===_a?void 0:_a.messages)&&void 0!==_b?_b:[])}),[state,state.activeTab]),react_1.default.createElement(exports.ResultsContext.Provider,{value:{...state,dispatch,setState}},children)}},42231:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.useResultsReducer=void 0;const react_1=__webpack_require__(63696),src_1=__webpack_require__(54949),actions_1=__webpack_require__(11340),messages_1=__importDefault(__webpack_require__(11282)),log=(0,src_1.createLogger)("Results:reducer"),initialState={loading:!0,showConsole:!1,resultTabs:[],activeTab:0},reducer=(state,action)=>{const{type:actionType,payload}=action;log.debug("ACTION %s %O",actionType,payload);const mutate=(changes={})=>({...state,...changes});switch(actionType){case actions_1.UIAction.SET_STATE:case actions_1.UIAction.RESPONSE_RESULTS:return mutate({activeTab:0,loading:!1,...payload});case actions_1.UIAction.REQUEST_STATE:return(0,messages_1.default)(actions_1.UIAction.RESPONSE_STATE,state),state;case actions_1.UIAction.REQUEST_RESET:return mutate(initialState);default:log.warn("No handler set for %s",action)}return state};exports.useResultsReducer=()=>{const[state,dispatch]=(0,react_1.useReducer)(reducer,initialState),setState=(0,react_1.useCallback)(((data,cb)=>{dispatch({type:actions_1.UIAction.SET_STATE,payload:data}),cb&&cb()}),[state,dispatch]);return{state,dispatch,setState}}},34862:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.openMessagesConsole=void 0;const actions_1=__webpack_require__(11340),messages_1=__importDefault(__webpack_require__(11282)),constants_1=__webpack_require__(95782),react_1=__webpack_require__(63696),useCurrentResult_1=__importDefault(__webpack_require__(19683)),useResultsContext_1=__importDefault(__webpack_require__(32930)),getCommand=cmd=>`sqltools.${cmd}`,getFormatType=choice=>Object.values(constants_1.MenuActions).includes(choice)?choice===constants_1.MenuActions.SaveJSONOption?"json":"csv":void 0;exports.openMessagesConsole=()=>(0,messages_1.default)(actions_1.UIAction.CALL,{command:"sqltoolsViewConsoleMessages.focus"}),exports.default=function(){const{setState}=(0,useResultsContext_1.default)(),{result,options}=(0,useCurrentResult_1.default)();return{openResults:(0,react_1.useCallback)((choice=>{result&&(0,messages_1.default)(actions_1.UIAction.CALL,{command:getCommand("openResults"),args:[{...options,formatType:getFormatType(choice)}]})}),[result]),exportResults:(0,react_1.useCallback)((choice=>{result&&(0,messages_1.default)(actions_1.UIAction.CALL,{command:getCommand("saveResults"),args:[{...options,formatType:getFormatType(choice)}]})}),[result]),reRunQuery:(0,react_1.useCallback)((()=>{if(!result)return;const{queryType,query,queryParams,pageSize,page}=result;return queryType?((0,messages_1.default)(actions_1.UIAction.CALL,{command:`sqltools.${queryType}`,args:[queryParams,{...options,page,pageSize:pageSize||50}]}),setState({loading:!0})):((0,messages_1.default)(actions_1.UIAction.CALL,{command:"sqltools.executeQuery",args:[query,options]}),setState({loading:!0}))}),[result])}}},19683:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const useResultsContext_1=__importDefault(__webpack_require__(32930));exports.default=function(){const{resultTabs,activeTab}=(0,useResultsContext_1.default)(),result=resultTabs[activeTab];return{result,options:{requestId:null==result?void 0:result.requestId,resultId:null==result?void 0:result.resultId,baseQuery:null==result?void 0:result.baseQuery,connId:null==result?void 0:result.connId}}}},32930:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(63696),ResultsContext_1=__webpack_require__(5662);exports.default=()=>(0,react_1.useContext)(ResultsContext_1.ResultsContext)},4335:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const useResultsContext_1=__importDefault(__webpack_require__(32930)),react_1=__webpack_require__(63696);exports.default=function(){const{setState,activeTab,resultTabs}=(0,useResultsContext_1.default)(),toggleTab=(0,react_1.useCallback)((value=>setState({activeTab:value})),[setState,activeTab]),tabs=(0,react_1.useMemo)((()=>resultTabs.map((r=>r.label||r.query))),[resultTabs]);return{activeTab,tabs,showTabs:tabs.length>1,toggleTab}}},90697:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),react_dom_1=__webpack_require__(78325),ResultsContainer_1=__importDefault(__webpack_require__(14956)),Themed_1=__importDefault(__webpack_require__(70015)),ResultsContext_1=__webpack_require__(5662);(0,react_dom_1.render)(react_1.default.createElement(Themed_1.default,null,react_1.default.createElement(ResultsContext_1.ResultsProvider,null,react_1.default.createElement(ResultsContainer_1.default,null))),document.getElementById("app-root"))},51931:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterPredicate=void 0;const dx_react_grid_1=__webpack_require__(32e3);exports.filterPredicate=(value,filter,row)=>{if("regex"!==filter.operation)return dx_react_grid_1.IntegratedFiltering.defaultPredicate(value,filter,row);try{return-1!==`${value}`.search(filter.regex||filter.value)}catch(error){return!1}}},8613:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.UIAction=void 0;const action_1=__webpack_require__(67326);exports.UIAction={...action_1.DefaultUIAction,REQUEST_INSTALLED_DRIVERS:"REQUEST:INSTALLED_DRIVERS",REQUEST_OPEN_CONNECTION_FILE:"REQUEST:OPEN_CONNECTION_FILE",REQUEST_EDIT_CONNECTION:"REQUEST:EDIT_CONNECTION",REQUEST_CREATE_CONNECTION:"REQUEST:CREATE_CONNECTION",REQUEST_UPDATE_CONNECTION:"REQUEST:UPDATE_CONNECTION",REQUEST_TEST_CONNECTION:"REQUEST:TEST_CONNECTION",REQUEST_DRIVER_SCHEMAS:"REQUEST:DRIVER_SCHEMAS",RESPONSE_DRIVER_SCHEMAS:"RESPONSE:DRIVER_SCHEMAS",RESPONSE_INSTALLED_DRIVERS:"RESPONSE:INSTALLED_DRIVERS",RESPONSE_UPDATE_CONNECTION_SUCCESS:"RESPONSE:UPDATE_CONNECTION_SUCCESS",RESPONSE_UPDATE_CONNECTION_ERROR:"RESPONSE:UPDATE_CONNECTION_ERROR",RESPONSE_CREATE_CONNECTION_SUCCESS:"RESPONSE:CREATE_CONNECTION_SUCCESS",RESPONSE_CREATE_CONNECTION_ERROR:"RESPONSE:CREATE_CONNECTION_ERROR",RESPONSE_TEST_CONNECTION_WARNING:"RESPONSE:TEST_CONNECTION_WARNING",RESPONSE_TEST_CONNECTION_SUCCESS:"RESPONSE:TEST_CONNECTION_SUCCESS",RESPONSE_TEST_CONNECTION_ERROR:"RESPONSE:TEST_CONNECTION_ERROR"}},62682:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),Syntax_1=__importDefault(__webpack_require__(8479)),Button_1=__importDefault(__webpack_require__(91878)),DriverIcon_1=__importDefault(__webpack_require__(21559)),useDriver_1=__importDefault(__webpack_require__(18756)),useStep_1=__importDefault(__webpack_require__(41692)),steps_1=__webpack_require__(3473),useContextAction_1=__importDefault(__webpack_require__(84821)),useResponseMessages_1=__importDefault(__webpack_require__(61361)),useFormData_1=__importDefault(__webpack_require__(53028));exports.default=()=>{const{driver}=(0,useDriver_1.default)(),{step}=(0,useStep_1.default)(),{externalMessage}=(0,useResponseMessages_1.default)(),{id,...connSettings}=(0,useFormData_1.default)(),{reset}=(0,useContextAction_1.default)();return step!==steps_1.Step.CONNECTION_SAVED?null:react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("h5",null,"Review connection details"),react_1.default.createElement("hr",null),react_1.default.createElement(DriverIcon_1.default,{driver}),react_1.default.createElement("div",{style:{minHeight:"150px"}},react_1.default.createElement("h4",null,externalMessage),react_1.default.createElement("details",{open:!0},react_1.default.createElement("summary",null,"Review JSON Syntax"),react_1.default.createElement(Syntax_1.default,{code:connSettings,language:"json",width:"calc(100% - 100px)"})),react_1.default.createElement("div",{style:{paddingTop:"50px"}},react_1.default.createElement(Button_1.default,{a:!0,onClick:reset,bg:"var(--vscode-list-highlightForeground)",href:encodeURI(`command:sqltools.selectConnection?${JSON.stringify(id)}`)},"Connect Now"),react_1.default.createElement(Button_1.default,{a:!0,onClick:reset,bg:"var(--vscode-editorError-foreground)",float:"right",href:encodeURI(`command:sqltools.deleteConnection?${JSON.stringify(id)}`)},"Delete ",connSettings.name),react_1.default.createElement(Button_1.default,{onClick:reset,float:"right"},"Create Another"))))}},22091:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(63696)),Container_1=__importDefault(__webpack_require__(87763)),Grid_1=__importDefault(__webpack_require__(7456)),Message_1=__importDefault(__webpack_require__(55387)),core_1=__webpack_require__(4621),DriverItem_1=__webpack_require__(45757),useStep_1=__importDefault(__webpack_require__(41692)),steps_1=__webpack_require__(3473),useDriver_1=__importDefault(__webpack_require__(18756)),useContextAction_1=__importDefault(__webpack_require__(84821)),messages_1=__importDefault(__webpack_require__(11282)),actions_1=__webpack_require__(8613),useLoading_1=__importDefault(__webpack_require__(3328));exports.default=()=>{const{setState}=(0,useContextAction_1.default)(),{step}=(0,useStep_1.default)(),{installedDrivers,driver:selectedDriver}=(0,useDriver_1.default)(),loading=(0,useLoading_1.default)(),onSelectDriver=(0,react_1.useCallback)((driver=>{if(!driver)return setState({loading:!1,driver,formData:{}});setState({loading:!0,driver,formData:{driver:driver.value}},(()=>{(0,messages_1.default)(actions_1.UIAction.REQUEST_DRIVER_SCHEMAS,{driver:driver.value})}))}),[]);return step!==steps_1.Step.CONNECTION_DRIVER_SELECTOR?null:react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("h5",null,"Select your database driver"),react_1.default.createElement("hr",null),react_1.default.createElement(Container_1.default,{maxWidth:"sm"},installedDrivers.length>0&&react_1.default.createElement(Grid_1.default,{container:!0,spacing:2,autoCapitalize:"center"},installedDrivers.map((driver=>react_1.default.createElement(DriverItem_1.DriverItem,{key:driver.value,selected:selectedDriver&&selectedDriver.value===driver.value,driver,onSelect:()=>onSelectDriver(driver)})))),!loading&&0===installedDrivers.length&&react_1.default.createElement(Grid_1.default,{style:{textAlign:"center",height:"400px",justifyContent:"space-evenly",flexDirection:"column",display:"flex",boxSizing:"content-box"}},react_1.default.createElement("div",null,react_1.default.createElement(Message_1.default,null,"Couldn't find any installed drivers.",react_1.default.createElement("p",null,react_1.default.createElement("a",{href:`command:workbench.extensions.search?${encodeURIComponent('"@tag:sqltools-driver"')}`},"Search VS Code Marketplace")))),react_1.default.createElement("div",null,react_1.default.createElement(core_1.CircularProgress,{size:"20px"}),react_1.default.createElement("p",null,react_1.default.createElement("strong",null,"Don't worry, we are still looking for installed drivers.",react_1.default.createElement("br",null),"Try installing drivers before proceeding.")))),!loading&&installedDrivers.length>0&&react_1.default.createElement(Grid_1.default,{style:{textAlign:"center",height:"120px",justifyContent:"space-evenly",flexDirection:"column",display:"flex",boxSizing:"content-box"}},react_1.default.createElement("p",null,react_1.default.createElement("a",{href:`command:workbench.extensions.search?${encodeURIComponent('"@tag:sqltools-driver"')}`},"Get more drivers")))))}},11443:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),steps_1=__webpack_require__(3473),style_m_scss_1=__importDefault(__webpack_require__(36431)),useStep_1=__importDefault(__webpack_require__(41692));exports.default=()=>{const{step,next,prev}=(0,useStep_1.default)();return react_1.default.createElement("h3",{className:style_m_scss_1.default.header},"Connection Assistant",react_1.default.createElement("small",null,prev&&react_1.default.createElement("a",{tabIndex:0,onClick:prev,onKeyPress:prev},"<"),"Step ",step,"/",steps_1.lastStep,next&&react_1.default.createElement("a",{tabIndex:0,onClick:next,onKeyPress:next},">")))}},38932:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),core_1=__webpack_require__(4621),DriverSelectorStepWidget_1=__importDefault(__webpack_require__(22091)),SettingsFormStepWidget_1=__importDefault(__webpack_require__(74879)),ConnectionCreatedStepWidget_1=__importDefault(__webpack_require__(62682)),Header_1=__importDefault(__webpack_require__(11443)),Loading_1=__importDefault(__webpack_require__(98406)),useLoading_1=__importDefault(__webpack_require__(3328)),generic_m_scss_1=__importDefault(__webpack_require__(7001));exports.default=()=>{const loading=(0,useLoading_1.default)();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(core_1.Container,{maxWidth:"md",className:loading?generic_m_scss_1.default.blurActive:generic_m_scss_1.default.blur},react_1.default.createElement(Header_1.default,null),react_1.default.createElement(DriverSelectorStepWidget_1.default,null),react_1.default.createElement(SettingsFormStepWidget_1.default,null),react_1.default.createElement(ConnectionCreatedStepWidget_1.default,null)),loading&&react_1.default.createElement(Loading_1.default,null))}},74879:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(63696)),DriverIcon_1=__importDefault(__webpack_require__(21559)),Button_1=__importDefault(__webpack_require__(91878)),core_1=__importDefault(__webpack_require__(28596)),FileInput_1=(__importDefault(__webpack_require__(8479)),__importDefault(__webpack_require__(21008))),Message_1=__importDefault(__webpack_require__(55387)),style_m_scss_1=__importDefault(__webpack_require__(65611)),steps_1=__webpack_require__(3473),useStep_1=__importDefault(__webpack_require__(41692)),useFormData_1=__importDefault(__webpack_require__(53028)),useResponseMessages_1=__importDefault(__webpack_require__(61361)),useDriver_1=__importDefault(__webpack_require__(18756)),useFormSchemas_1=__importDefault(__webpack_require__(84990)),useContextAction_1=__importDefault(__webpack_require__(84821)),messages_1=__importDefault(__webpack_require__(11282)),actions_1=__webpack_require__(8613),SettingsFormStepWidget=()=>{const{step}=(0,useStep_1.default)(),{driver}=(0,useDriver_1.default)(),formData=(0,useFormData_1.default)(),{externalMessage,externalMessageType}=(0,useResponseMessages_1.default)(),{schema={},uiSchema={}}=(0,useFormSchemas_1.default)(),{setState}=(0,useContextAction_1.default)(),onSubmit=(0,react_1.useCallback)((({formData:data,errors})=>{if(errors.length>0)return;const{id:editId,...connInfo}=data;setState({loading:!0},(()=>{(0,messages_1.default)(editId?actions_1.UIAction.REQUEST_UPDATE_CONNECTION:actions_1.UIAction.REQUEST_CREATE_CONNECTION,{editId,connInfo,globalSetting:!1})}))}),[formData]),onChange=(0,react_1.useCallback)((({formData:data})=>{setState({formData:data})}),[]),testConnection=(0,react_1.useCallback)((()=>{setState({loading:!0},(()=>{(0,messages_1.default)(actions_1.UIAction.REQUEST_TEST_CONNECTION,{connInfo:formData})}))}),[formData]),openConnectionFile=(0,react_1.useCallback)((()=>(0,messages_1.default)(actions_1.UIAction.REQUEST_OPEN_CONNECTION_FILE)),[]);return step!==steps_1.Step.CONNECTION_FORM?null:react_1.default.createElement("div",{className:style_m_scss_1.default.formContainer},react_1.default.createElement("h5",null,"Connection Settings"),react_1.default.createElement("hr",null),react_1.default.createElement(DriverIcon_1.default,{driver}),react_1.default.createElement(core_1.default,{schema,uiSchema,onSubmit,onChange,formData,widgets,showErrorList:!1,noHtml5Validate:!0},externalMessage&&react_1.default.createElement("div",null,react_1.default.createElement(Message_1.default,{type:externalMessageType},externalMessage)),react_1.default.createElement(SettingsFormStepWidget.Footer,{allowOpen:!!formData.id,testConnection,openConnectionFile})),!1)};SettingsFormStepWidget.Footer=({testConnection,allowOpen,openConnectionFile})=>react_1.default.createElement("footer",{className:style_m_scss_1.default.footer},react_1.default.createElement(Button_1.default,{bg:"var(--vscode-button-background)",fg:"var(--vscode-button-foreground)",type:"submit"},"Save Connection"),react_1.default.createElement(Button_1.default,{bg:"var(--vscode-button-secondaryBackground)",fg:"var(--vscode-button-secondaryForeground)",onClick:testConnection,float:"right",type:"button"},"Test Connection"),allowOpen&&react_1.default.createElement("a",{onClick:openConnectionFile},"Open Settings"));const widgets={FileWidget:FileInput_1.default};exports.default=SettingsFormStepWidget},79122:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsProvider=exports.SettingsContext=void 0;const react_1=__importDefault(__webpack_require__(63696)),reducer_1=__webpack_require__(74594);exports.SettingsContext=react_1.default.createContext({});exports.SettingsProvider=({children})=>{const{state,dispatch,setState}=(0,reducer_1.useSettingsReducer)();return react_1.default.createElement(exports.SettingsContext.Provider,{value:{...state,dispatch,setState}},children)}},74594:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.useSettingsReducer=void 0;const react_1=__webpack_require__(63696),src_1=__webpack_require__(54949),actions_1=__webpack_require__(8613),steps_1=__webpack_require__(3473),messages_1=__importDefault(__webpack_require__(11282)),vscode_1=__importDefault(__webpack_require__(77e3)),log=(0,src_1.createLogger)("settings:reducer"),initialState={lastDispatchedAction:null,loading:!1,driver:null,step:steps_1.Step.CONNECTION_DRIVER_SELECTOR,externalMessage:null,externalMessageType:null,installedDrivers:[],schema:{},uiSchema:{},formData:{}},reducer=(state,action)=>{const{type:actionType,payload}=action;log.debug("ACTION %s %O",actionType,payload);const mutate=(changes={})=>({...state,...changes,lastDispatchedAction:action,action:actionType});switch(actionType){case actions_1.UIAction.REQUEST_EDIT_CONNECTION:return mutate({loading:!1,step:steps_1.Step.CONNECTION_FORM,externalMessage:null,externalMessageType:null,...payload});case actions_1.UIAction.RESPONSE_UPDATE_CONNECTION_SUCCESS:case actions_1.UIAction.RESPONSE_CREATE_CONNECTION_SUCCESS:return mutate({step:steps_1.Step.CONNECTION_SAVED,loading:!1,saved:!0,...payload});case actions_1.UIAction.RESPONSE_TEST_CONNECTION_SUCCESS:return mutate({loading:!1,externalMessage:"Successfully connected!",externalMessageType:"success"});case actions_1.UIAction.RESPONSE_TEST_CONNECTION_WARNING:return mutate({loading:!1,externalMessage:payload.externalMessage||payload.message||"Connection problem.",externalMessageType:"warning"});case actions_1.UIAction.RESPONSE_INSTALLED_DRIVERS:return mutate({loading:!1,installedDrivers:payload});case actions_1.UIAction.RESPONSE_DRIVER_SCHEMAS:const{schema={},uiSchema={}}=payload;return mutate({loading:!1,schema,uiSchema,step:steps_1.Step.CONNECTION_FORM});case actions_1.UIAction.RESPONSE_UPDATE_CONNECTION_ERROR:case actions_1.UIAction.RESPONSE_CREATE_CONNECTION_ERROR:case actions_1.UIAction.RESPONSE_TEST_CONNECTION_ERROR:return mutate({loading:!1,externalMessageType:"error",...payload,externalMessage:payload.externalMessage||payload.message||"Connection failed."});case actions_1.UIAction.SET_STATE:return mutate({...payload});case actions_1.UIAction.REQUEST_RESET:return mutate({...initialState,installedDrivers:state.installedDrivers});default:log.warn("No handler set for %s",action)}return mutate({})};let checkDriversInterval;exports.useSettingsReducer=()=>{const[state,dispatch]=(0,react_1.useReducer)(reducer,initialState),stateRef=(0,react_1.useRef)(state),setState=(0,react_1.useCallback)(((data,cb)=>{dispatch({type:actions_1.UIAction.SET_STATE,payload:data}),cb&&cb()}),[state,dispatch]),messageHandler=(0,react_1.useCallback)((ev=>{const{action,payload}=ev.data;action&&(log.info("Message received: %s %O",action,payload||"NO_PAYLOAD"),dispatch({type:action,payload}))}),[state,dispatch]);return(0,react_1.useEffect)((()=>{if((state.lastDispatchedAction&&state.lastDispatchedAction.type)===actions_1.UIAction.RESPONSE_INSTALLED_DRIVERS)checkDriversInterval||state.installedDrivers&&0!==state.installedDrivers.length||(checkDriversInterval=checkDriversInterval||setInterval((()=>{(0,messages_1.default)(actions_1.UIAction.REQUEST_INSTALLED_DRIVERS)}),2e3)),state.installedDrivers.length>0&&(clearInterval(checkDriversInterval),checkDriversInterval=null);return state.lastDispatchedAction&&state.lastDispatchedAction.callback&&state.lastDispatchedAction.callback(),()=>{clearInterval(checkDriversInterval),checkDriversInterval=null}}),[state.lastDispatchedAction]),(0,react_1.useEffect)((()=>(window.addEventListener("message",messageHandler),(0,messages_1.default)(actions_1.UIAction.NOTIFY_VIEW_READY,!0),setState({loading:!0}),(0,messages_1.default)(actions_1.UIAction.REQUEST_INSTALLED_DRIVERS),()=>window.removeEventListener("message",messageHandler))),[]),(0,react_1.useEffect)((()=>(state!==stateRef.current&&(log.info("STATE => Prev %O Curr %O",stateRef.current,state),stateRef.current=state),(0,vscode_1.default)().setState(state),()=>{(0,vscode_1.default)().setState(null)})),[state]),{state,dispatch,setState}}},84821:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(63696),actions_1=__webpack_require__(8613),useSettingsContext_1=__importDefault(__webpack_require__(236));exports.default=function(){const{dispatch,setState}=(0,useSettingsContext_1.default)(),reset=(0,react_1.useCallback)((()=>dispatch({type:actions_1.UIAction.REQUEST_RESET})),[]);return{dispatch,setState,reset}}},18756:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(63696),useSettingsContext_1=__importDefault(__webpack_require__(236));exports.default=function(){const{driver,installedDrivers,setState}=(0,useSettingsContext_1.default)();return{driver,installedDrivers,setDriver:(0,react_1.useCallback)((selectedDrier=>setState({driver:selectedDrier})),[installedDrivers,installedDrivers.length,driver])}}},53028:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const useSettingsContext_1=__importDefault(__webpack_require__(236));exports.default=function(){const{formData}=(0,useSettingsContext_1.default)();return formData}},84990:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const useSettingsContext_1=__importDefault(__webpack_require__(236));exports.default=function(){const{schema,uiSchema}=(0,useSettingsContext_1.default)();return{schema,uiSchema}}},3328:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const useSettingsContext_1=__importDefault(__webpack_require__(236));exports.default=function(){const{loading}=(0,useSettingsContext_1.default)();return loading}},61361:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const useSettingsContext_1=__importDefault(__webpack_require__(236));exports.default=function(){const{externalMessage,externalMessageType}=(0,useSettingsContext_1.default)();return{externalMessage,externalMessageType}}},236:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(63696),SettingsContext_1=__webpack_require__(79122);exports.default=()=>(0,react_1.useContext)(SettingsContext_1.SettingsContext)},41692:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(63696),steps_1=__webpack_require__(3473),useSettingsContext_1=__importDefault(__webpack_require__(236));exports.default=function(){const{step,setState,saved,driver}=(0,useSettingsContext_1.default)(),goTo=(0,react_1.useCallback)((newStep=>setState({step:newStep})),[]),{prev,next}=(0,react_1.useMemo)((()=>{let nextStep=step+1,prevStep=step-1;prevStep<=0&&(prevStep=null),(nextStep>steps_1.lastStep||!driver||driver&&!saved)&&(nextStep=null);return{next:nextStep&&(()=>goTo(nextStep))||void 0,prev:prevStep&&(()=>goTo(prevStep))||void 0}}),[step,saved]);return{step,goTo,prev,next}}},32734:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(63696)),react_dom_1=__webpack_require__(78325),SettingsContainer_1=__importDefault(__webpack_require__(38932)),Themed_1=__importDefault(__webpack_require__(70015)),SettingsContext_1=__webpack_require__(79122);__webpack_require__(61354),(0,react_dom_1.render)(react_1.default.createElement(Themed_1.default,null,react_1.default.createElement(SettingsContext_1.SettingsProvider,null,react_1.default.createElement(SettingsContainer_1.default,null))),document.getElementById("app-root"))},3473:(__unused_webpack_module,exports)=>{var Step;Object.defineProperty(exports,"__esModule",{value:!0}),exports.lastStep=exports.Step=void 0,function(Step){Step[Step.CONNECTION_DRIVER_SELECTOR=1]="CONNECTION_DRIVER_SELECTOR",Step[Step.CONNECTION_FORM=2]="CONNECTION_FORM",Step[Step.CONNECTION_SAVED=3]="CONNECTION_SAVED"}(Step=exports.Step||(exports.Step={})),exports.lastStep=Step.CONNECTION_SAVED},67326:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultUIAction=void 0,exports.DefaultUIAction={CALL:"call",NOTIFY_VIEW_READY:"NOTIFY:VIEW_READY",REQUEST_RESET:"REQUEST:RESET",REQUEST_STATE:"REQUEST:STATE",RESPONSE_STATE:"RESPONSE:STATE",OPEN_DEVTOOLS:"REQUEST:OPEN_DEVTOOLS",SET_STATE:"SET_STATE"}},61354:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__)},39391:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__)},61518:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={common:"fcZ9RmKZM9jxRAKmwj5s",button:"UIioZ79CC0sgr49PSQqd fcZ9RmKZM9jxRAKmwj5s"}},74269:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={driverIcon:"GiZL2_CQrlMv3oEmmAPq"}},46771:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={item:"s23COtCPtjytUbqI34mJ",itemSelected:"aXuEA5lst8tAZHkmWe3T s23COtCPtjytUbqI34mJ"}},66086:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={fileField:"LYZYJuv5WLC_vEG32cHy"}},59272:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={loading:"mW9euUDoFpZcptNpWIYv eECeUCqv25D0S2sE_mBP"}},9307:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={message:"lrChKnRfMQqa3I38sayG",success:"ILMS05tNeG0vfGuaYFPw lrChKnRfMQqa3I38sayG",error:"r9khP1W4DErzL2hizpPK lrChKnRfMQqa3I38sayG",warning:"MMcWNpYlG1IUtrkZZgpr lrChKnRfMQqa3I38sayG"}},58041:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={syntaxContainer:"TD6jz8wsXWzF3nAVM0T0",syntax:"SvLIBH7f1d9FkqJNJhDl",syntaxStrongBg:"HcTMCpKivH1mqPN_8aYu SvLIBH7f1d9FkqJNJhDl",copyCodeButton:"J77cLhP9tDZYpTcSHfXn"}},7001:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={vscodeDark:"d6eyuoj_2LfXmIDIcsP7",blur:"xqICv0PUW3V_T0H7pcqZ",blurActive:"YGfWjb3aV1gXpf_AyYeY xqICv0PUW3V_T0H7pcqZ",fullscreenContainer:"eECeUCqv25D0S2sE_mBP"}},40234:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={footer:"x7MnNSzn0B9uRTMBQ35o"}},43979:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={container:"lh0npz7mCNSMYS2lYI1z"}},8113:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={container:"TqOVWAujzsaq0afg2Q_8"}},69143:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={cellValue:"V9JglcnqHmGmpUY_qHnb",bool:"iOBZEndQwfTzmhdAg0my V9JglcnqHmGmpUY_qHnb",true:"jZ86FHkGtPY9tuzjo8mR iOBZEndQwfTzmhdAg0my V9JglcnqHmGmpUY_qHnb",false:"MBPIelRkge4Okeg5Ormz iOBZEndQwfTzmhdAg0my V9JglcnqHmGmpUY_qHnb"}},84712:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={root:"NIa_hPE2YJcByJRkE5fH"}},52829:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={sortLabel:"WI31s8GyDbWY_NMtyftC",centered:"xbL0FZVfmESkp3I8WFIB",tableCell:"ZTpWPhdluOfmdLZ6GYZh",tableCellSyntax:"DsudyVmzQkYucsidxioQ",selectedRow:"I5nfSvmW6_e2qTlLviiG",filterCell:"OSz2kd3223NoJ8VmWHgw",filterCellActive:"DuMEoL61wQhJnGgXueTR OSz2kd3223NoJ8VmWHgw"}},78821:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={container:"Z4TIwE6i4ojjrcwjSnQW eECeUCqv25D0S2sE_mBP"}},36431:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={header:"poyl_yTSG9zyK3IhShJW"}},65611:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={formContainer:"DDNOtlmTDcBgIPTmjqem",footer:"V3b9LTD9r3Waqmn1X4_N"}}}]);