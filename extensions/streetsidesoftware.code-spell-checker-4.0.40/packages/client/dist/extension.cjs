"use strict";var Uj=Object.create;var pd=Object.defineProperty;var jj=Object.getOwnPropertyDescriptor;var Bj=Object.getOwnPropertyNames;var Wj=Object.getPrototypeOf,Kj=Object.prototype.hasOwnProperty;var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ME=(t,e)=>{for(var n in e)pd(t,n,{get:e[n],enumerable:!0})},qE=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Bj(e))!Kj.call(t,r)&&r!==n&&pd(t,r,{get:()=>e[r],enumerable:!(i=jj(e,r))||i.enumerable});return t};var Fe=(t,e,n)=>(n=t!=null?Uj(Wj(t)):{},qE(e||!t||!t.__esModule?pd(n,"default",{value:t,enumerable:!0}):n,t)),$j=t=>qE(pd({},"__esModule",{value:!0}),t);var Fk=F((Zc,sy)=>{(function(e,n){typeof Zc=="object"&&typeof sy=="object"?sy.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Zc=="object"?Zc.esprima=n():e.esprima=n()})(Zc,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),s=n(8),o=n(15);function a(p,l,d){var h=null,m=function(U,ie){d&&d(U,ie),h&&h.visit(U,ie)},C=typeof d=="function"?m:null,T=!1;if(l){T=typeof l.comment=="boolean"&&l.comment;var w=typeof l.attachComment=="boolean"&&l.attachComment;(T||w)&&(h=new i.CommentHandler,h.attach=w,l.comment=!0,C=m)}var k=!1;l&&typeof l.sourceType=="string"&&(k=l.sourceType==="module");var A;l&&typeof l.jsx=="boolean"&&l.jsx?A=new r.JSXParser(p,l,C):A=new s.Parser(p,l,C);var B=k?A.parseModule():A.parseScript(),W=B;return T&&h&&(W.comments=h.comments),A.config.tokens&&(W.tokens=A.tokens),A.config.tolerant&&(W.errors=A.errorHandler.errors),W}e.parse=a;function c(p,l,d){var h=l||{};return h.sourceType="module",a(p,h,d)}e.parseModule=c;function u(p,l,d){var h=l||{};return h.sourceType="script",a(p,h,d)}e.parseScript=u;function f(p,l,d){var h=new o.Tokenizer(p,l),m;m=[];try{for(;;){var C=h.getNextToken();if(!C)break;d&&(C=d(C)),m.push(C)}}catch(T){h.errorHandler.tolerate(T)}return h.errorHandler.tolerant&&(m.errors=h.errors()),m}e.tokenize=f;var g=n(2);e.Syntax=g.Syntax,e.version="4.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function s(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return s.prototype.insertInnerComments=function(o,a){if(o.type===i.Syntax.BlockStatement&&o.body.length===0){for(var c=[],u=this.leading.length-1;u>=0;--u){var f=this.leading[u];a.end.offset>=f.start&&(c.unshift(f.comment),this.leading.splice(u,1),this.trailing.splice(u,1))}c.length&&(o.innerComments=c)}},s.prototype.findTrailingComments=function(o){var a=[];if(this.trailing.length>0){for(var c=this.trailing.length-1;c>=0;--c){var u=this.trailing[c];u.start>=o.end.offset&&a.unshift(u.comment)}return this.trailing.length=0,a}var f=this.stack[this.stack.length-1];if(f&&f.node.trailingComments){var g=f.node.trailingComments[0];g&&g.range[0]>=o.end.offset&&(a=f.node.trailingComments,delete f.node.trailingComments)}return a},s.prototype.findLeadingComments=function(o){for(var a=[],c;this.stack.length>0;){var u=this.stack[this.stack.length-1];if(u&&u.start>=o.start.offset)c=u.node,this.stack.pop();else break}if(c){for(var f=c.leadingComments?c.leadingComments.length:0,g=f-1;g>=0;--g){var p=c.leadingComments[g];p.range[1]<=o.start.offset&&(a.unshift(p),c.leadingComments.splice(g,1))}return c.leadingComments&&c.leadingComments.length===0&&delete c.leadingComments,a}for(var g=this.leading.length-1;g>=0;--g){var u=this.leading[g];u.start<=o.start.offset&&(a.unshift(u.comment),this.leading.splice(g,1))}return a},s.prototype.visitNode=function(o,a){if(!(o.type===i.Syntax.Program&&o.body.length>0)){this.insertInnerComments(o,a);var c=this.findTrailingComments(a),u=this.findLeadingComments(a);u.length>0&&(o.leadingComments=u),c.length>0&&(o.trailingComments=c),this.stack.push({node:o,start:a.start.offset})}},s.prototype.visitComment=function(o,a){var c=o.type[0]==="L"?"Line":"Block",u={type:c,value:o.value};if(o.range&&(u.range=o.range),o.loc&&(u.loc=o.loc),this.comments.push(u),this.attach){var f={comment:{type:c,value:o.value,range:[a.start.offset,a.end.offset]},start:a.start.offset};o.loc&&(f.comment.loc=o.loc),o.type=c,this.leading.push(f),this.trailing.push(f)}},s.prototype.visit=function(o,a){o.type==="LineComment"?this.visitComment(o,a):o.type==="BlockComment"?this.visitComment(o,a):this.attach&&this.visitNode(o,a)},s}();e.CommentHandler=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){l(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(5),o=n(6),a=n(7),c=n(8),u=n(13),f=n(14);u.TokenName[100]="JSXIdentifier",u.TokenName[101]="JSXText";function g(l){var d;switch(l.type){case o.JSXSyntax.JSXIdentifier:var h=l;d=h.name;break;case o.JSXSyntax.JSXNamespacedName:var m=l;d=g(m.namespace)+":"+g(m.name);break;case o.JSXSyntax.JSXMemberExpression:var C=l;d=g(C.object)+"."+g(C.property);break;default:break}return d}var p=function(l){i(d,l);function d(h,m,C){return l.call(this,h,m,C)||this}return d.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():l.prototype.parsePrimaryExpression.call(this)},d.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},d.prototype.finishJSX=function(){this.nextToken()},d.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},d.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},d.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},d.prototype.scanXHTMLEntity=function(h){for(var m="&",C=!0,T=!1,w=!1,k=!1;!this.scanner.eof()&&C&&!T;){var A=this.scanner.source[this.scanner.index];if(A===h)break;if(T=A===";",m+=A,++this.scanner.index,!T)switch(m.length){case 2:w=A==="#";break;case 3:w&&(k=A==="x",C=k||r.Character.isDecimalDigit(A.charCodeAt(0)),w=w&&!k);break;default:C=C&&!(w&&!r.Character.isDecimalDigit(A.charCodeAt(0))),C=C&&!(k&&!r.Character.isHexDigit(A.charCodeAt(0)));break}}if(C&&T&&m.length>2){var B=m.substr(1,m.length-2);w&&B.length>1?m=String.fromCharCode(parseInt(B.substr(1),10)):k&&B.length>2?m=String.fromCharCode(parseInt("0"+B.substr(1),16)):!w&&!k&&f.XHTMLEntities[B]&&(m=f.XHTMLEntities[B])}return m},d.prototype.lexJSX=function(){var h=this.scanner.source.charCodeAt(this.scanner.index);if(h===60||h===62||h===47||h===58||h===61||h===123||h===125){var m=this.scanner.source[this.scanner.index++];return{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(h===34||h===39){for(var C=this.scanner.index,T=this.scanner.source[this.scanner.index++],w="";!this.scanner.eof();){var k=this.scanner.source[this.scanner.index++];if(k===T)break;k==="&"?w+=this.scanXHTMLEntity(T):w+=k}return{type:8,value:w,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(h===46){var A=this.scanner.source.charCodeAt(this.scanner.index+1),B=this.scanner.source.charCodeAt(this.scanner.index+2),m=A===46&&B===46?"...":".",C=this.scanner.index;return this.scanner.index+=m.length,{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(h===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(r.Character.isIdentifierStart(h)&&h!==92){var C=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var k=this.scanner.source.charCodeAt(this.scanner.index);if(r.Character.isIdentifierPart(k)&&k!==92)++this.scanner.index;else if(k===45)++this.scanner.index;else break}var W=this.scanner.source.slice(C,this.scanner.index);return{type:100,value:W,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}return this.scanner.lex()},d.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var h=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(h)),h},d.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var h=this.scanner.index,m="";!this.scanner.eof();){var C=this.scanner.source[this.scanner.index];if(C==="{"||C==="<")break;++this.scanner.index,m+=C,r.Character.isLineTerminator(C.charCodeAt(0))&&(++this.scanner.lineNumber,C==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var T={type:101,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:h,end:this.scanner.index};return m.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(T)),T},d.prototype.peekJSXToken=function(){var h=this.scanner.saveState();this.scanner.scanComments();var m=this.lexJSX();return this.scanner.restoreState(h),m},d.prototype.expectJSX=function(h){var m=this.nextJSXToken();(m.type!==7||m.value!==h)&&this.throwUnexpectedToken(m)},d.prototype.matchJSX=function(h){var m=this.peekJSXToken();return m.type===7&&m.value===h},d.prototype.parseJSXIdentifier=function(){var h=this.createJSXNode(),m=this.nextJSXToken();return m.type!==100&&this.throwUnexpectedToken(m),this.finalize(h,new s.JSXIdentifier(m.value))},d.prototype.parseJSXElementName=function(){var h=this.createJSXNode(),m=this.parseJSXIdentifier();if(this.matchJSX(":")){var C=m;this.expectJSX(":");var T=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXNamespacedName(C,T))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var w=m;this.expectJSX(".");var k=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXMemberExpression(w,k))}return m},d.prototype.parseJSXAttributeName=function(){var h=this.createJSXNode(),m,C=this.parseJSXIdentifier();if(this.matchJSX(":")){var T=C;this.expectJSX(":");var w=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXNamespacedName(T,w))}else m=C;return m},d.prototype.parseJSXStringLiteralAttribute=function(){var h=this.createJSXNode(),m=this.nextJSXToken();m.type!==8&&this.throwUnexpectedToken(m);var C=this.getTokenRaw(m);return this.finalize(h,new a.Literal(m.value,C))},d.prototype.parseJSXExpressionAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXExpressionContainer(m))},d.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},d.prototype.parseJSXNameValueAttribute=function(){var h=this.createJSXNode(),m=this.parseJSXAttributeName(),C=null;return this.matchJSX("=")&&(this.expectJSX("="),C=this.parseJSXAttributeValue()),this.finalize(h,new s.JSXAttribute(m,C))},d.prototype.parseJSXSpreadAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXSpreadAttribute(m))},d.prototype.parseJSXAttributes=function(){for(var h=[];!this.matchJSX("/")&&!this.matchJSX(">");){var m=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();h.push(m)}return h},d.prototype.parseJSXOpeningElement=function(){var h=this.createJSXNode();this.expectJSX("<");var m=this.parseJSXElementName(),C=this.parseJSXAttributes(),T=this.matchJSX("/");return T&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(m,T,C))},d.prototype.parseJSXBoundaryElement=function(){var h=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var m=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(h,new s.JSXClosingElement(m))}var C=this.parseJSXElementName(),T=this.parseJSXAttributes(),w=this.matchJSX("/");return w&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(C,w,T))},d.prototype.parseJSXEmptyExpression=function(){var h=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(h,new s.JSXEmptyExpression)},d.prototype.parseJSXExpressionContainer=function(){var h=this.createJSXNode();this.expectJSX("{");var m;return this.matchJSX("}")?(m=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),m=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(h,new s.JSXExpressionContainer(m))},d.prototype.parseJSXChildren=function(){for(var h=[];!this.scanner.eof();){var m=this.createJSXChildNode(),C=this.nextJSXText();if(C.start<C.end){var T=this.getTokenRaw(C),w=this.finalize(m,new s.JSXText(C.value,T));h.push(w)}if(this.scanner.source[this.scanner.index]==="{"){var k=this.parseJSXExpressionContainer();h.push(k)}else break}return h},d.prototype.parseComplexJSXElement=function(h){for(var m=[];!this.scanner.eof();){h.children=h.children.concat(this.parseJSXChildren());var C=this.createJSXChildNode(),T=this.parseJSXBoundaryElement();if(T.type===o.JSXSyntax.JSXOpeningElement){var w=T;if(w.selfClosing){var k=this.finalize(C,new s.JSXElement(w,[],null));h.children.push(k)}else m.push(h),h={node:C,opening:w,closing:null,children:[]}}if(T.type===o.JSXSyntax.JSXClosingElement){h.closing=T;var A=g(h.opening.name),B=g(h.closing.name);if(A!==B&&this.tolerateError("Expected corresponding JSX closing tag for %0",A),m.length>0){var k=this.finalize(h.node,new s.JSXElement(h.opening,h.children,h.closing));h=m[m.length-1],h.children.push(k),m.pop()}else break}}return h},d.prototype.parseJSXElement=function(){var h=this.createJSXNode(),m=this.parseJSXOpeningElement(),C=[],T=null;if(!m.selfClosing){var w=this.parseComplexJSXElement({node:h,opening:m,closing:T,children:C});C=w.children,T=w.closing}return this.finalize(h,new s.JSXElement(m,C,T))},d.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var h=this.parseJSXElement();return this.finishJSX(),h},d.prototype.isStartOfExpression=function(){return l.prototype.isStartOfExpression.call(this)||this.match("<")},d}(c.Parser);e.JSXParser=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(i){return i<65536?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10))+String.fromCharCode(56320+(i-65536&1023))},isWhiteSpace:function(i){return i===32||i===9||i===11||i===12||i===160||i>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(i)>=0},isLineTerminator:function(i){return i===10||i===13||i===8232||i===8233},isIdentifierStart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i===92||i>=128&&n.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(i))},isIdentifierPart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i>=48&&i<=57||i===92||i>=128&&n.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(i))},isDecimalDigit:function(i){return i>=48&&i<=57},isHexDigit:function(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102},isOctalDigit:function(i){return i>=48&&i<=55}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function h(m){this.type=i.JSXSyntax.JSXClosingElement,this.name=m}return h}();e.JSXClosingElement=r;var s=function(){function h(m,C,T){this.type=i.JSXSyntax.JSXElement,this.openingElement=m,this.children=C,this.closingElement=T}return h}();e.JSXElement=s;var o=function(){function h(){this.type=i.JSXSyntax.JSXEmptyExpression}return h}();e.JSXEmptyExpression=o;var a=function(){function h(m){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=m}return h}();e.JSXExpressionContainer=a;var c=function(){function h(m){this.type=i.JSXSyntax.JSXIdentifier,this.name=m}return h}();e.JSXIdentifier=c;var u=function(){function h(m,C){this.type=i.JSXSyntax.JSXMemberExpression,this.object=m,this.property=C}return h}();e.JSXMemberExpression=u;var f=function(){function h(m,C){this.type=i.JSXSyntax.JSXAttribute,this.name=m,this.value=C}return h}();e.JSXAttribute=f;var g=function(){function h(m,C){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=m,this.name=C}return h}();e.JSXNamespacedName=g;var p=function(){function h(m,C,T){this.type=i.JSXSyntax.JSXOpeningElement,this.name=m,this.selfClosing=C,this.attributes=T}return h}();e.JSXOpeningElement=p;var l=function(){function h(m){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=m}return h}();e.JSXSpreadAttribute=l;var d=function(){function h(m,C){this.type=i.JSXSyntax.JSXText,this.value=m,this.raw=C}return h}();e.JSXText=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function L(M){this.type=i.Syntax.ArrayExpression,this.elements=M}return L}();e.ArrayExpression=r;var s=function(){function L(M){this.type=i.Syntax.ArrayPattern,this.elements=M}return L}();e.ArrayPattern=s;var o=function(){function L(M,Y,Ee){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=M,this.body=Y,this.generator=!1,this.expression=Ee,this.async=!1}return L}();e.ArrowFunctionExpression=o;var a=function(){function L(M,Y,Ee){this.type=i.Syntax.AssignmentExpression,this.operator=M,this.left=Y,this.right=Ee}return L}();e.AssignmentExpression=a;var c=function(){function L(M,Y){this.type=i.Syntax.AssignmentPattern,this.left=M,this.right=Y}return L}();e.AssignmentPattern=c;var u=function(){function L(M,Y,Ee){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=M,this.body=Y,this.generator=!1,this.expression=Ee,this.async=!0}return L}();e.AsyncArrowFunctionExpression=u;var f=function(){function L(M,Y,Ee){this.type=i.Syntax.FunctionDeclaration,this.id=M,this.params=Y,this.body=Ee,this.generator=!1,this.expression=!1,this.async=!0}return L}();e.AsyncFunctionDeclaration=f;var g=function(){function L(M,Y,Ee){this.type=i.Syntax.FunctionExpression,this.id=M,this.params=Y,this.body=Ee,this.generator=!1,this.expression=!1,this.async=!0}return L}();e.AsyncFunctionExpression=g;var p=function(){function L(M){this.type=i.Syntax.AwaitExpression,this.argument=M}return L}();e.AwaitExpression=p;var l=function(){function L(M,Y,Ee){var Kt=M==="||"||M==="&&";this.type=Kt?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=M,this.left=Y,this.right=Ee}return L}();e.BinaryExpression=l;var d=function(){function L(M){this.type=i.Syntax.BlockStatement,this.body=M}return L}();e.BlockStatement=d;var h=function(){function L(M){this.type=i.Syntax.BreakStatement,this.label=M}return L}();e.BreakStatement=h;var m=function(){function L(M,Y){this.type=i.Syntax.CallExpression,this.callee=M,this.arguments=Y}return L}();e.CallExpression=m;var C=function(){function L(M,Y){this.type=i.Syntax.CatchClause,this.param=M,this.body=Y}return L}();e.CatchClause=C;var T=function(){function L(M){this.type=i.Syntax.ClassBody,this.body=M}return L}();e.ClassBody=T;var w=function(){function L(M,Y,Ee){this.type=i.Syntax.ClassDeclaration,this.id=M,this.superClass=Y,this.body=Ee}return L}();e.ClassDeclaration=w;var k=function(){function L(M,Y,Ee){this.type=i.Syntax.ClassExpression,this.id=M,this.superClass=Y,this.body=Ee}return L}();e.ClassExpression=k;var A=function(){function L(M,Y){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=M,this.property=Y}return L}();e.ComputedMemberExpression=A;var B=function(){function L(M,Y,Ee){this.type=i.Syntax.ConditionalExpression,this.test=M,this.consequent=Y,this.alternate=Ee}return L}();e.ConditionalExpression=B;var W=function(){function L(M){this.type=i.Syntax.ContinueStatement,this.label=M}return L}();e.ContinueStatement=W;var U=function(){function L(){this.type=i.Syntax.DebuggerStatement}return L}();e.DebuggerStatement=U;var ie=function(){function L(M,Y){this.type=i.Syntax.ExpressionStatement,this.expression=M,this.directive=Y}return L}();e.Directive=ie;var ne=function(){function L(M,Y){this.type=i.Syntax.DoWhileStatement,this.body=M,this.test=Y}return L}();e.DoWhileStatement=ne;var $=function(){function L(){this.type=i.Syntax.EmptyStatement}return L}();e.EmptyStatement=$;var N=function(){function L(M){this.type=i.Syntax.ExportAllDeclaration,this.source=M}return L}();e.ExportAllDeclaration=N;var H=function(){function L(M){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=M}return L}();e.ExportDefaultDeclaration=H;var te=function(){function L(M,Y,Ee){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=M,this.specifiers=Y,this.source=Ee}return L}();e.ExportNamedDeclaration=te;var K=function(){function L(M,Y){this.type=i.Syntax.ExportSpecifier,this.exported=Y,this.local=M}return L}();e.ExportSpecifier=K;var G=function(){function L(M){this.type=i.Syntax.ExpressionStatement,this.expression=M}return L}();e.ExpressionStatement=G;var Q=function(){function L(M,Y,Ee){this.type=i.Syntax.ForInStatement,this.left=M,this.right=Y,this.body=Ee,this.each=!1}return L}();e.ForInStatement=Q;var ae=function(){function L(M,Y,Ee){this.type=i.Syntax.ForOfStatement,this.left=M,this.right=Y,this.body=Ee}return L}();e.ForOfStatement=ae;var se=function(){function L(M,Y,Ee,Kt){this.type=i.Syntax.ForStatement,this.init=M,this.test=Y,this.update=Ee,this.body=Kt}return L}();e.ForStatement=se;var re=function(){function L(M,Y,Ee,Kt){this.type=i.Syntax.FunctionDeclaration,this.id=M,this.params=Y,this.body=Ee,this.generator=Kt,this.expression=!1,this.async=!1}return L}();e.FunctionDeclaration=re;var ye=function(){function L(M,Y,Ee,Kt){this.type=i.Syntax.FunctionExpression,this.id=M,this.params=Y,this.body=Ee,this.generator=Kt,this.expression=!1,this.async=!1}return L}();e.FunctionExpression=ye;var ve=function(){function L(M){this.type=i.Syntax.Identifier,this.name=M}return L}();e.Identifier=ve;var $e=function(){function L(M,Y,Ee){this.type=i.Syntax.IfStatement,this.test=M,this.consequent=Y,this.alternate=Ee}return L}();e.IfStatement=$e;var ke=function(){function L(M,Y){this.type=i.Syntax.ImportDeclaration,this.specifiers=M,this.source=Y}return L}();e.ImportDeclaration=ke;var ht=function(){function L(M){this.type=i.Syntax.ImportDefaultSpecifier,this.local=M}return L}();e.ImportDefaultSpecifier=ht;var wt=function(){function L(M){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=M}return L}();e.ImportNamespaceSpecifier=wt;var Jn=function(){function L(M,Y){this.type=i.Syntax.ImportSpecifier,this.local=M,this.imported=Y}return L}();e.ImportSpecifier=Jn;var qn=function(){function L(M,Y){this.type=i.Syntax.LabeledStatement,this.label=M,this.body=Y}return L}();e.LabeledStatement=qn;var Un=function(){function L(M,Y){this.type=i.Syntax.Literal,this.value=M,this.raw=Y}return L}();e.Literal=Un;var jn=function(){function L(M,Y){this.type=i.Syntax.MetaProperty,this.meta=M,this.property=Y}return L}();e.MetaProperty=jn;var Xn=function(){function L(M,Y,Ee,Kt,b){this.type=i.Syntax.MethodDefinition,this.key=M,this.computed=Y,this.value=Ee,this.kind=Kt,this.static=b}return L}();e.MethodDefinition=Xn;var nt=function(){function L(M){this.type=i.Syntax.Program,this.body=M,this.sourceType="module"}return L}();e.Module=nt;var pi=function(){function L(M,Y){this.type=i.Syntax.NewExpression,this.callee=M,this.arguments=Y}return L}();e.NewExpression=pi;var Bn=function(){function L(M){this.type=i.Syntax.ObjectExpression,this.properties=M}return L}();e.ObjectExpression=Bn;var rn=function(){function L(M){this.type=i.Syntax.ObjectPattern,this.properties=M}return L}();e.ObjectPattern=rn;var Ri=function(){function L(M,Y,Ee,Kt,b,V){this.type=i.Syntax.Property,this.key=Y,this.computed=Ee,this.value=Kt,this.kind=M,this.method=b,this.shorthand=V}return L}();e.Property=Ri;var cn=function(){function L(M,Y,Ee,Kt){this.type=i.Syntax.Literal,this.value=M,this.raw=Y,this.regex={pattern:Ee,flags:Kt}}return L}();e.RegexLiteral=cn;var Yn=function(){function L(M){this.type=i.Syntax.RestElement,this.argument=M}return L}();e.RestElement=Yn;var lt=function(){function L(M){this.type=i.Syntax.ReturnStatement,this.argument=M}return L}();e.ReturnStatement=lt;var xt=function(){function L(M){this.type=i.Syntax.Program,this.body=M,this.sourceType="script"}return L}();e.Script=xt;var Gt=function(){function L(M){this.type=i.Syntax.SequenceExpression,this.expressions=M}return L}();e.SequenceExpression=Gt;var mn=function(){function L(M){this.type=i.Syntax.SpreadElement,this.argument=M}return L}();e.SpreadElement=mn;var Wt=function(){function L(M,Y){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=M,this.property=Y}return L}();e.StaticMemberExpression=Wt;var Wn=function(){function L(){this.type=i.Syntax.Super}return L}();e.Super=Wn;var Qn=function(){function L(M,Y){this.type=i.Syntax.SwitchCase,this.test=M,this.consequent=Y}return L}();e.SwitchCase=Qn;var yn=function(){function L(M,Y){this.type=i.Syntax.SwitchStatement,this.discriminant=M,this.cases=Y}return L}();e.SwitchStatement=yn;var Zn=function(){function L(M,Y){this.type=i.Syntax.TaggedTemplateExpression,this.tag=M,this.quasi=Y}return L}();e.TaggedTemplateExpression=Zn;var Et=function(){function L(M,Y){this.type=i.Syntax.TemplateElement,this.value=M,this.tail=Y}return L}();e.TemplateElement=Et;var v=function(){function L(M,Y){this.type=i.Syntax.TemplateLiteral,this.quasis=M,this.expressions=Y}return L}();e.TemplateLiteral=v;var P=function(){function L(){this.type=i.Syntax.ThisExpression}return L}();e.ThisExpression=P;var q=function(){function L(M){this.type=i.Syntax.ThrowStatement,this.argument=M}return L}();e.ThrowStatement=q;var z=function(){function L(M,Y,Ee){this.type=i.Syntax.TryStatement,this.block=M,this.handler=Y,this.finalizer=Ee}return L}();e.TryStatement=z;var Ce=function(){function L(M,Y){this.type=i.Syntax.UnaryExpression,this.operator=M,this.argument=Y,this.prefix=!0}return L}();e.UnaryExpression=Ce;var ge=function(){function L(M,Y,Ee){this.type=i.Syntax.UpdateExpression,this.operator=M,this.argument=Y,this.prefix=Ee}return L}();e.UpdateExpression=ge;var we=function(){function L(M,Y){this.type=i.Syntax.VariableDeclaration,this.declarations=M,this.kind=Y}return L}();e.VariableDeclaration=we;var xe=function(){function L(M,Y){this.type=i.Syntax.VariableDeclarator,this.id=M,this.init=Y}return L}();e.VariableDeclarator=xe;var ue=function(){function L(M,Y){this.type=i.Syntax.WhileStatement,this.test=M,this.body=Y}return L}();e.WhileStatement=ue;var Se=function(){function L(M,Y){this.type=i.Syntax.WithStatement,this.object=M,this.body=Y}return L}();e.WithStatement=Se;var de=function(){function L(M,Y){this.type=i.Syntax.YieldExpression,this.argument=M,this.delegate=Y}return L}();e.YieldExpression=de},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(10),s=n(11),o=n(7),a=n(12),c=n(2),u=n(13),f="ArrowParameterPlaceHolder",g=function(){function p(l,d,h){d===void 0&&(d={}),this.config={range:typeof d.range=="boolean"&&d.range,loc:typeof d.loc=="boolean"&&d.loc,source:null,tokens:typeof d.tokens=="boolean"&&d.tokens,comment:typeof d.comment=="boolean"&&d.comment,tolerant:typeof d.tolerant=="boolean"&&d.tolerant},this.config.loc&&d.source&&d.source!==null&&(this.config.source=String(d.source)),this.delegate=h,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(l,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return p.prototype.throwError=function(l){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var m=Array.prototype.slice.call(arguments,1),C=l.replace(/%(\d)/g,function(A,B){return i.assert(B<m.length,"Message reference must be in range"),m[B]}),T=this.lastMarker.index,w=this.lastMarker.line,k=this.lastMarker.column+1;throw this.errorHandler.createError(T,w,k,C)},p.prototype.tolerateError=function(l){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var m=Array.prototype.slice.call(arguments,1),C=l.replace(/%(\d)/g,function(A,B){return i.assert(B<m.length,"Message reference must be in range"),m[B]}),T=this.lastMarker.index,w=this.scanner.lineNumber,k=this.lastMarker.column+1;this.errorHandler.tolerateError(T,w,k,C)},p.prototype.unexpectedTokenError=function(l,d){var h=d||s.Messages.UnexpectedToken,m;if(l?(d||(h=l.type===2?s.Messages.UnexpectedEOS:l.type===3?s.Messages.UnexpectedIdentifier:l.type===6?s.Messages.UnexpectedNumber:l.type===8?s.Messages.UnexpectedString:l.type===10?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,l.type===4&&(this.scanner.isFutureReservedWord(l.value)?h=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(l.value)&&(h=s.Messages.StrictReservedWord))),m=l.value):m="ILLEGAL",h=h.replace("%0",m),l&&typeof l.lineNumber=="number"){var C=l.start,T=l.lineNumber,w=this.lastMarker.index-this.lastMarker.column,k=l.start-w+1;return this.errorHandler.createError(C,T,k,h)}else{var C=this.lastMarker.index,T=this.lastMarker.line,k=this.lastMarker.column+1;return this.errorHandler.createError(C,T,k,h)}},p.prototype.throwUnexpectedToken=function(l,d){throw this.unexpectedTokenError(l,d)},p.prototype.tolerateUnexpectedToken=function(l,d){this.errorHandler.tolerate(this.unexpectedTokenError(l,d))},p.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var l=this.scanner.scanComments();if(l.length>0&&this.delegate)for(var d=0;d<l.length;++d){var h=l[d],m=void 0;m={type:h.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(h.slice[0],h.slice[1])},this.config.range&&(m.range=h.range),this.config.loc&&(m.loc=h.loc);var C={start:{line:h.loc.start.line,column:h.loc.start.column,offset:h.range[0]},end:{line:h.loc.end.line,column:h.loc.end.column,offset:h.range[1]}};this.delegate(m,C)}}},p.prototype.getTokenRaw=function(l){return this.scanner.source.slice(l.start,l.end)},p.prototype.convertToken=function(l){var d={type:u.TokenName[l.type],value:this.getTokenRaw(l)};if(this.config.range&&(d.range=[l.start,l.end]),this.config.loc&&(d.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),l.type===9){var h=l.pattern,m=l.flags;d.regex={pattern:h,flags:m}}return d},p.prototype.nextToken=function(){var l=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var d=this.scanner.lex();return this.hasLineTerminator=l.lineNumber!==d.lineNumber,d&&this.context.strict&&d.type===3&&this.scanner.isStrictModeReservedWord(d.value)&&(d.type=4),this.lookahead=d,this.config.tokens&&d.type!==2&&this.tokens.push(this.convertToken(d)),l},p.prototype.nextRegexToken=function(){this.collectComments();var l=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(l))),this.lookahead=l,this.nextToken(),l},p.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},p.prototype.startNode=function(l,d){d===void 0&&(d=0);var h=l.start-l.lineStart,m=l.lineNumber;return h<0&&(h+=d,m--),{index:l.start,line:m,column:h}},p.prototype.finalize=function(l,d){if(this.config.range&&(d.range=[l.index,this.lastMarker.index]),this.config.loc&&(d.loc={start:{line:l.line,column:l.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(d.loc.source=this.config.source)),this.delegate){var h={start:{line:l.line,column:l.column,offset:l.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(d,h)}return d},p.prototype.expect=function(l){var d=this.nextToken();(d.type!==7||d.value!==l)&&this.throwUnexpectedToken(d)},p.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var l=this.lookahead;l.type===7&&l.value===","?this.nextToken():l.type===7&&l.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(l)):this.tolerateUnexpectedToken(l,s.Messages.UnexpectedToken)}else this.expect(",")},p.prototype.expectKeyword=function(l){var d=this.nextToken();(d.type!==4||d.value!==l)&&this.throwUnexpectedToken(d)},p.prototype.match=function(l){return this.lookahead.type===7&&this.lookahead.value===l},p.prototype.matchKeyword=function(l){return this.lookahead.type===4&&this.lookahead.value===l},p.prototype.matchContextualKeyword=function(l){return this.lookahead.type===3&&this.lookahead.value===l},p.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var l=this.lookahead.value;return l==="="||l==="*="||l==="**="||l==="/="||l==="%="||l==="+="||l==="-="||l==="<<="||l===">>="||l===">>>="||l==="&="||l==="^="||l==="|="},p.prototype.isolateCoverGrammar=function(l){var d=this.context.isBindingElement,h=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=l.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=d,this.context.isAssignmentTarget=h,this.context.firstCoverInitializedNameError=m,C},p.prototype.inheritCoverGrammar=function(l){var d=this.context.isBindingElement,h=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=l.call(this);return this.context.isBindingElement=this.context.isBindingElement&&d,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&h,this.context.firstCoverInitializedNameError=m||this.context.firstCoverInitializedNameError,C},p.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},p.prototype.parsePrimaryExpression=function(){var l=this.createNode(),d,h,m;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),d=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(l,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(h.value,m));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(h.value==="true",m));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(null,m));break;case 10:d=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,d=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":d=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":d=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,h=this.nextRegexToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.RegexLiteral(h.regex,m,h.pattern,h.flags));break;default:d=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?d=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?d=this.finalize(l,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?d=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),d=this.finalize(l,new o.ThisExpression)):this.matchKeyword("class")?d=this.parseClassExpression():d=this.throwUnexpectedToken(this.nextToken()));break;default:d=this.throwUnexpectedToken(this.nextToken())}return d},p.prototype.parseSpreadElement=function(){var l=this.createNode();this.expect("...");var d=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(l,new o.SpreadElement(d))},p.prototype.parseArrayInitializer=function(){var l=this.createNode(),d=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),d.push(null);else if(this.match("...")){var h=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),d.push(h)}else d.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(l,new o.ArrayExpression(d))},p.prototype.parsePropertyMethod=function(l){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var d=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=l.simple;var m=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&l.firstRestricted&&this.tolerateUnexpectedToken(l.firstRestricted,l.message),this.context.strict&&l.stricted&&this.tolerateUnexpectedToken(l.stricted,l.message),this.context.strict=d,this.context.allowStrictDirective=h,m},p.prototype.parsePropertyMethodFunction=function(){var l=!1,d=this.createNode(),h=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters(),C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(d,new o.FunctionExpression(null,m.params,C,l))},p.prototype.parsePropertyMethodAsyncFunction=function(){var l=this.createNode(),d=this.context.allowYield,h=this.context.await;this.context.allowYield=!1,this.context.await=!0;var m=this.parseFormalParameters(),C=this.parsePropertyMethod(m);return this.context.allowYield=d,this.context.await=h,this.finalize(l,new o.AsyncFunctionExpression(null,m.params,C))},p.prototype.parseObjectPropertyKey=function(){var l=this.createNode(),d=this.nextToken(),h;switch(d.type){case 8:case 6:this.context.strict&&d.octal&&this.tolerateUnexpectedToken(d,s.Messages.StrictOctalLiteral);var m=this.getTokenRaw(d);h=this.finalize(l,new o.Literal(d.value,m));break;case 3:case 1:case 5:case 4:h=this.finalize(l,new o.Identifier(d.value));break;case 7:d.value==="["?(h=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):h=this.throwUnexpectedToken(d);break;default:h=this.throwUnexpectedToken(d)}return h},p.prototype.isPropertyKey=function(l,d){return l.type===c.Syntax.Identifier&&l.name===d||l.type===c.Syntax.Literal&&l.value===d},p.prototype.parseObjectProperty=function(l){var d=this.createNode(),h=this.lookahead,m,C=null,T=null,w=!1,k=!1,A=!1,B=!1;if(h.type===3){var W=h.value;this.nextToken(),w=this.match("["),B=!this.hasLineTerminator&&W==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),C=B?this.parseObjectPropertyKey():this.finalize(d,new o.Identifier(W))}else this.match("*")?this.nextToken():(w=this.match("["),C=this.parseObjectPropertyKey());var U=this.qualifiedPropertyName(this.lookahead);if(h.type===3&&!B&&h.value==="get"&&U)m="get",w=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,T=this.parseGetterMethod();else if(h.type===3&&!B&&h.value==="set"&&U)m="set",w=this.match("["),C=this.parseObjectPropertyKey(),T=this.parseSetterMethod();else if(h.type===7&&h.value==="*"&&U)m="init",w=this.match("["),C=this.parseObjectPropertyKey(),T=this.parseGeneratorMethod(),k=!0;else if(C||this.throwUnexpectedToken(this.lookahead),m="init",this.match(":")&&!B)!w&&this.isPropertyKey(C,"__proto__")&&(l.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),l.value=!0),this.nextToken(),T=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))T=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),k=!0;else if(h.type===3){var W=this.finalize(d,new o.Identifier(h.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),A=!0;var ie=this.isolateCoverGrammar(this.parseAssignmentExpression);T=this.finalize(d,new o.AssignmentPattern(W,ie))}else A=!0,T=W}else this.throwUnexpectedToken(this.nextToken());return this.finalize(d,new o.Property(m,C,w,T,k,A))},p.prototype.parseObjectInitializer=function(){var l=this.createNode();this.expect("{");for(var d=[],h={value:!1};!this.match("}");)d.push(this.parseObjectProperty(h)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(l,new o.ObjectExpression(d))},p.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var l=this.createNode(),d=this.nextToken(),h=d.value,m=d.cooked;return this.finalize(l,new o.TemplateElement({raw:h,cooked:m},d.tail))},p.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var l=this.createNode(),d=this.nextToken(),h=d.value,m=d.cooked;return this.finalize(l,new o.TemplateElement({raw:h,cooked:m},d.tail))},p.prototype.parseTemplateLiteral=function(){var l=this.createNode(),d=[],h=[],m=this.parseTemplateHead();for(h.push(m);!m.tail;)d.push(this.parseExpression()),m=this.parseTemplateElement(),h.push(m);return this.finalize(l,new o.TemplateLiteral(h,d))},p.prototype.reinterpretExpressionAsPattern=function(l){switch(l.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:l.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(l.argument);break;case c.Syntax.ArrayExpression:l.type=c.Syntax.ArrayPattern;for(var d=0;d<l.elements.length;d++)l.elements[d]!==null&&this.reinterpretExpressionAsPattern(l.elements[d]);break;case c.Syntax.ObjectExpression:l.type=c.Syntax.ObjectPattern;for(var d=0;d<l.properties.length;d++)this.reinterpretExpressionAsPattern(l.properties[d].value);break;case c.Syntax.AssignmentExpression:l.type=c.Syntax.AssignmentPattern,delete l.operator,this.reinterpretExpressionAsPattern(l.left);break;default:break}},p.prototype.parseGroupExpression=function(){var l;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),l={type:f,params:[],async:!1};else{var d=this.lookahead,h=[];if(this.match("..."))l=this.parseRestElement(h),this.expect(")"),this.match("=>")||this.expect("=>"),l={type:f,params:[l],async:!1};else{var m=!1;if(this.context.isBindingElement=!0,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var C=[];for(this.context.isAssignmentTarget=!1,C.push(l);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var T=0;T<C.length;T++)this.reinterpretExpressionAsPattern(C[T]);m=!0,l={type:f,params:C,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),C.push(this.parseRestElement(h)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var T=0;T<C.length;T++)this.reinterpretExpressionAsPattern(C[T]);m=!0,l={type:f,params:C,async:!1}}else C.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(m)break}m||(l=this.finalize(this.startNode(d),new o.SequenceExpression(C)))}if(!m){if(this.expect(")"),this.match("=>")&&(l.type===c.Syntax.Identifier&&l.name==="yield"&&(m=!0,l={type:f,params:[l],async:!1}),!m)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),l.type===c.Syntax.SequenceExpression)for(var T=0;T<l.expressions.length;T++)this.reinterpretExpressionAsPattern(l.expressions[T]);else this.reinterpretExpressionAsPattern(l);var w=l.type===c.Syntax.SequenceExpression?l.expressions:[l];l={type:f,params:w,async:!1}}this.context.isBindingElement=!1}}}return l},p.prototype.parseArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(l.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},p.prototype.isIdentifierName=function(l){return l.type===3||l.type===4||l.type===1||l.type===5},p.prototype.parseIdentifierName=function(){var l=this.createNode(),d=this.nextToken();return this.isIdentifierName(d)||this.throwUnexpectedToken(d),this.finalize(l,new o.Identifier(d.value))},p.prototype.parseNewExpression=function(){var l=this.createNode(),d=this.parseIdentifierName();i.assert(d.name==="new","New expression must start with `new`");var h;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var m=this.parseIdentifierName();h=new o.MetaProperty(d,m)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),T=this.match("(")?this.parseArguments():[];h=new o.NewExpression(C,T),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(l,h)},p.prototype.parseAsyncArgument=function(){var l=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,l},p.prototype.parseAsyncArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(l.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},p.prototype.parseLeftHandSideExpressionAllowCall=function(){var l=this.lookahead,d=this.matchContextualKeyword("async"),h=this.context.allowIn;this.context.allowIn=!0;var m;for(this.matchKeyword("super")&&this.context.inFunctionBody?(m=this.createNode(),this.nextToken(),m=this.finalize(m,new o.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):m=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var C=this.parseIdentifierName();m=this.finalize(this.startNode(l),new o.StaticMemberExpression(m,C))}else if(this.match("(")){var T=d&&l.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var w=T?this.parseAsyncArguments():this.parseArguments();if(m=this.finalize(this.startNode(l),new o.CallExpression(m,w)),T&&this.match("=>")){for(var k=0;k<w.length;++k)this.reinterpretExpressionAsPattern(w[k]);m={type:f,params:w,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var C=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),m=this.finalize(this.startNode(l),new o.ComputedMemberExpression(m,C))}else if(this.lookahead.type===10&&this.lookahead.head){var A=this.parseTemplateLiteral();m=this.finalize(this.startNode(l),new o.TaggedTemplateExpression(m,A))}else break;return this.context.allowIn=h,m},p.prototype.parseSuper=function(){var l=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(l,new o.Super)},p.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var l=this.startNode(this.lookahead),d=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var h=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),d=this.finalize(l,new o.ComputedMemberExpression(d,h))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var h=this.parseIdentifierName();d=this.finalize(l,new o.StaticMemberExpression(d,h))}else if(this.lookahead.type===10&&this.lookahead.head){var m=this.parseTemplateLiteral();d=this.finalize(l,new o.TaggedTemplateExpression(d,m))}else break;return d},p.prototype.parseUpdateExpression=function(){var l,d=this.lookahead;if(this.match("++")||this.match("--")){var h=this.startNode(d),m=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&l.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var C=!0;l=this.finalize(h,new o.UpdateExpression(m.value,l,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(l=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&l.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var T=this.nextToken().value,C=!1;l=this.finalize(this.startNode(d),new o.UpdateExpression(T,l,C))}return l},p.prototype.parseAwaitExpression=function(){var l=this.createNode();this.nextToken();var d=this.parseUnaryExpression();return this.finalize(l,new o.AwaitExpression(d))},p.prototype.parseUnaryExpression=function(){var l;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var d=this.startNode(this.lookahead),h=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),l=this.finalize(d,new o.UnaryExpression(h.value,l)),this.context.strict&&l.operator==="delete"&&l.argument.type===c.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?l=this.parseAwaitExpression():l=this.parseUpdateExpression();return l},p.prototype.parseExponentiationExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseUnaryExpression);if(d.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var h=d,m=this.isolateCoverGrammar(this.parseExponentiationExpression);d=this.finalize(this.startNode(l),new o.BinaryExpression("**",h,m))}return d},p.prototype.binaryPrecedence=function(l){var d=l.value,h;return l.type===7?h=this.operatorPrecedence[d]||0:l.type===4?h=d==="instanceof"||this.context.allowIn&&d==="in"?7:0:h=0,h},p.prototype.parseBinaryExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseExponentiationExpression),h=this.lookahead,m=this.binaryPrecedence(h);if(m>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var C=[l,this.lookahead],T=d,w=this.isolateCoverGrammar(this.parseExponentiationExpression),k=[T,h.value,w],A=[m];m=this.binaryPrecedence(this.lookahead),!(m<=0);){for(;k.length>2&&m<=A[A.length-1];){w=k.pop();var B=k.pop();A.pop(),T=k.pop(),C.pop();var W=this.startNode(C[C.length-1]);k.push(this.finalize(W,new o.BinaryExpression(B,T,w)))}k.push(this.nextToken().value),A.push(m),C.push(this.lookahead),k.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var U=k.length-1;d=k[U];for(var ie=C.pop();U>1;){var ne=C.pop(),$=ie&&ie.lineStart,W=this.startNode(ne,$),B=k[U-1];d=this.finalize(W,new o.BinaryExpression(B,k[U-2],d)),U-=2,ie=ne}}return d},p.prototype.parseConditionalExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var h=this.context.allowIn;this.context.allowIn=!0;var m=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=h,this.expect(":");var C=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(l),new o.ConditionalExpression(d,m,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return d},p.prototype.checkPatternParam=function(l,d){switch(d.type){case c.Syntax.Identifier:this.validateParam(l,d,d.name);break;case c.Syntax.RestElement:this.checkPatternParam(l,d.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(l,d.left);break;case c.Syntax.ArrayPattern:for(var h=0;h<d.elements.length;h++)d.elements[h]!==null&&this.checkPatternParam(l,d.elements[h]);break;case c.Syntax.ObjectPattern:for(var h=0;h<d.properties.length;h++)this.checkPatternParam(l,d.properties[h].value);break;default:break}l.simple=l.simple&&d instanceof o.Identifier},p.prototype.reinterpretAsCoverFormalsList=function(l){var d=[l],h,m=!1;switch(l.type){case c.Syntax.Identifier:break;case f:d=l.params,m=l.async;break;default:return null}h={simple:!0,paramSet:{}};for(var C=0;C<d.length;++C){var T=d[C];T.type===c.Syntax.AssignmentPattern?T.right.type===c.Syntax.YieldExpression&&(T.right.argument&&this.throwUnexpectedToken(this.lookahead),T.right.type=c.Syntax.Identifier,T.right.name="yield",delete T.right.argument,delete T.right.delegate):m&&T.type===c.Syntax.Identifier&&T.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(h,T),d[C]=T}if(this.context.strict||!this.context.allowYield)for(var C=0;C<d.length;++C){var T=d[C];T.type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(h.message===s.Messages.StrictParamDupe){var w=this.context.strict?h.stricted:h.firstRestricted;this.throwUnexpectedToken(w,h.message)}return{simple:h.simple,params:d,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}},p.prototype.parseAssignmentExpression=function(){var l;if(!this.context.allowYield&&this.matchKeyword("yield"))l=this.parseYieldExpression();else{var d=this.lookahead,h=d;if(l=this.parseConditionalExpression(),h.type===3&&h.lineNumber===this.lookahead.lineNumber&&h.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var m=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(m),l={type:f,params:[m],async:!0}}if(l.type===f||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=l.async,T=this.reinterpretAsCoverFormalsList(l);if(T){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var w=this.context.strict,k=this.context.allowStrictDirective;this.context.allowStrictDirective=T.simple;var A=this.context.allowYield,B=this.context.await;this.context.allowYield=!0,this.context.await=C;var W=this.startNode(d);this.expect("=>");var U=void 0;if(this.match("{")){var ie=this.context.allowIn;this.context.allowIn=!0,U=this.parseFunctionSourceElements(),this.context.allowIn=ie}else U=this.isolateCoverGrammar(this.parseAssignmentExpression);var ne=U.type!==c.Syntax.BlockStatement;this.context.strict&&T.firstRestricted&&this.throwUnexpectedToken(T.firstRestricted,T.message),this.context.strict&&T.stricted&&this.tolerateUnexpectedToken(T.stricted,T.message),l=C?this.finalize(W,new o.AsyncArrowFunctionExpression(T.params,U,ne)):this.finalize(W,new o.ArrowFunctionExpression(T.params,U,ne)),this.context.strict=w,this.context.allowStrictDirective=k,this.context.allowYield=A,this.context.await=B}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&l.type===c.Syntax.Identifier){var $=l;this.scanner.isRestrictedWord($.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord($.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(l):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),h=this.nextToken();var N=h.value,H=this.isolateCoverGrammar(this.parseAssignmentExpression);l=this.finalize(this.startNode(d),new o.AssignmentExpression(N,l,H)),this.context.firstCoverInitializedNameError=null}}return l},p.prototype.parseExpression=function(){var l=this.lookahead,d=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var h=[];for(h.push(d);this.lookahead.type!==2&&this.match(",");)this.nextToken(),h.push(this.isolateCoverGrammar(this.parseAssignmentExpression));d=this.finalize(this.startNode(l),new o.SequenceExpression(h))}return d},p.prototype.parseStatementListItem=function(){var l;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),l=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),l=this.parseImportDeclaration();break;case"const":l=this.parseLexicalDeclaration({inFor:!1});break;case"function":l=this.parseFunctionDeclaration();break;case"class":l=this.parseClassDeclaration();break;case"let":l=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:l=this.parseStatement();break}else l=this.parseStatement();return l},p.prototype.parseBlock=function(){var l=this.createNode();this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.finalize(l,new o.BlockStatement(d))},p.prototype.parseLexicalBinding=function(l,d){var h=this.createNode(),m=[],C=this.parsePattern(m,l);this.context.strict&&C.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(C.name)&&this.tolerateError(s.Messages.StrictVarName);var T=null;return l==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),T=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!d.inFor&&C.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),T=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(h,new o.VariableDeclarator(C,T))},p.prototype.parseBindingList=function(l,d){for(var h=[this.parseLexicalBinding(l,d)];this.match(",");)this.nextToken(),h.push(this.parseLexicalBinding(l,d));return h},p.prototype.isLexicalDeclaration=function(){var l=this.scanner.saveState();this.scanner.scanComments();var d=this.scanner.lex();return this.scanner.restoreState(l),d.type===3||d.type===7&&d.value==="["||d.type===7&&d.value==="{"||d.type===4&&d.value==="let"||d.type===4&&d.value==="yield"},p.prototype.parseLexicalDeclaration=function(l){var d=this.createNode(),h=this.nextToken().value;i.assert(h==="let"||h==="const","Lexical declaration must be either let or const");var m=this.parseBindingList(h,l);return this.consumeSemicolon(),this.finalize(d,new o.VariableDeclaration(m,h))},p.prototype.parseBindingRestElement=function(l,d){var h=this.createNode();this.expect("...");var m=this.parsePattern(l,d);return this.finalize(h,new o.RestElement(m))},p.prototype.parseArrayPattern=function(l,d){var h=this.createNode();this.expect("[");for(var m=[];!this.match("]");)if(this.match(","))this.nextToken(),m.push(null);else{if(this.match("...")){m.push(this.parseBindingRestElement(l,d));break}else m.push(this.parsePatternWithDefault(l,d));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(h,new o.ArrayPattern(m))},p.prototype.parsePropertyPattern=function(l,d){var h=this.createNode(),m=!1,C=!1,T=!1,w,k;if(this.lookahead.type===3){var A=this.lookahead;w=this.parseVariableIdentifier();var B=this.finalize(h,new o.Identifier(A.value));if(this.match("=")){l.push(A),C=!0,this.nextToken();var W=this.parseAssignmentExpression();k=this.finalize(this.startNode(A),new o.AssignmentPattern(B,W))}else this.match(":")?(this.expect(":"),k=this.parsePatternWithDefault(l,d)):(l.push(A),C=!0,k=B)}else m=this.match("["),w=this.parseObjectPropertyKey(),this.expect(":"),k=this.parsePatternWithDefault(l,d);return this.finalize(h,new o.Property("init",w,m,k,T,C))},p.prototype.parseObjectPattern=function(l,d){var h=this.createNode(),m=[];for(this.expect("{");!this.match("}");)m.push(this.parsePropertyPattern(l,d)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(h,new o.ObjectPattern(m))},p.prototype.parsePattern=function(l,d){var h;return this.match("[")?h=this.parseArrayPattern(l,d):this.match("{")?h=this.parseObjectPattern(l,d):(this.matchKeyword("let")&&(d==="const"||d==="let")&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),l.push(this.lookahead),h=this.parseVariableIdentifier(d)),h},p.prototype.parsePatternWithDefault=function(l,d){var h=this.lookahead,m=this.parsePattern(l,d);if(this.match("=")){this.nextToken();var C=this.context.allowYield;this.context.allowYield=!0;var T=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=C,m=this.finalize(this.startNode(h),new o.AssignmentPattern(m,T))}return m},p.prototype.parseVariableIdentifier=function(l){var d=this.createNode(),h=this.nextToken();return h.type===4&&h.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(h):h.type!==3?this.context.strict&&h.type===4&&this.scanner.isStrictModeReservedWord(h.value)?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):(this.context.strict||h.value!=="let"||l!=="var")&&this.throwUnexpectedToken(h):(this.context.isModule||this.context.await)&&h.type===3&&h.value==="await"&&this.tolerateUnexpectedToken(h),this.finalize(d,new o.Identifier(h.value))},p.prototype.parseVariableDeclaration=function(l){var d=this.createNode(),h=[],m=this.parsePattern(h,"var");this.context.strict&&m.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(m.name)&&this.tolerateError(s.Messages.StrictVarName);var C=null;return this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):m.type!==c.Syntax.Identifier&&!l.inFor&&this.expect("="),this.finalize(d,new o.VariableDeclarator(m,C))},p.prototype.parseVariableDeclarationList=function(l){var d={inFor:l.inFor},h=[];for(h.push(this.parseVariableDeclaration(d));this.match(",");)this.nextToken(),h.push(this.parseVariableDeclaration(d));return h},p.prototype.parseVariableStatement=function(){var l=this.createNode();this.expectKeyword("var");var d=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(l,new o.VariableDeclaration(d,"var"))},p.prototype.parseEmptyStatement=function(){var l=this.createNode();return this.expect(";"),this.finalize(l,new o.EmptyStatement)},p.prototype.parseExpressionStatement=function(){var l=this.createNode(),d=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new o.ExpressionStatement(d))},p.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},p.prototype.parseIfStatement=function(){var l=this.createNode(),d,h=null;this.expectKeyword("if"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),d=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),h=this.parseIfClause())),this.finalize(l,new o.IfStatement(m,d,h))},p.prototype.parseDoWhileStatement=function(){var l=this.createNode();this.expectKeyword("do");var d=this.context.inIteration;this.context.inIteration=!0;var h=this.parseStatement();this.context.inIteration=d,this.expectKeyword("while"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(l,new o.DoWhileStatement(h,m))},p.prototype.parseWhileStatement=function(){var l=this.createNode(),d;this.expectKeyword("while"),this.expect("(");var h=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var m=this.context.inIteration;this.context.inIteration=!0,d=this.parseStatement(),this.context.inIteration=m}return this.finalize(l,new o.WhileStatement(h,d))},p.prototype.parseForStatement=function(){var l=null,d=null,h=null,m=!0,C,T,w=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){l=this.createNode(),this.nextToken();var k=this.context.allowIn;this.context.allowIn=!1;var A=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=k,A.length===1&&this.matchKeyword("in")){var B=A[0];B.init&&(B.id.type===c.Syntax.ArrayPattern||B.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),l=this.finalize(l,new o.VariableDeclaration(A,"var")),this.nextToken(),C=l,T=this.parseExpression(),l=null}else A.length===1&&A[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new o.VariableDeclaration(A,"var")),this.nextToken(),C=l,T=this.parseAssignmentExpression(),l=null,m=!1):(l=this.finalize(l,new o.VariableDeclaration(A,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){l=this.createNode();var W=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")l=this.finalize(l,new o.Identifier(W)),this.nextToken(),C=l,T=this.parseExpression(),l=null;else{var k=this.context.allowIn;this.context.allowIn=!1;var A=this.parseBindingList(W,{inFor:!0});this.context.allowIn=k,A.length===1&&A[0].init===null&&this.matchKeyword("in")?(l=this.finalize(l,new o.VariableDeclaration(A,W)),this.nextToken(),C=l,T=this.parseExpression(),l=null):A.length===1&&A[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new o.VariableDeclaration(A,W)),this.nextToken(),C=l,T=this.parseAssignmentExpression(),l=null,m=!1):(this.consumeSemicolon(),l=this.finalize(l,new o.VariableDeclaration(A,W)))}}else{var U=this.lookahead,k=this.context.allowIn;if(this.context.allowIn=!1,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=k,this.matchKeyword("in"))(!this.context.isAssignmentTarget||l.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(l),C=l,T=this.parseExpression(),l=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||l.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(l),C=l,T=this.parseAssignmentExpression(),l=null,m=!1;else{if(this.match(",")){for(var ie=[l];this.match(",");)this.nextToken(),ie.push(this.isolateCoverGrammar(this.parseAssignmentExpression));l=this.finalize(this.startNode(U),new o.SequenceExpression(ie))}this.expect(";")}}typeof C>"u"&&(this.match(";")||(d=this.parseExpression()),this.expect(";"),this.match(")")||(h=this.parseExpression()));var ne;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ne=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var $=this.context.inIteration;this.context.inIteration=!0,ne=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=$}return typeof C>"u"?this.finalize(w,new o.ForStatement(l,d,h,ne)):m?this.finalize(w,new o.ForInStatement(C,T,ne)):this.finalize(w,new o.ForOfStatement(C,T,ne))},p.prototype.parseContinueStatement=function(){var l=this.createNode();this.expectKeyword("continue");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier();d=h;var m="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,h.name)}return this.consumeSemicolon(),d===null&&!this.context.inIteration&&this.throwError(s.Messages.IllegalContinue),this.finalize(l,new o.ContinueStatement(d))},p.prototype.parseBreakStatement=function(){var l=this.createNode();this.expectKeyword("break");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier(),m="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,h.name),d=h}return this.consumeSemicolon(),d===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(s.Messages.IllegalBreak),this.finalize(l,new o.BreakStatement(d))},p.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var l=this.createNode();this.expectKeyword("return");var d=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,h=d?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(l,new o.ReturnStatement(h))},p.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var l=this.createNode(),d;this.expectKeyword("with"),this.expect("(");var h=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),d=this.parseStatement()),this.finalize(l,new o.WithStatement(h,d))},p.prototype.parseSwitchCase=function(){var l=this.createNode(),d;this.matchKeyword("default")?(this.nextToken(),d=null):(this.expectKeyword("case"),d=this.parseExpression()),this.expect(":");for(var h=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)h.push(this.parseStatementListItem());return this.finalize(l,new o.SwitchCase(d,h))},p.prototype.parseSwitchStatement=function(){var l=this.createNode();this.expectKeyword("switch"),this.expect("(");var d=this.parseExpression();this.expect(")");var h=this.context.inSwitch;this.context.inSwitch=!0;var m=[],C=!1;for(this.expect("{");!this.match("}");){var T=this.parseSwitchCase();T.test===null&&(C&&this.throwError(s.Messages.MultipleDefaultsInSwitch),C=!0),m.push(T)}return this.expect("}"),this.context.inSwitch=h,this.finalize(l,new o.SwitchStatement(d,m))},p.prototype.parseLabelledStatement=function(){var l=this.createNode(),d=this.parseExpression(),h;if(d.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var m=d,C="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)&&this.throwError(s.Messages.Redeclaration,"Label",m.name),this.context.labelSet[C]=!0;var T=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),T=this.parseClassDeclaration();else if(this.matchKeyword("function")){var w=this.lookahead,k=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(w,s.Messages.StrictFunction):k.generator&&this.tolerateUnexpectedToken(w,s.Messages.GeneratorInLegacyContext),T=k}else T=this.parseStatement();delete this.context.labelSet[C],h=new o.LabeledStatement(m,T)}else this.consumeSemicolon(),h=new o.ExpressionStatement(d);return this.finalize(l,h)},p.prototype.parseThrowStatement=function(){var l=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var d=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new o.ThrowStatement(d))},p.prototype.parseCatchClause=function(){var l=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var d=[],h=this.parsePattern(d),m={},C=0;C<d.length;C++){var T="$"+d[C].value;Object.prototype.hasOwnProperty.call(m,T)&&this.tolerateError(s.Messages.DuplicateBinding,d[C].value),m[T]=!0}this.context.strict&&h.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(h.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var w=this.parseBlock();return this.finalize(l,new o.CatchClause(h,w))},p.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},p.prototype.parseTryStatement=function(){var l=this.createNode();this.expectKeyword("try");var d=this.parseBlock(),h=this.matchKeyword("catch")?this.parseCatchClause():null,m=this.matchKeyword("finally")?this.parseFinallyClause():null;return!h&&!m&&this.throwError(s.Messages.NoCatchOrFinally),this.finalize(l,new o.TryStatement(d,h,m))},p.prototype.parseDebuggerStatement=function(){var l=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(l,new o.DebuggerStatement)},p.prototype.parseStatement=function(){var l;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:l=this.parseExpressionStatement();break;case 7:var d=this.lookahead.value;d==="{"?l=this.parseBlock():d==="("?l=this.parseExpressionStatement():d===";"?l=this.parseEmptyStatement():l=this.parseExpressionStatement();break;case 3:l=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":l=this.parseBreakStatement();break;case"continue":l=this.parseContinueStatement();break;case"debugger":l=this.parseDebuggerStatement();break;case"do":l=this.parseDoWhileStatement();break;case"for":l=this.parseForStatement();break;case"function":l=this.parseFunctionDeclaration();break;case"if":l=this.parseIfStatement();break;case"return":l=this.parseReturnStatement();break;case"switch":l=this.parseSwitchStatement();break;case"throw":l=this.parseThrowStatement();break;case"try":l=this.parseTryStatement();break;case"var":l=this.parseVariableStatement();break;case"while":l=this.parseWhileStatement();break;case"with":l=this.parseWithStatement();break;default:l=this.parseExpressionStatement();break}break;default:l=this.throwUnexpectedToken(this.lookahead)}return l},p.prototype.parseFunctionSourceElements=function(){var l=this.createNode();this.expect("{");var d=this.parseDirectivePrologues(),h=this.context.labelSet,m=this.context.inIteration,C=this.context.inSwitch,T=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=h,this.context.inIteration=m,this.context.inSwitch=C,this.context.inFunctionBody=T,this.finalize(l,new o.BlockStatement(d))},p.prototype.validateParam=function(l,d,h){var m="$"+h;this.context.strict?(this.scanner.isRestrictedWord(h)&&(l.stricted=d,l.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(l.paramSet,m)&&(l.stricted=d,l.message=s.Messages.StrictParamDupe)):l.firstRestricted||(this.scanner.isRestrictedWord(h)?(l.firstRestricted=d,l.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(h)?(l.firstRestricted=d,l.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(l.paramSet,m)&&(l.stricted=d,l.message=s.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(l.paramSet,m,{value:!0,enumerable:!0,writable:!0,configurable:!0}):l.paramSet[m]=!0},p.prototype.parseRestElement=function(l){var d=this.createNode();this.expect("...");var h=this.parsePattern(l);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(d,new o.RestElement(h))},p.prototype.parseFormalParameter=function(l){for(var d=[],h=this.match("...")?this.parseRestElement(d):this.parsePatternWithDefault(d),m=0;m<d.length;m++)this.validateParam(l,d[m],d[m].value);l.simple=l.simple&&h instanceof o.Identifier,l.params.push(h)},p.prototype.parseFormalParameters=function(l){var d;if(d={simple:!0,params:[],firstRestricted:l},this.expect("("),!this.match(")"))for(d.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(d),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:d.simple,params:d.params,stricted:d.stricted,firstRestricted:d.firstRestricted,message:d.message}},p.prototype.matchAsyncFunction=function(){var l=this.matchContextualKeyword("async");if(l){var d=this.scanner.saveState();this.scanner.scanComments();var h=this.scanner.lex();this.scanner.restoreState(d),l=d.lineNumber===h.lineNumber&&h.type===4&&h.value==="function"}return l},p.prototype.parseFunctionDeclaration=function(l){var d=this.createNode(),h=this.matchContextualKeyword("async");h&&this.nextToken(),this.expectKeyword("function");var m=h?!1:this.match("*");m&&this.nextToken();var C,T=null,w=null;if(!l||!this.match("(")){var k=this.lookahead;T=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(k.value)&&this.tolerateUnexpectedToken(k,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(k.value)?(w=k,C=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(k.value)&&(w=k,C=s.Messages.StrictReservedWord)}var A=this.context.await,B=this.context.allowYield;this.context.await=h,this.context.allowYield=!m;var W=this.parseFormalParameters(w),U=W.params,ie=W.stricted;w=W.firstRestricted,W.message&&(C=W.message);var ne=this.context.strict,$=this.context.allowStrictDirective;this.context.allowStrictDirective=W.simple;var N=this.parseFunctionSourceElements();return this.context.strict&&w&&this.throwUnexpectedToken(w,C),this.context.strict&&ie&&this.tolerateUnexpectedToken(ie,C),this.context.strict=ne,this.context.allowStrictDirective=$,this.context.await=A,this.context.allowYield=B,h?this.finalize(d,new o.AsyncFunctionDeclaration(T,U,N)):this.finalize(d,new o.FunctionDeclaration(T,U,N,m))},p.prototype.parseFunctionExpression=function(){var l=this.createNode(),d=this.matchContextualKeyword("async");d&&this.nextToken(),this.expectKeyword("function");var h=d?!1:this.match("*");h&&this.nextToken();var m,C=null,T,w=this.context.await,k=this.context.allowYield;if(this.context.await=d,this.context.allowYield=!h,!this.match("(")){var A=this.lookahead;C=!this.context.strict&&!h&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(A.value)&&this.tolerateUnexpectedToken(A,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(A.value)?(T=A,m=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(A.value)&&(T=A,m=s.Messages.StrictReservedWord)}var B=this.parseFormalParameters(T),W=B.params,U=B.stricted;T=B.firstRestricted,B.message&&(m=B.message);var ie=this.context.strict,ne=this.context.allowStrictDirective;this.context.allowStrictDirective=B.simple;var $=this.parseFunctionSourceElements();return this.context.strict&&T&&this.throwUnexpectedToken(T,m),this.context.strict&&U&&this.tolerateUnexpectedToken(U,m),this.context.strict=ie,this.context.allowStrictDirective=ne,this.context.await=w,this.context.allowYield=k,d?this.finalize(l,new o.AsyncFunctionExpression(C,W,$)):this.finalize(l,new o.FunctionExpression(C,W,$,h))},p.prototype.parseDirective=function(){var l=this.lookahead,d=this.createNode(),h=this.parseExpression(),m=h.type===c.Syntax.Literal?this.getTokenRaw(l).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(d,m?new o.Directive(h,m):new o.ExpressionStatement(h))},p.prototype.parseDirectivePrologues=function(){for(var l=null,d=[];;){var h=this.lookahead;if(h.type!==8)break;var m=this.parseDirective();d.push(m);var C=m.directive;if(typeof C!="string")break;C==="use strict"?(this.context.strict=!0,l&&this.tolerateUnexpectedToken(l,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(h,s.Messages.IllegalLanguageModeDirective)):!l&&h.octal&&(l=h)}return d},p.prototype.qualifiedPropertyName=function(l){switch(l.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return l.value==="[";default:break}return!1},p.prototype.parseGetterMethod=function(){var l=this.createNode(),d=!1,h=this.context.allowYield;this.context.allowYield=!d;var m=this.parseFormalParameters();m.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.parseSetterMethod=function(){var l=this.createNode(),d=!1,h=this.context.allowYield;this.context.allowYield=!d;var m=this.parseFormalParameters();m.params.length!==1?this.tolerateError(s.Messages.BadSetterArity):m.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.parseGeneratorMethod=function(){var l=this.createNode(),d=!0,h=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters();this.context.allowYield=!1;var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.isStartOfExpression=function(){var l=!0,d=this.lookahead.value;switch(this.lookahead.type){case 7:l=d==="["||d==="("||d==="{"||d==="+"||d==="-"||d==="!"||d==="~"||d==="++"||d==="--"||d==="/"||d==="/=";break;case 4:l=d==="class"||d==="delete"||d==="function"||d==="let"||d==="new"||d==="super"||d==="this"||d==="typeof"||d==="void"||d==="yield";break;default:break}return l},p.prototype.parseYieldExpression=function(){var l=this.createNode();this.expectKeyword("yield");var d=null,h=!1;if(!this.hasLineTerminator){var m=this.context.allowYield;this.context.allowYield=!1,h=this.match("*"),h?(this.nextToken(),d=this.parseAssignmentExpression()):this.isStartOfExpression()&&(d=this.parseAssignmentExpression()),this.context.allowYield=m}return this.finalize(l,new o.YieldExpression(d,h))},p.prototype.parseClassElement=function(l){var d=this.lookahead,h=this.createNode(),m="",C=null,T=null,w=!1,k=!1,A=!1,B=!1;if(this.match("*"))this.nextToken();else{w=this.match("["),C=this.parseObjectPropertyKey();var W=C;if(W.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(d=this.lookahead,A=!0,w=this.match("["),this.match("*")?this.nextToken():C=this.parseObjectPropertyKey()),d.type===3&&!this.hasLineTerminator&&d.value==="async"){var U=this.lookahead.value;U!==":"&&U!=="("&&U!=="*"&&(B=!0,d=this.lookahead,C=this.parseObjectPropertyKey(),d.type===3&&d.value==="constructor"&&this.tolerateUnexpectedToken(d,s.Messages.ConstructorIsAsync))}}var ie=this.qualifiedPropertyName(this.lookahead);return d.type===3?d.value==="get"&&ie?(m="get",w=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,T=this.parseGetterMethod()):d.value==="set"&&ie&&(m="set",w=this.match("["),C=this.parseObjectPropertyKey(),T=this.parseSetterMethod()):d.type===7&&d.value==="*"&&ie&&(m="init",w=this.match("["),C=this.parseObjectPropertyKey(),T=this.parseGeneratorMethod(),k=!0),!m&&C&&this.match("(")&&(m="init",T=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),k=!0),m||this.throwUnexpectedToken(this.lookahead),m==="init"&&(m="method"),w||(A&&this.isPropertyKey(C,"prototype")&&this.throwUnexpectedToken(d,s.Messages.StaticPrototype),!A&&this.isPropertyKey(C,"constructor")&&((m!=="method"||!k||T&&T.generator)&&this.throwUnexpectedToken(d,s.Messages.ConstructorSpecialMethod),l.value?this.throwUnexpectedToken(d,s.Messages.DuplicateConstructor):l.value=!0,m="constructor")),this.finalize(h,new o.MethodDefinition(C,w,T,m,A))},p.prototype.parseClassElementList=function(){var l=[],d={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():l.push(this.parseClassElement(d));return this.expect("}"),l},p.prototype.parseClassBody=function(){var l=this.createNode(),d=this.parseClassElementList();return this.finalize(l,new o.ClassBody(d))},p.prototype.parseClassDeclaration=function(l){var d=this.createNode(),h=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var m=l&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var T=this.parseClassBody();return this.context.strict=h,this.finalize(d,new o.ClassDeclaration(m,C,T))},p.prototype.parseClassExpression=function(){var l=this.createNode(),d=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var h=this.lookahead.type===3?this.parseVariableIdentifier():null,m=null;this.matchKeyword("extends")&&(this.nextToken(),m=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=d,this.finalize(l,new o.ClassExpression(h,m,C))},p.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var l=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(l,new o.Module(d))},p.prototype.parseScript=function(){for(var l=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(l,new o.Script(d))},p.prototype.parseModuleSpecifier=function(){var l=this.createNode();this.lookahead.type!==8&&this.throwError(s.Messages.InvalidModuleSpecifier);var d=this.nextToken(),h=this.getTokenRaw(d);return this.finalize(l,new o.Literal(d.value,h))},p.prototype.parseImportSpecifier=function(){var l=this.createNode(),d,h;return this.lookahead.type===3?(d=this.parseVariableIdentifier(),h=d,this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseVariableIdentifier())):(d=this.parseIdentifierName(),h=d,this.matchContextualKeyword("as")?(this.nextToken(),h=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(l,new o.ImportSpecifier(h,d))},p.prototype.parseNamedImports=function(){this.expect("{");for(var l=[];!this.match("}");)l.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),l},p.prototype.parseImportDefaultSpecifier=function(){var l=this.createNode(),d=this.parseIdentifierName();return this.finalize(l,new o.ImportDefaultSpecifier(d))},p.prototype.parseImportNamespaceSpecifier=function(){var l=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var d=this.parseIdentifierName();return this.finalize(l,new o.ImportNamespaceSpecifier(d))},p.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var l=this.createNode();this.expectKeyword("import");var d,h=[];if(this.lookahead.type===8)d=this.parseModuleSpecifier();else{if(this.match("{")?h=h.concat(this.parseNamedImports()):this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(h.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.match("{")?h=h.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken(),d=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(l,new o.ImportDeclaration(h,d))},p.prototype.parseExportSpecifier=function(){var l=this.createNode(),d=this.parseIdentifierName(),h=d;return this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseIdentifierName()),this.finalize(l,new o.ExportSpecifier(d,h))},p.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var l=this.createNode();this.expectKeyword("export");var d;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var h=this.parseFunctionDeclaration(!0);d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.matchKeyword("class")){var h=this.parseClassDeclaration(!0);d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.matchContextualKeyword("async")){var h=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);var h=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken();var C=this.parseModuleSpecifier();this.consumeSemicolon(),d=this.finalize(l,new o.ExportAllDeclaration(C))}else if(this.lookahead.type===4){var h=void 0;switch(this.lookahead.value){case"let":case"const":h=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":h=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}d=this.finalize(l,new o.ExportNamedDeclaration(h,[],null))}else if(this.matchAsyncFunction()){var h=this.parseFunctionDeclaration();d=this.finalize(l,new o.ExportNamedDeclaration(h,[],null))}else{var T=[],w=null,k=!1;for(this.expect("{");!this.match("}");)k=k||this.matchKeyword("default"),T.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),w=this.parseModuleSpecifier(),this.consumeSemicolon();else if(k){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}else this.consumeSemicolon();d=this.finalize(l,new o.ExportNamedDeclaration(null,T,w))}return d},p}();e.Parser=g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(i,r){if(!i)throw new Error("ASSERT: "+r)}e.assert=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function i(){this.errors=[],this.tolerant=!1}return i.prototype.recordError=function(r){this.errors.push(r)},i.prototype.tolerate=function(r){if(this.tolerant)this.recordError(r);else throw r},i.prototype.constructError=function(r,s){var o=new Error(r);try{throw o}catch(a){Object.create&&Object.defineProperty&&(o=Object.create(a),Object.defineProperty(o,"column",{value:s}))}return o},i.prototype.createError=function(r,s,o,a){var c="Line "+s+": "+a,u=this.constructError(c,o);return u.index=r,u.lineNumber=s,u.description=a,u},i.prototype.throwError=function(r,s,o,a){throw this.createError(r,s,o,a)},i.prototype.tolerateError=function(r,s,o,a){var c=this.createError(r,s,o,a);if(this.tolerant)this.recordError(c);else throw c},i}();e.ErrorHandler=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(4),s=n(11);function o(u){return"0123456789abcdef".indexOf(u.toLowerCase())}function a(u){return"01234567".indexOf(u)}var c=function(){function u(f,g){this.source=f,this.errorHandler=g,this.trackComment=!1,this.isModule=!1,this.length=f.length,this.index=0,this.lineNumber=f.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return u.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},u.prototype.restoreState=function(f){this.index=f.index,this.lineNumber=f.lineNumber,this.lineStart=f.lineStart},u.prototype.eof=function(){return this.index>=this.length},u.prototype.throwUnexpectedToken=function(f){return f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},u.prototype.tolerateUnexpectedToken=function(f){f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},u.prototype.skipSingleLineComment=function(f){var g=[],p,l;for(this.trackComment&&(g=[],p=this.index-f,l={start:{line:this.lineNumber,column:this.index-this.lineStart-f},end:{}});!this.eof();){var d=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(d)){if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart-1};var h={multiLine:!1,slice:[p+f,this.index-1],range:[p,this.index-1],loc:l};g.push(h)}return d===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g}}if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!1,slice:[p+f,this.index],range:[p,this.index],loc:l};g.push(h)}return g},u.prototype.skipMultiLineComment=function(){var f=[],g,p;for(this.trackComment&&(f=[],g=this.index-2,p={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var l=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(l))l===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(l===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var d={multiLine:!0,slice:[g+2,this.index-2],range:[g,this.index],loc:p};f.push(d)}return f}++this.index}else++this.index}if(this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var d={multiLine:!0,slice:[g+2,this.index],range:[g,this.index],loc:p};f.push(d)}return this.tolerateUnexpectedToken(),f},u.prototype.scanComments=function(){var f;this.trackComment&&(f=[]);for(var g=this.index===0;!this.eof();){var p=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(p))++this.index;else if(r.Character.isLineTerminator(p))++this.index,p===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g=!0;else if(p===47)if(p=this.source.charCodeAt(this.index+1),p===47){this.index+=2;var l=this.skipSingleLineComment(2);this.trackComment&&(f=f.concat(l)),g=!0}else if(p===42){this.index+=2;var l=this.skipMultiLineComment();this.trackComment&&(f=f.concat(l))}else break;else if(g&&p===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var l=this.skipSingleLineComment(3);this.trackComment&&(f=f.concat(l))}else break;else if(p===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var l=this.skipSingleLineComment(4);this.trackComment&&(f=f.concat(l))}else break;else break}return f},u.prototype.isFutureReservedWord=function(f){switch(f){case"enum":case"export":case"import":case"super":return!0;default:return!1}},u.prototype.isStrictModeReservedWord=function(f){switch(f){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},u.prototype.isRestrictedWord=function(f){return f==="eval"||f==="arguments"},u.prototype.isKeyword=function(f){switch(f.length){case 2:return f==="if"||f==="in"||f==="do";case 3:return f==="var"||f==="for"||f==="new"||f==="try"||f==="let";case 4:return f==="this"||f==="else"||f==="case"||f==="void"||f==="with"||f==="enum";case 5:return f==="while"||f==="break"||f==="catch"||f==="throw"||f==="const"||f==="yield"||f==="class"||f==="super";case 6:return f==="return"||f==="typeof"||f==="delete"||f==="switch"||f==="export"||f==="import";case 7:return f==="default"||f==="finally"||f==="extends";case 8:return f==="function"||f==="continue"||f==="debugger";case 10:return f==="instanceof";default:return!1}},u.prototype.codePointAt=function(f){var g=this.source.charCodeAt(f);if(g>=55296&&g<=56319){var p=this.source.charCodeAt(f+1);if(p>=56320&&p<=57343){var l=g;g=(l-55296)*1024+p-56320+65536}}return g},u.prototype.scanHexEscape=function(f){for(var g=f==="u"?4:2,p=0,l=0;l<g;++l)if(!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index)))p=p*16+o(this.source[this.index++]);else return null;return String.fromCharCode(p)},u.prototype.scanUnicodeCodePointEscape=function(){var f=this.source[this.index],g=0;for(f==="}"&&this.throwUnexpectedToken();!this.eof()&&(f=this.source[this.index++],!!r.Character.isHexDigit(f.charCodeAt(0)));)g=g*16+o(f);return(g>1114111||f!=="}")&&this.throwUnexpectedToken(),r.Character.fromCodePoint(g)},u.prototype.getIdentifier=function(){for(var f=this.index++;!this.eof();){var g=this.source.charCodeAt(this.index);if(g===92)return this.index=f,this.getComplexIdentifier();if(g>=55296&&g<57343)return this.index=f,this.getComplexIdentifier();if(r.Character.isIdentifierPart(g))++this.index;else break}return this.source.slice(f,this.index)},u.prototype.getComplexIdentifier=function(){var f=this.codePointAt(this.index),g=r.Character.fromCodePoint(f);this.index+=g.length;var p;for(f===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!r.Character.isIdentifierStart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),g=p);!this.eof()&&(f=this.codePointAt(this.index),!!r.Character.isIdentifierPart(f));)p=r.Character.fromCodePoint(f),g+=p,this.index+=p.length,f===92&&(g=g.substr(0,g.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!r.Character.isIdentifierPart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),g+=p);return g},u.prototype.octalToDecimal=function(f){var g=f!=="0",p=a(f);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=!0,p=p*8+a(this.source[this.index++]),"0123".indexOf(f)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(p=p*8+a(this.source[this.index++]))),{code:p,octal:g}},u.prototype.scanIdentifier=function(){var f,g=this.index,p=this.source.charCodeAt(g)===92?this.getComplexIdentifier():this.getIdentifier();if(p.length===1?f=3:this.isKeyword(p)?f=4:p==="null"?f=5:p==="true"||p==="false"?f=1:f=3,f!==3&&g+p.length!==this.index){var l=this.index;this.index=g,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=l}return{type:f,value:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},u.prototype.scanPunctuator=function(){var f=this.index,g=this.source[this.index];switch(g){case"(":case"{":g==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,g="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:g=this.source.substr(this.index,4),g===">>>="?this.index+=4:(g=g.substr(0,3),g==="==="||g==="!=="||g===">>>"||g==="<<="||g===">>="||g==="**="?this.index+=3:(g=g.substr(0,2),g==="&&"||g==="||"||g==="=="||g==="!="||g==="+="||g==="-="||g==="*="||g==="/="||g==="++"||g==="--"||g==="<<"||g===">>"||g==="&="||g==="|="||g==="^="||g==="%="||g==="<="||g===">="||g==="=>"||g==="**"?this.index+=2:(g=this.source[this.index],"<>=!+-*%&|^/".indexOf(g)>=0&&++this.index)))}return this.index===f&&this.throwUnexpectedToken(),{type:7,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanHexLiteral=function(f){for(var g="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+g,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanBinaryLiteral=function(f){for(var g="",p;!this.eof()&&(p=this.source[this.index],!(p!=="0"&&p!=="1"));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),this.eof()||(p=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(p)||r.Character.isDecimalDigit(p))&&this.throwUnexpectedToken()),{type:6,value:parseInt(g,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanOctalLiteral=function(f,g){var p="",l=!1;for(r.Character.isOctalDigit(f.charCodeAt(0))?(l=!0,p="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];return!l&&p.length===0&&this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(p,8),octal:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},u.prototype.isImplicitOctalLiteral=function(){for(var f=this.index+1;f<this.length;++f){var g=this.source[f];if(g==="8"||g==="9")return!1;if(!r.Character.isOctalDigit(g.charCodeAt(0)))return!0}return!0},u.prototype.scanNumericLiteral=function(){var f=this.index,g=this.source[f];i.assert(r.Character.isDecimalDigit(g.charCodeAt(0))||g===".","Numeric literal must start with a decimal digit or a decimal point");var p="";if(g!=="."){if(p=this.source[this.index++],g=this.source[this.index],p==="0"){if(g==="x"||g==="X")return++this.index,this.scanHexLiteral(f);if(g==="b"||g==="B")return++this.index,this.scanBinaryLiteral(f);if(g==="o"||g==="O")return this.scanOctalLiteral(g,f);if(g&&r.Character.isOctalDigit(g.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(g,f)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];g=this.source[this.index]}if(g==="."){for(p+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];g=this.source[this.index]}if(g==="e"||g==="E")if(p+=this.source[this.index++],g=this.source[this.index],(g==="+"||g==="-")&&(p+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(p),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanStringLiteral=function(){var f=this.index,g=this.source[f];i.assert(g==="'"||g==='"',"String literal must starts with a quote"),++this.index;for(var p=!1,l="";!this.eof();){var d=this.source[this.index++];if(d===g){g="";break}else if(d==="\\")if(d=this.source[this.index++],!d||!r.Character.isLineTerminator(d.charCodeAt(0)))switch(d){case"u":if(this.source[this.index]==="{")++this.index,l+=this.scanUnicodeCodePointEscape();else{var h=this.scanHexEscape(d);h===null&&this.throwUnexpectedToken(),l+=h}break;case"x":var m=this.scanHexEscape(d);m===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),l+=m;break;case"n":l+=`
`;break;case"r":l+="\r";break;case"t":l+="	";break;case"b":l+="\b";break;case"f":l+="\f";break;case"v":l+="\v";break;case"8":case"9":l+=d,this.tolerateUnexpectedToken();break;default:if(d&&r.Character.isOctalDigit(d.charCodeAt(0))){var C=this.octalToDecimal(d);p=C.octal||p,l+=String.fromCharCode(C.code)}else l+=d;break}else++this.lineNumber,d==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(r.Character.isLineTerminator(d.charCodeAt(0)))break;l+=d}}return g!==""&&(this.index=f,this.throwUnexpectedToken()),{type:8,value:l,octal:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanTemplate=function(){var f="",g=!1,p=this.index,l=this.source[p]==="`",d=!1,h=2;for(++this.index;!this.eof();){var m=this.source[this.index++];if(m==="`"){h=1,d=!0,g=!0;break}else if(m==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,g=!0;break}f+=m}else if(m==="\\")if(m=this.source[this.index++],r.Character.isLineTerminator(m.charCodeAt(0)))++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(m){case"n":f+=`
`;break;case"r":f+="\r";break;case"t":f+="	";break;case"u":if(this.source[this.index]==="{")++this.index,f+=this.scanUnicodeCodePointEscape();else{var C=this.index,T=this.scanHexEscape(m);T!==null?f+=T:(this.index=C,f+=m)}break;case"x":var w=this.scanHexEscape(m);w===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),f+=w;break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\v";break;default:m==="0"?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),f+="\0"):r.Character.isOctalDigit(m.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):f+=m;break}else r.Character.isLineTerminator(m.charCodeAt(0))?(++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,f+=`
`):f+=m}return g||this.throwUnexpectedToken(),l||this.curlyStack.pop(),{type:10,value:this.source.slice(p+1,this.index-h),cooked:f,head:l,tail:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},u.prototype.testRegExp=function(f,g){var p="\uFFFF",l=f,d=this;g.indexOf("u")>=0&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(h,m,C){var T=parseInt(m||C,16);return T>1114111&&d.throwUnexpectedToken(s.Messages.InvalidRegExp),T<=65535?String.fromCharCode(T):p}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p));try{RegExp(l)}catch{this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(f,g)}catch{return null}},u.prototype.scanRegExpBody=function(){var f=this.source[this.index];i.assert(f==="/","Regular expression literal must start with a slash");for(var g=this.source[this.index++],p=!1,l=!1;!this.eof();)if(f=this.source[this.index++],g+=f,f==="\\")f=this.source[this.index++],r.Character.isLineTerminator(f.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g+=f;else if(r.Character.isLineTerminator(f.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(p)f==="]"&&(p=!1);else if(f==="/"){l=!0;break}else f==="["&&(p=!0);return l||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g.substr(1,g.length-2)},u.prototype.scanRegExpFlags=function(){for(var f="",g="";!this.eof();){var p=this.source[this.index];if(!r.Character.isIdentifierPart(p.charCodeAt(0)))break;if(++this.index,p==="\\"&&!this.eof())if(p=this.source[this.index],p==="u"){++this.index;var l=this.index,d=this.scanHexEscape("u");if(d!==null)for(g+=d,f+="\\u";l<this.index;++l)f+=this.source[l];else this.index=l,g+="u",f+="\\u";this.tolerateUnexpectedToken()}else f+="\\",this.tolerateUnexpectedToken();else g+=p,f+=p}return g},u.prototype.scanRegExp=function(){var f=this.index,g=this.scanRegExpBody(),p=this.scanRegExpFlags(),l=this.testRegExp(g,p);return{type:9,value:"",pattern:g,flags:p,regex:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var f=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(f)?this.scanIdentifier():f===40||f===41||f===59?this.scanPunctuator():f===39||f===34?this.scanStringLiteral():f===46?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(f)?this.scanNumericLiteral():f===96||f===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():f>=55296&&f<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},u}();e.Scanner=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(12),s=n(13),o=function(){function c(){this.values=[],this.curly=this.paren=-1}return c.prototype.beforeFunctionExpression=function(u){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(u)>=0},c.prototype.isRegexStart=function(){var u=this.values[this.values.length-1],f=u!==null;switch(u){case"this":case"]":f=!1;break;case")":var g=this.values[this.paren-1];f=g==="if"||g==="while"||g==="for"||g==="with";break;case"}":if(f=!1,this.values[this.curly-3]==="function"){var p=this.values[this.curly-4];f=p?!this.beforeFunctionExpression(p):!1}else if(this.values[this.curly-4]==="function"){var p=this.values[this.curly-5];f=p?!this.beforeFunctionExpression(p):!0}break;default:break}return f},c.prototype.push=function(u){u.type===7||u.type===4?(u.value==="{"?this.curly=this.values.length:u.value==="("&&(this.paren=this.values.length),this.values.push(u.value)):this.values.push(null)},c}(),a=function(){function c(u,f){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=f?typeof f.tolerant=="boolean"&&f.tolerant:!1,this.scanner=new r.Scanner(u,this.errorHandler),this.scanner.trackComment=f?typeof f.comment=="boolean"&&f.comment:!1,this.trackRange=f?typeof f.range=="boolean"&&f.range:!1,this.trackLoc=f?typeof f.loc=="boolean"&&f.loc:!1,this.buffer=[],this.reader=new o}return c.prototype.errors=function(){return this.errorHandler.errors},c.prototype.getNextToken=function(){if(this.buffer.length===0){var u=this.scanner.scanComments();if(this.scanner.trackComment)for(var f=0;f<u.length;++f){var g=u[f],p=this.scanner.source.slice(g.slice[0],g.slice[1]),l={type:g.multiLine?"BlockComment":"LineComment",value:p};this.trackRange&&(l.range=g.range),this.trackLoc&&(l.loc=g.loc),this.buffer.push(l)}if(!this.scanner.eof()){var d=void 0;this.trackLoc&&(d={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var h=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),m=h?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(m);var C={type:s.TokenName[m.type],value:this.scanner.source.slice(m.start,m.end)};if(this.trackRange&&(C.range=[m.start,m.end]),this.trackLoc&&(d.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},C.loc=d),m.type===9){var T=m.pattern,w=m.flags;C.regex={pattern:T,flags:w}}this.buffer.push(C)}}return this.buffer.shift()},c}();e.Tokenizer=a}])})});var Id=F(Tn=>{function oW(t){return Array.isArray?Array.isArray(t):Ad(t)==="[object Array]"}Tn.isArray=oW;function aW(t){return typeof t=="boolean"}Tn.isBoolean=aW;function cW(t){return t===null}Tn.isNull=cW;function uW(t){return t==null}Tn.isNullOrUndefined=uW;function lW(t){return typeof t=="number"}Tn.isNumber=lW;function dW(t){return typeof t=="string"}Tn.isString=dW;function fW(t){return typeof t=="symbol"}Tn.isSymbol=fW;function pW(t){return t===void 0}Tn.isUndefined=pW;function hW(t){return Ad(t)==="[object RegExp]"}Tn.isRegExp=hW;function gW(t){return typeof t=="object"&&t!==null}Tn.isObject=gW;function mW(t){return Ad(t)==="[object Date]"}Tn.isDate=mW;function yW(t){return Ad(t)==="[object Error]"||t instanceof Error}Tn.isError=yW;function CW(t){return typeof t=="function"}Tn.isFunction=CW;function vW(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Tn.isPrimitive=vW;Tn.isBuffer=require("buffer").Buffer.isBuffer;function Ad(t){return Object.prototype.toString.call(t)}});var Ok=F((qte,Lk)=>{var Pk=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],be,Rk=t=>t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9;function Ak(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(t===0||e===0)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}let r=Rk(t),s=Rk(e),o=0;return r<s?(t*=Pk[s-r-1],e/=10,o=-1):r>s&&(e*=Pk[r-s-1],t/=10,o=1),t===e?o:t<e?-1:1}let n=String(t),i=String(e);return n===i?0:n<i?-1:1}function SW(t){let e=0;for(;t>=32;)e|=t&1,t>>=1;return t+e}function Ik(t,e,n,i){let r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;_k(t,e,r),_k(be,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function _k(t,e,n){for(n--;e<n;){let i=t[e];t[e++]=t[n],t[n--]=i}}function Nk(t,e,n,i,r){for(i===e&&i++;i<n;i++){let s=t[i],o=be[i],a=e,c=i;for(;a<c;){let f=a+c>>>1;r(s,t[f])<0?c=f:a=f+1}let u=i-a;switch(u){case 3:t[a+3]=t[a+2],be[a+3]=be[a+2];case 2:t[a+2]=t[a+1],be[a+2]=be[a+1];case 1:t[a+1]=t[a],be[a+1]=be[a];break;default:for(;u>0;)t[a+u]=t[a+u-1],be[a+u]=be[a+u-1],u--}t[a]=s,be[a]=o}}function oy(t,e,n,i,r,s){let o=0,a=0,c=1;if(s(t,e[n+r])>0){for(a=i-r;c<a&&s(t,e[n+r+c])>0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=r,c+=r}else{for(a=r+1;c<a&&s(t,e[n+r-c])<=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let u=o;o=r-c,c=r-u}for(o++;o<c;){let u=o+(c-o>>>1);s(t,e[n+u])>0?o=u+1:c=u}return c}function ay(t,e,n,i,r,s){let o=0,a=0,c=1;if(s(t,e[n+r])<0){for(a=r+1;c<a&&s(t,e[n+r-c])<0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let u=o;o=r-c,c=r-u}else{for(a=i-r;c<a&&s(t,e[n+r+c])>=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=r,c+=r}for(o++;o<c;){let u=o+(c-o>>>1);s(t,e[n+u])<0?c=u:o=u+1}return c}var cy=class{constructor(e,n){this.array=e,this.compare=n;let{length:i}=e;this.length=i,this.minGallop=7,this.tmpStorageLength=i<2*256?i>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=i<120?5:i<1542?10:i<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(e,n){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=n,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let{compare:n}=this,{array:i}=this,r=this.runStart[e],s=this.runLength[e],o=this.runStart[e+1],a=this.runLength[e+1];this.runLength[e]=s+a,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let c=ay(i[o],i,r,s,0,n);r+=c,s-=c,s!==0&&(a=oy(i[r+s-1],i,o,a,a-1,n),a!==0&&(s<=a?this.mergeLow(r,s,o,a):this.mergeHigh(r,s,o,a)))}mergeLow(e,n,i,r){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,u=0;for(u=0;u<n;u++)a[u]=o[e+u],c[u]=be[e+u];let f=0,g=i,p=e;if(o[p]=o[g],be[p]=be[g],p++,g++,--r===0){for(u=0;u<n;u++)o[p+u]=a[f+u],be[p+u]=c[f+u];return}if(n===1){for(u=0;u<r;u++)o[p+u]=o[g+u],be[p+u]=be[g+u];o[p+r]=a[f],be[p+r]=c[f];return}let{minGallop:l}=this;for(;;){let d=0,h=0,m=!1;do if(s(o[g],a[f])<0){if(o[p]=o[g],be[p]=be[g],p++,g++,h++,d=0,--r===0){m=!0;break}}else if(o[p]=a[f],be[p]=c[f],p++,f++,d++,h=0,--n===1){m=!0;break}while((d|h)<l);if(m)break;do{if(d=ay(o[g],a,f,n,0,s),d!==0){for(u=0;u<d;u++)o[p+u]=a[f+u],be[p+u]=c[f+u];if(p+=d,f+=d,n-=d,n<=1){m=!0;break}}if(o[p]=o[g],be[p]=be[g],p++,g++,--r===0){m=!0;break}if(h=oy(a[f],o,g,r,0,s),h!==0){for(u=0;u<h;u++)o[p+u]=o[g+u],be[p+u]=be[g+u];if(p+=h,g+=h,r-=h,r===0){m=!0;break}}if(o[p]=a[f],be[p]=c[f],p++,f++,--n===1){m=!0;break}l--}while(d>=7||h>=7);if(m)break;l<0&&(l=0),l+=2}if(this.minGallop=l,l<1&&(this.minGallop=1),n===1){for(u=0;u<r;u++)o[p+u]=o[g+u],be[p+u]=be[g+u];o[p+r]=a[f],be[p+r]=c[f]}else{if(n===0)throw new Error("mergeLow preconditions were not respected");for(u=0;u<n;u++)o[p+u]=a[f+u],be[p+u]=c[f+u]}}mergeHigh(e,n,i,r){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,u=0;for(u=0;u<r;u++)a[u]=o[i+u],c[u]=be[i+u];let f=e+n-1,g=r-1,p=i+r-1,l=0,d=0;if(o[p]=o[f],be[p]=be[f],p--,f--,--n===0){for(l=p-(r-1),u=0;u<r;u++)o[l+u]=a[u],be[l+u]=c[u];return}if(r===1){for(p-=n,f-=n,d=p+1,l=f+1,u=n-1;u>=0;u--)o[d+u]=o[l+u],be[d+u]=be[l+u];o[p]=a[g],be[p]=c[g];return}let{minGallop:h}=this;for(;;){let m=0,C=0,T=!1;do if(s(a[g],o[f])<0){if(o[p]=o[f],be[p]=be[f],p--,f--,m++,C=0,--n===0){T=!0;break}}else if(o[p]=a[g],be[p]=c[g],p--,g--,C++,m=0,--r===1){T=!0;break}while((m|C)<h);if(T)break;do{if(m=n-ay(a[g],o,e,n,n-1,s),m!==0){for(p-=m,f-=m,n-=m,d=p+1,l=f+1,u=m-1;u>=0;u--)o[d+u]=o[l+u],be[d+u]=be[l+u];if(n===0){T=!0;break}}if(o[p]=a[g],be[p]=c[g],p--,g--,--r===1){T=!0;break}if(C=r-oy(o[f],a,0,r,r-1,s),C!==0){for(p-=C,g-=C,r-=C,d=p+1,l=g+1,u=0;u<C;u++)o[d+u]=a[l+u],be[d+u]=c[l+u];if(r<=1){T=!0;break}}if(o[p]=o[f],be[p]=be[f],p--,f--,--n===0){T=!0;break}h--}while(m>=7||C>=7);if(T)break;h<0&&(h=0),h+=2}if(this.minGallop=h,h<1&&(this.minGallop=1),r===1){for(p-=n,f-=n,d=p+1,l=f+1,u=n-1;u>=0;u--)o[d+u]=o[l+u],be[d+u]=be[l+u];o[p]=a[g],be[p]=c[g]}else{if(r===0)throw new Error("mergeHigh preconditions were not respected");for(l=p-(r-1),u=0;u<r;u++)o[l+u]=a[u],be[l+u]=c[u]}}};function bW(t,e,n,i){if(!Array.isArray(t))throw new TypeError(`The "array" argument must be an array. Received ${t}`);be=[];let{length:r}=t,s=0;for(;s<r;)be[s]=s++;e?typeof e!="function"&&(i=n,n=e,e=Ak):e=Ak,n||(n=0),i||(i=r);let o=i-n;if(o<2)return be;let a=0;if(o<32)return a=Ik(t,n,i,e),Nk(t,n,i,n+a,e),be;let c=new cy(t,e),u=SW(o);do{if(a=Ik(t,n,i,e),a<u){let f=o;f>u&&(f=u),Nk(t,n,n+f,n+a,e),a=f}c.pushRun(n,a),c.mergeRuns(),o-=a,n+=a}while(o!==0);return c.forceMergeRuns(),be}Lk.exports={sort:bW}});var qk=F((Ute,Mk)=>{"use strict";var DW=Object.prototype.hasOwnProperty;Mk.exports=(t,e)=>DW.call(t,e)});var tu=F((jte,Jk)=>{var dy=qk(),{isObject:Uk,isArray:TW,isString:wW,isNumber:xW}=Id(),fy="before",Bk="after-prop",Wk="after-colon",Kk="after-value",$k="after",Hk="before-all",Vk="after-all",EW="[",kW="]",FW="{",PW="}",RW=",",AW="",IW="-",py=[fy,Bk,Wk,Kk,$k],_W=[fy,Hk,Vk].map(Symbol.for),zk=":",jk=void 0,eu=(t,e)=>Symbol.for(t+zk+e),_d=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),ly=(t,e,n,i,r,s)=>{let o=eu(r,i);if(!dy(e,o))return;let a=n===i?o:eu(r,n);_d(t,a,e[o]),s&&delete e[o]},Gk=(t,e,n,i,r)=>{py.forEach(s=>{ly(t,e,n,i,s,r)})},NW=(t,e,n)=>{e!==n&&py.forEach(i=>{let r=eu(i,n);if(!dy(t,r)){ly(t,t,n,e,i,!0);return}let s=t[r];delete t[r],ly(t,t,n,e,i,!0),_d(t,eu(i,e),s)})},uy=(t,e)=>{_W.forEach(n=>{let i=e[n];i&&_d(t,n,i)})},LW=(t,e,n)=>(n.forEach(i=>{!wW(i)&&!xW(i)||dy(e,i)&&(t[i]=e[i],Gk(t,e,i,i))}),t);Jk.exports={SYMBOL_PREFIXES:py,PREFIX_BEFORE:fy,PREFIX_AFTER_PROP:Bk,PREFIX_AFTER_COLON:Wk,PREFIX_AFTER_VALUE:Kk,PREFIX_AFTER:$k,PREFIX_BEFORE_ALL:Hk,PREFIX_AFTER_ALL:Vk,BRACKET_OPEN:EW,BRACKET_CLOSE:kW,CURLY_BRACKET_OPEN:FW,CURLY_BRACKET_CLOSE:PW,COLON:zk,COMMA:RW,MINUS:IW,EMPTY:AW,UNDEFINED:jk,symbol:eu,define:_d,copy_comments:Gk,swap_comments:NW,assign_non_prop_comments:uy,assign(t,e,n){if(!Uk(t))throw new TypeError("Cannot convert undefined or null to object");if(!Uk(e))return t;if(n===jk)n=Object.keys(e),uy(t,e);else if(TW(n))n.length===0&&uy(t,e);else throw new TypeError("keys must be array or undefined");return LW(t,e,n)}}});var gy=F((Bte,eF)=>{var{isArray:OW}=Id(),{sort:MW}=Ok(),{SYMBOL_PREFIXES:qW,UNDEFINED:Xk,symbol:UW,copy_comments:jW,swap_comments:Zk}=tu(),BW=t=>{let{length:e}=t,n=0,i=e/2;for(;n<i;n++)Zk(t,n,e-n-1)},Yk=(t,e,n,i,r)=>{jW(t,e,n+i,n,r)},la=(t,e,n,i,r,s)=>{if(r>0){let a=i;for(;a-- >0;)Yk(t,e,n+a,r,s);return}let o=0;for(;o<i;){let a=o++;Yk(t,e,n+a,r,s)}},Qk=(t,e)=>{qW.forEach(n=>{let i=UW(n,e);delete t[i]})},WW=(t,e)=>{let n=e;for(;n in t;)n=t[n];return n},hy=class t extends Array{splice(...e){let{length:n}=this,i=super.splice(...e),[r,s,...o]=e;r<0&&(r+=n),arguments.length===1?s=n-r:s=Math.min(n-r,s);let{length:a}=o,c=a-s,u=r+s,f=n-u;return la(this,this,u,f,c,!0),i}slice(...e){let{length:n}=this,i=super.slice(...e);if(!i.length)return new t;let[r,s]=e;return s===Xk?s=n:s<0&&(s+=n),r<0?r+=n:r===Xk&&(r=0),la(i,this,r,s-r,-r),i}unshift(...e){let{length:n}=this,i=super.unshift(...e),{length:r}=e;return r>0&&la(this,this,0,n,r,!0),i}shift(){let e=super.shift(),{length:n}=this;return Qk(this,0),la(this,this,1,n,-1,!0),e}reverse(){return super.reverse(),BW(this),this}pop(){let e=super.pop();return Qk(this,this.length),e}concat(...e){let{length:n}=this,i=super.concat(...e);return e.length&&(la(i,this,0,this.length,0),e.forEach(r=>{let s=n;n+=OW(r)?r.length:1,r instanceof t&&la(i,r,0,r.length,s)})),i}sort(...e){let n=MW(this,...e.slice(0,1)),i=Object.create(null);return n.forEach((r,s)=>{if(r===s)return;let o=WW(i,r);o!==s&&(i[s]=o,Zk(this,s,o))}),this}};eF.exports={CommentArray:hy}});var yF=F((Wte,mF)=>{var KW=Fk(),{CommentArray:$W}=gy(),{PREFIX_BEFORE:Ld,PREFIX_AFTER_PROP:HW,PREFIX_AFTER_COLON:VW,PREFIX_AFTER_VALUE:rF,PREFIX_AFTER:yy,PREFIX_BEFORE_ALL:zW,PREFIX_AFTER_ALL:GW,BRACKET_OPEN:JW,BRACKET_CLOSE:tF,CURLY_BRACKET_OPEN:XW,CURLY_BRACKET_CLOSE:nF,COLON:sF,COMMA:oF,MINUS:iF,EMPTY:YW,UNDEFINED:qd,define:Cy,assign_non_prop_comments:QW}=tu(),aF=t=>KW.tokenize(t,{comment:!0,loc:!0}),vy=[],as=null,br=null,Sy=[],cs,cF=!1,uF=!1,nu=null,iu=null,wn=null,lF,Od=null,dF=()=>{Sy.length=vy.length=0,iu=null,cs=qd},ZW=()=>{dF(),nu.length=0,br=as=nu=iu=wn=Od=null},by=t=>Symbol.for(cs!==qd?t+sF+cs:t),Dy=(t,e)=>Od?Od(t,e):e,fF=()=>{let t=new SyntaxError(`Unexpected token ${wn.value.slice(0,1)}`);throw Object.assign(t,wn.loc.start),t},pF=()=>{let t=new SyntaxError("Unexpected end of JSON input");throw Object.assign(t,iu?iu.loc.end:{line:1,column:0}),t},Ni=()=>{let t=nu[++lF];uF=wn&&t&&wn.loc.end.line===t.loc.start.line||!1,iu=wn,wn=t},my=()=>(wn||pF(),wn.type==="Punctuator"?wn.value:wn.type),fo=t=>my()===t,Nd=t=>{fo(t)||fF()},Ty=t=>{vy.push(as),as=t},wy=()=>{as=vy.pop()},hF=()=>{if(!br)return;let t=[];for(let n of br)if(n.inline)t.push(n);else break;let{length:e}=t;e&&(e===br.length?br=null:br.splice(0,e),Cy(as,by(yy),t))},os=t=>{br&&(Cy(as,by(t),br),br=null)},Dr=t=>{let e=[];for(;wn&&(fo("LineComment")||fo("BlockComment"));){let n={...wn,inline:uF};e.push(n),Ni()}if(!cF&&e.length){if(t){Cy(as,by(t),e);return}br=e}},Md=(t,e)=>{e&&Sy.push(cs),cs=t},gF=()=>{cs=Sy.pop()},eK=()=>{let t={};Ty(t),Md(qd,!0);let e=!1,n;for(Dr();!fo(nF)&&!(e&&(os(rF),Nd(oF),Ni(),Dr(),hF(),fo(nF)));)e=!0,Nd("String"),n=JSON.parse(wn.value),Md(n),os(Ld),Ni(),Dr(HW),Nd(sF),Ni(),Dr(VW),t[n]=Dy(n,xy()),Dr();return e&&os(yy),Ni(),cs=void 0,e||os(Ld),wy(),gF(),t},tK=()=>{let t=new $W;Ty(t),Md(qd,!0);let e=!1,n=0;for(Dr();!fo(tF)&&!(e&&(os(rF),Nd(oF),Ni(),Dr(),hF(),fo(tF)));)e=!0,Md(n),os(Ld),t[n]=Dy(n,xy()),n++,Dr();return e&&os(yy),Ni(),cs=void 0,e||os(Ld),wy(),gF(),t};function xy(){let t=my();if(t===XW)return Ni(),eK();if(t===JW)return Ni(),tK();let e=YW;t===iF&&(Ni(),t=my(),e=iF);let n;switch(t){case"String":case"Boolean":case"Null":case"Numeric":return n=wn.value,Ni(),JSON.parse(e+n);default:}}var nK=t=>Object(t)===t,iK=(t,e,n)=>{dF(),nu=aF(t),Od=e,cF=n,nu.length||pF(),lF=-1,Ni(),Ty({}),Dr(zW);let i=xy();return Dr(GW),wn&&fF(),!n&&i!==null&&(nK(i)||(i=new Object(i)),QW(i,as)),wy(),i=Dy("",i),ZW(),i};mF.exports={parse:iK,tokenize:aF}});var vF=F((Kte,CF)=>{"use strict";var jr="",Ey;CF.exports=rK;function rK(t,e){if(typeof t!="string")throw new TypeError("expected a string");if(e===1)return t;if(e===2)return t+t;var n=t.length*e;if(Ey!==t||typeof Ey>"u")Ey=t,jr="";else if(jr.length>=n)return jr.substr(0,n);for(;n>jr.length&&e>1;)e&1&&(jr+=t),e>>=1,t+=t;return jr+=t,jr=jr.substr(0,n),jr}});var RF=F(($te,PF)=>{var{isArray:Py,isObject:SF,isFunction:Fy,isNumber:sK,isString:oK}=Id(),aK=vF(),{PREFIX_BEFORE_ALL:cK,PREFIX_BEFORE:bF,PREFIX_AFTER_PROP:uK,PREFIX_AFTER_COLON:lK,PREFIX_AFTER_VALUE:dK,PREFIX_AFTER:Ry,PREFIX_AFTER_ALL:fK,BRACKET_OPEN:pK,BRACKET_CLOSE:hK,CURLY_BRACKET_OPEN:gK,CURLY_BRACKET_CLOSE:mK,COLON:yK,COMMA:DF,EMPTY:yi,UNDEFINED:CK}=tu(),ky=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Ay=" ",po=`
`,TF="null",wF=t=>`${bF}:${t}`,vK=t=>`${uK}:${t}`,SK=t=>`${lK}:${t}`,xF=t=>`${dK}:${t}`,EF=t=>`${Ry}:${t}`,bK={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},DK=t=>(ky.lastIndex=0,ky.test(t)?t.replace(ky,e=>{let n=bK[e];return typeof n=="string"?n:e}):t),kF=t=>`"${DK(t)}"`,TK=(t,e)=>e?`//${t}`:`/*${t}*/`,mi=(t,e,n,i)=>{let r=t[Symbol.for(e)];if(!r||!r.length)return yi;let s=!1,o=r.reduce((a,{inline:c,type:u,value:f})=>{let g=c?Ay:po+n;return s=u==="LineComment",a+g+TK(f,s)},yi);return i||s?o+po+n:o},da=null,su=yi,wK=()=>{da=null,su=yi},ru=(t,e,n)=>t?e?t+e.trim()+po+n:t.trimRight()+po+n:e?e.trimRight()+po+n:yi,FF=(t,e,n)=>{let i=mi(e,bF,n+su,!0);return ru(i,t,n)},xK=(t,e)=>{let n=e+su,{length:i}=t,r=yi,s=yi;for(let o=0;o<i;o++){o!==0&&(r+=DF);let a=ru(s,mi(t,wF(o),n),n);r+=a||po+n,r+=Iy(o,t,n)||TF,r+=mi(t,xF(o),n),s=mi(t,EF(o),n)}return r+=ru(s,mi(t,Ry,n),n),pK+FF(r,t,e)+hK},EK=(t,e)=>{if(!t)return"null";let n=e+su,i=yi,r=yi,s=!0,o=Py(da)?da:Object.keys(t),a=c=>{let u=Iy(c,t,n);if(u===CK)return;s||(i+=DF),s=!1;let f=ru(r,mi(t,wF(c),n),n);i+=f||po+n,i+=kF(c)+mi(t,vK(c),n)+yK+mi(t,SK(c),n)+Ay+u+mi(t,xF(c),n),r=mi(t,EF(c),n)};return o.forEach(a),i+=ru(r,mi(t,Ry,n),n),gK+FF(i,t,e)+mK};function Iy(t,e,n){let i=e[t];switch(SF(i)&&Fy(i.toJSON)&&(i=i.toJSON(t)),Fy(da)&&(i=da.call(e,t,i)),typeof i){case"string":return kF(i);case"number":return Number.isFinite(i)?String(i):TF;case"boolean":case"null":return String(i);case"object":return Py(i)?xK(i,n):EK(i,n);default:}}var kK=t=>oK(t)?t:sK(t)?aK(Ay,t):yi,{toString:FK}=Object.prototype,PK=["[object Number]","[object String]","[object Boolean]"],RK=t=>{if(typeof t!="object")return!1;let e=FK.call(t);return PK.includes(e)};PF.exports=(t,e,n)=>{let i=kK(n);if(!i)return JSON.stringify(t,e);!Fy(e)&&!Py(e)&&(e=null),da=e,su=i;let r=RK(t)?JSON.stringify(t):Iy("",{"":t},yi);return wK(),SF(t)?mi(t,cK,yi).trimLeft()+r+mi(t,fK,yi).trimRight():r}});var IF=F((Hte,AF)=>{var{parse:AK,tokenize:IK}=yF(),_K=RF(),{CommentArray:NK}=gy(),{assign:LK}=tu();AF.exports={parse:AK,stringify:_K,tokenize:IK,CommentArray:NK,assign:LK}});var Ye=F(Sn=>{"use strict";var _y=Symbol.for("yaml.alias"),_F=Symbol.for("yaml.document"),Ud=Symbol.for("yaml.map"),NF=Symbol.for("yaml.pair"),Ny=Symbol.for("yaml.scalar"),jd=Symbol.for("yaml.seq"),Br=Symbol.for("yaml.node.type"),OK=t=>!!t&&typeof t=="object"&&t[Br]===_y,MK=t=>!!t&&typeof t=="object"&&t[Br]===_F,qK=t=>!!t&&typeof t=="object"&&t[Br]===Ud,UK=t=>!!t&&typeof t=="object"&&t[Br]===NF,LF=t=>!!t&&typeof t=="object"&&t[Br]===Ny,jK=t=>!!t&&typeof t=="object"&&t[Br]===jd;function OF(t){if(t&&typeof t=="object")switch(t[Br]){case Ud:case jd:return!0}return!1}function BK(t){if(t&&typeof t=="object")switch(t[Br]){case _y:case Ud:case Ny:case jd:return!0}return!1}var WK=t=>(LF(t)||OF(t))&&!!t.anchor;Sn.ALIAS=_y;Sn.DOC=_F;Sn.MAP=Ud;Sn.NODE_TYPE=Br;Sn.PAIR=NF;Sn.SCALAR=Ny;Sn.SEQ=jd;Sn.hasAnchor=WK;Sn.isAlias=OK;Sn.isCollection=OF;Sn.isDocument=MK;Sn.isMap=qK;Sn.isNode=BK;Sn.isPair=UK;Sn.isScalar=LF;Sn.isSeq=jK});var ou=F(Ly=>{"use strict";var sn=Ye(),ti=Symbol("break visit"),MF=Symbol("skip children"),Tr=Symbol("remove node");function Bd(t,e){let n=qF(e);sn.isDocument(t)?fa(null,t.contents,n,Object.freeze([t]))===Tr&&(t.contents=null):fa(null,t,n,Object.freeze([]))}Bd.BREAK=ti;Bd.SKIP=MF;Bd.REMOVE=Tr;function fa(t,e,n,i){let r=UF(t,e,n,i);if(sn.isNode(r)||sn.isPair(r))return jF(t,i,r),fa(t,r,n,i);if(typeof r!="symbol"){if(sn.isCollection(e)){i=Object.freeze(i.concat(e));for(let s=0;s<e.items.length;++s){let o=fa(s,e.items[s],n,i);if(typeof o=="number")s=o-1;else{if(o===ti)return ti;o===Tr&&(e.items.splice(s,1),s-=1)}}}else if(sn.isPair(e)){i=Object.freeze(i.concat(e));let s=fa("key",e.key,n,i);if(s===ti)return ti;s===Tr&&(e.key=null);let o=fa("value",e.value,n,i);if(o===ti)return ti;o===Tr&&(e.value=null)}}return r}async function Wd(t,e){let n=qF(e);sn.isDocument(t)?await pa(null,t.contents,n,Object.freeze([t]))===Tr&&(t.contents=null):await pa(null,t,n,Object.freeze([]))}Wd.BREAK=ti;Wd.SKIP=MF;Wd.REMOVE=Tr;async function pa(t,e,n,i){let r=await UF(t,e,n,i);if(sn.isNode(r)||sn.isPair(r))return jF(t,i,r),pa(t,r,n,i);if(typeof r!="symbol"){if(sn.isCollection(e)){i=Object.freeze(i.concat(e));for(let s=0;s<e.items.length;++s){let o=await pa(s,e.items[s],n,i);if(typeof o=="number")s=o-1;else{if(o===ti)return ti;o===Tr&&(e.items.splice(s,1),s-=1)}}}else if(sn.isPair(e)){i=Object.freeze(i.concat(e));let s=await pa("key",e.key,n,i);if(s===ti)return ti;s===Tr&&(e.key=null);let o=await pa("value",e.value,n,i);if(o===ti)return ti;o===Tr&&(e.value=null)}}return r}function qF(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function UF(t,e,n,i){if(typeof n=="function")return n(t,e,i);if(sn.isMap(e))return n.Map?.(t,e,i);if(sn.isSeq(e))return n.Seq?.(t,e,i);if(sn.isPair(e))return n.Pair?.(t,e,i);if(sn.isScalar(e))return n.Scalar?.(t,e,i);if(sn.isAlias(e))return n.Alias?.(t,e,i)}function jF(t,e,n){let i=e[e.length-1];if(sn.isCollection(i))i.items[t]=n;else if(sn.isPair(i))t==="key"?i.key=n:i.value=n;else if(sn.isDocument(i))i.contents=n;else{let r=sn.isAlias(i)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}Ly.visit=Bd;Ly.visitAsync=Wd});var Oy=F(WF=>{"use strict";var BF=Ye(),KK=ou(),$K={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},HK=t=>t.replace(/[!,[\]{}]/g,e=>$K[e]),au=class t{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,n)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let i=e.trim().split(/[ \t]+/),r=i.shift();switch(r){case"%TAG":{if(i.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),i.length<2))return!1;let[s,o]=i;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,i.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;let[s]=i;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}let[,i,r]=e.match(/^(.*!)([^!]*)$/s);r||n(`The ${e} tag has no suffix`);let s=this.tags[i];if(s)try{return s+decodeURIComponent(r)}catch(o){return n(String(o)),null}return i==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[n,i]of Object.entries(this.tags))if(e.startsWith(i))return n+HK(e.substring(i.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags),r;if(e&&i.length>0&&BF.isNode(e.contents)){let s={};KK.visit(e.contents,(o,a)=>{BF.isNode(a)&&a.tag&&(s[a.tag]=!0)}),r=Object.keys(s)}else r=[];for(let[s,o]of i)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}};au.defaultYaml={explicit:!1,version:"1.2"};au.defaultTags={"!!":"tag:yaml.org,2002:"};WF.Directives=au});var Kd=F(cu=>{"use strict";var KF=Ye(),VK=ou();function zK(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function $F(t){let e=new Set;return VK.visit(t,{Value(n,i){i.anchor&&e.add(i.anchor)}}),e}function HF(t,e){for(let n=1;;++n){let i=`${t}${n}`;if(!e.has(i))return i}}function GK(t,e){let n=[],i=new Map,r=null;return{onAnchor:s=>{n.push(s),r||(r=$F(t));let o=HF(e,r);return r.add(o),o},setAnchors:()=>{for(let s of n){let o=i.get(s);if(typeof o=="object"&&o.anchor&&(KF.isScalar(o.node)||KF.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:i}}cu.anchorIsValid=zK;cu.anchorNames=$F;cu.createNodeAnchors=GK;cu.findNewAnchor=HF});var My=F(VF=>{"use strict";function uu(t,e,n,i){if(i&&typeof i=="object")if(Array.isArray(i))for(let r=0,s=i.length;r<s;++r){let o=i[r],a=uu(t,i,String(r),o);a===void 0?delete i[r]:a!==o&&(i[r]=a)}else if(i instanceof Map)for(let r of Array.from(i.keys())){let s=i.get(r),o=uu(t,i,r,s);o===void 0?i.delete(r):o!==s&&i.set(r,o)}else if(i instanceof Set)for(let r of Array.from(i)){let s=uu(t,i,r,r);s===void 0?i.delete(r):s!==r&&(i.delete(r),i.add(s))}else for(let[r,s]of Object.entries(i)){let o=uu(t,i,r,s);o===void 0?delete i[r]:o!==s&&(i[r]=o)}return t.call(e,n,i)}VF.applyReviver=uu});var us=F(GF=>{"use strict";var JK=Ye();function zF(t,e,n){if(Array.isArray(t))return t.map((i,r)=>zF(i,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!JK.hasAnchor(t))return t.toJSON(e,n);let i={aliasCount:0,count:1,res:void 0};n.anchors.set(t,i),n.onCreate=s=>{i.res=s,delete n.onCreate};let r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!n?.keep?Number(t):t}GF.toJS=zF});var $d=F(XF=>{"use strict";var XK=My(),JF=Ye(),YK=us(),qy=class{constructor(e){Object.defineProperty(this,JF.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:i,onAnchor:r,reviver:s}={}){if(!JF.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},a=YK.toJS(this,"",o);if(typeof r=="function")for(let{count:c,res:u}of o.anchors.values())r(u,c);return typeof s=="function"?XK.applyReviver(s,{"":a},"",a):a}};XF.NodeBase=qy});var lu=F(QF=>{"use strict";var QK=Kd(),YF=ou(),Hd=Ye(),ZK=$d(),e$=us(),Uy=class extends ZK.NodeBase{constructor(e){super(Hd.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return YF.visit(e,{Node:(i,r)=>{if(r===this)return YF.visit.BREAK;r.anchor===this.source&&(n=r)}}),n}toJSON(e,n){if(!n)return{source:this.source};let{anchors:i,doc:r,maxAliasCount:s}=n,o=this.resolve(r);if(!o){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=i.get(o);if(a||(e$.toJS(o,null,n),a=i.get(o)),!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Vd(r,o,i)),a.count*a.aliasCount>s)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,n,i){let r=`*${this.source}`;if(e){if(QK.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${r} `}return r}};function Vd(t,e,n){if(Hd.isAlias(e)){let i=e.resolve(t),r=n&&i&&n.get(i);return r?r.count*r.aliasCount:0}else if(Hd.isCollection(e)){let i=0;for(let r of e.items){let s=Vd(t,r,n);s>i&&(i=s)}return i}else if(Hd.isPair(e)){let i=Vd(t,e.key,n),r=Vd(t,e.value,n);return Math.max(i,r)}return 1}QF.Alias=Uy});var Qt=F(jy=>{"use strict";var t$=Ye(),n$=$d(),i$=us(),r$=t=>!t||typeof t!="function"&&typeof t!="object",ls=class extends n$.NodeBase{constructor(e){super(t$.SCALAR),this.value=e}toJSON(e,n){return n?.keep?this.value:i$.toJS(this.value,e,n)}toString(){return String(this.value)}};ls.BLOCK_FOLDED="BLOCK_FOLDED";ls.BLOCK_LITERAL="BLOCK_LITERAL";ls.PLAIN="PLAIN";ls.QUOTE_DOUBLE="QUOTE_DOUBLE";ls.QUOTE_SINGLE="QUOTE_SINGLE";jy.Scalar=ls;jy.isScalarValue=r$});var du=F(eP=>{"use strict";var s$=lu(),ho=Ye(),ZF=Qt(),o$="tag:yaml.org,2002:";function a$(t,e,n){if(e){let i=n.filter(s=>s.tag===e),r=i.find(s=>!s.format)??i[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(i=>i.identify?.(t)&&!i.format)}function c$(t,e,n){if(ho.isDocument(t)&&(t=t.contents),ho.isNode(t))return t;if(ho.isPair(t)){let g=n.schema[ho.MAP].createNode?.(n.schema,null,n);return g.items.push(t),g}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:i,onAnchor:r,onTagObj:s,schema:o,sourceObjects:a}=n,c;if(i&&t&&typeof t=="object"){if(c=a.get(t),c)return c.anchor||(c.anchor=r(t)),new s$.Alias(c.anchor);c={anchor:null,node:null},a.set(t,c)}e?.startsWith("!!")&&(e=o$+e.slice(2));let u=a$(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let g=new ZF.Scalar(t);return c&&(c.node=g),g}u=t instanceof Map?o[ho.MAP]:Symbol.iterator in Object(t)?o[ho.SEQ]:o[ho.MAP]}s&&(s(u),delete n.onTagObj);let f=u?.createNode?u.createNode(n.schema,t,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,t,n):new ZF.Scalar(t);return e?f.tag=e:u.default||(f.tag=u.tag),c&&(c.node=f),f}eP.createNode=c$});var Gd=F(zd=>{"use strict";var u$=du(),wr=Ye(),l$=$d();function By(t,e,n){let i=n;for(let r=e.length-1;r>=0;--r){let s=e[r];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=i,i=o}else i=new Map([[s,i]])}return u$.createNode(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var tP=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,Wy=class extends l$.NodeBase{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(i=>wr.isNode(i)||wr.isPair(i)?i.clone(e):i),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(tP(e))this.add(n);else{let[i,...r]=e,s=this.get(i,!0);if(wr.isCollection(s))s.addIn(r,n);else if(s===void 0&&this.schema)this.set(i,By(this.schema,r,n));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}}deleteIn(e){let[n,...i]=e;if(i.length===0)return this.delete(n);let r=this.get(n,!0);if(wr.isCollection(r))return r.deleteIn(i);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}getIn(e,n){let[i,...r]=e,s=this.get(i,!0);return r.length===0?!n&&wr.isScalar(s)?s.value:s:wr.isCollection(s)?s.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!wr.isPair(n))return!1;let i=n.value;return i==null||e&&wr.isScalar(i)&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn(e){let[n,...i]=e;if(i.length===0)return this.has(n);let r=this.get(n,!0);return wr.isCollection(r)?r.hasIn(i):!1}setIn(e,n){let[i,...r]=e;if(r.length===0)this.set(i,n);else{let s=this.get(i,!0);if(wr.isCollection(s))s.setIn(r,n);else if(s===void 0&&this.schema)this.set(i,By(this.schema,r,n));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}}};zd.Collection=Wy;zd.collectionFromPath=By;zd.isEmptyPath=tP});var fu=F(Jd=>{"use strict";var d$=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Ky(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var f$=(t,e,n)=>t.endsWith(`
`)?Ky(n,e):n.includes(`
`)?`
`+Ky(n,e):(t.endsWith(" ")?"":" ")+n;Jd.indentComment=Ky;Jd.lineComment=f$;Jd.stringifyComment=d$});var iP=F(pu=>{"use strict";var p$="flow",$y="block",Xd="quoted";function h$(t,e,n="flow",{indentAtStart:i,lineWidth:r=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return t;r<s&&(s=0);let c=Math.max(1+s,1+r-e.length);if(t.length<=c)return t;let u=[],f={},g=r-e.length;typeof i=="number"&&(i>r-Math.max(2,s)?u.push(0):g=r-i);let p,l,d=!1,h=-1,m=-1,C=-1;n===$y&&(h=nP(t,h,e.length),h!==-1&&(g=h+c));for(let w;w=t[h+=1];){if(n===Xd&&w==="\\"){switch(m=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}C=h}if(w===`
`)n===$y&&(h=nP(t,h,e.length)),g=h+e.length+c,p=void 0;else{if(w===" "&&l&&l!==" "&&l!==`
`&&l!=="	"){let k=t[h+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(p=h)}if(h>=g)if(p)u.push(p),g=p+c,p=void 0;else if(n===Xd){for(;l===" "||l==="	";)l=w,w=t[h+=1],d=!0;let k=h>C+1?h-2:m-1;if(f[k])return t;u.push(k),f[k]=!0,g=k+c,p=void 0}else d=!0}l=w}if(d&&a&&a(),u.length===0)return t;o&&o();let T=t.slice(0,u[0]);for(let w=0;w<u.length;++w){let k=u[w],A=u[w+1]||t.length;k===0?T=`
${e}${t.slice(0,A)}`:(n===Xd&&f[k]&&(T+=`${t[k]}\\`),T+=`
${e}${t.slice(k+1,A)}`)}return T}function nP(t,e,n){let i=e,r=e+1,s=t[r];for(;s===" "||s==="	";)if(e<r+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);i=e,r=e+1,s=t[r]}return i}pu.FOLD_BLOCK=$y;pu.FOLD_FLOW=p$;pu.FOLD_QUOTED=Xd;pu.foldFlowLines=h$});var gu=F(rP=>{"use strict";var Qi=Qt(),ds=iP(),Qd=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Zd=t=>/^(%|---|\.\.\.)/m.test(t);function g$(t,e,n){if(!e||e<0)return!1;let i=e-n,r=t.length;if(r<=i)return!1;for(let s=0,o=0;s<r;++s)if(t[s]===`
`){if(s-o>i)return!0;if(o=s+1,r-o<=i)return!1}return!0}function hu(t,e){let n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;let{implicitKey:i}=e,r=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(Zd(t)?"  ":""),o="",a=0;for(let c=0,u=n[c];u;u=n[++c])if(u===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(a,c)+"\\ ",c+=1,a=c,u="\\"),u==="\\")switch(n[c+1]){case"u":{o+=n.slice(a,c);let f=n.substr(c+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(i||n[c+2]==='"'||n.length<r)c+=1;else{for(o+=n.slice(a,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=s,n[c+2]===" "&&(o+="\\"),c+=1,a=c+1}break;default:c+=1}return o=a?o+n.slice(a):n,i?o:ds.foldFlowLines(o,s,ds.FOLD_QUOTED,Qd(e,!1))}function Hy(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return hu(t,e);let n=e.indent||(Zd(t)?"  ":""),i="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?i:ds.foldFlowLines(i,n,ds.FOLD_FLOW,Qd(e,!1))}function ha(t,e){let{singleQuote:n}=e.options,i;if(n===!1)i=hu;else{let r=t.includes('"'),s=t.includes("'");r&&!s?i=Hy:s&&!r?i=hu:i=n?Hy:hu}return i(t,e)}var Vy;try{Vy=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Vy=/\n+(?!\n|$)/g}function Yd({comment:t,type:e,value:n},i,r,s){let{blockQuote:o,commentString:a,lineWidth:c}=i.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return ha(n,i);let u=i.indent||(i.forceBlockIndent||Zd(n)?"  ":""),f=o==="literal"?!0:o==="folded"||e===Qi.Scalar.BLOCK_FOLDED?!1:e===Qi.Scalar.BLOCK_LITERAL?!0:!g$(n,c,u.length);if(!n)return f?`|
`:`>
`;let g,p;for(p=n.length;p>0;--p){let A=n[p-1];if(A!==`
`&&A!=="	"&&A!==" ")break}let l=n.substring(p),d=l.indexOf(`
`);d===-1?g="-":n===l||d!==l.length-1?(g="+",s&&s()):g="",l&&(n=n.slice(0,-l.length),l[l.length-1]===`
`&&(l=l.slice(0,-1)),l=l.replace(Vy,`$&${u}`));let h=!1,m,C=-1;for(m=0;m<n.length;++m){let A=n[m];if(A===" ")h=!0;else if(A===`
`)C=m;else break}let T=n.substring(0,C<m?C+1:m);T&&(n=n.substring(T.length),T=T.replace(/\n+/g,`$&${u}`));let k=(h?u?"2":"1":"")+g;if(t&&(k+=" "+a(t.replace(/ ?[\r\n]+/g," ")),r&&r()),!f){let A=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`),B=!1,W=Qd(i,!0);o!=="folded"&&e!==Qi.Scalar.BLOCK_FOLDED&&(W.onOverflow=()=>{B=!0});let U=ds.foldFlowLines(`${T}${A}${l}`,u,ds.FOLD_BLOCK,W);if(!B)return`>${k}
${u}${U}`}return n=n.replace(/\n+/g,`$&${u}`),`|${k}
${u}${T}${n}${l}`}function m$(t,e,n,i){let{type:r,value:s}=t,{actualString:o,implicitKey:a,indent:c,indentStep:u,inFlow:f}=e;if(a&&s.includes(`
`)||f&&/[[\]{},]/.test(s))return ha(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||f||!s.includes(`
`)?ha(s,e):Yd(t,e,n,i);if(!a&&!f&&r!==Qi.Scalar.PLAIN&&s.includes(`
`))return Yd(t,e,n,i);if(Zd(s)){if(c==="")return e.forceBlockIndent=!0,Yd(t,e,n,i);if(a&&c===u)return ha(s,e)}let g=s.replace(/\n+/g,`$&
${c}`);if(o){let p=h=>h.default&&h.tag!=="tag:yaml.org,2002:str"&&h.test?.test(g),{compat:l,tags:d}=e.doc.schema;if(d.some(p)||l?.some(p))return ha(s,e)}return a?g:ds.foldFlowLines(g,c,ds.FOLD_FLOW,Qd(e,!1))}function y$(t,e,n,i){let{implicitKey:r,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==Qi.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Qi.Scalar.QUOTE_DOUBLE);let c=f=>{switch(f){case Qi.Scalar.BLOCK_FOLDED:case Qi.Scalar.BLOCK_LITERAL:return r||s?ha(o.value,e):Yd(o,e,n,i);case Qi.Scalar.QUOTE_DOUBLE:return hu(o.value,e);case Qi.Scalar.QUOTE_SINGLE:return Hy(o.value,e);case Qi.Scalar.PLAIN:return m$(o,e,n,i);default:return null}},u=c(a);if(u===null){let{defaultKeyType:f,defaultStringType:g}=e.options,p=r&&f||g;if(u=c(p),u===null)throw new Error(`Unsupported default string type ${p}`)}return u}rP.stringifyString=y$});var mu=F(zy=>{"use strict";var C$=Kd(),fs=Ye(),v$=fu(),S$=gu();function b$(t,e){let n=Object.assign({blockQuote:!0,commentString:v$.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),i;switch(n.collectionStyle){case"block":i=!1;break;case"flow":i=!0;break;default:i=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:i,options:n}}function D$(t,e){if(e.tag){let r=t.filter(s=>s.tag===e.tag);if(r.length>0)return r.find(s=>s.format===e.format)??r[0]}let n,i;if(fs.isScalar(e)){i=e.value;let r=t.filter(s=>s.identify?.(i));if(r.length>1){let s=r.filter(o=>o.test);s.length>0&&(r=s)}n=r.find(s=>s.format===e.format)??r.find(s=>!s.format)}else i=e,n=t.find(r=>r.nodeClass&&i instanceof r.nodeClass);if(!n){let r=i?.constructor?.name??typeof i;throw new Error(`Tag not resolved for ${r} value`)}return n}function T$(t,e,{anchors:n,doc:i}){if(!i.directives)return"";let r=[],s=(fs.isScalar(t)||fs.isCollection(t))&&t.anchor;s&&C$.anchorIsValid(s)&&(n.add(s),r.push(`&${s}`));let o=t.tag?t.tag:e.default?null:e.tag;return o&&r.push(i.directives.tagString(o)),r.join(" ")}function w$(t,e,n,i){if(fs.isPair(t))return t.toString(e,n,i);if(fs.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r,s=fs.isNode(t)?t:e.doc.createNode(t,{onTagObj:c=>r=c});r||(r=D$(e.doc.schema.tags,s));let o=T$(s,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof r.stringify=="function"?r.stringify(s,e,n,i):fs.isScalar(s)?S$.stringifyString(s,e,n,i):s.toString(e,n,i);return o?fs.isScalar(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}zy.createStringifyContext=b$;zy.stringify=w$});var cP=F(aP=>{"use strict";var Wr=Ye(),sP=Qt(),oP=mu(),yu=fu();function x$({key:t,value:e},n,i,r){let{allNullValues:s,doc:o,indent:a,indentStep:c,options:{commentString:u,indentSeq:f,simpleKeys:g}}=n,p=Wr.isNode(t)&&t.comment||null;if(g){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(Wr.isCollection(t)||!Wr.isNode(t)&&typeof t=="object"){let W="With simple keys, collection cannot be used as a key value";throw new Error(W)}}let l=!g&&(!t||p&&e==null&&!n.inFlow||Wr.isCollection(t)||(Wr.isScalar(t)?t.type===sP.Scalar.BLOCK_FOLDED||t.type===sP.Scalar.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!l&&(g||!s),indent:a+c});let d=!1,h=!1,m=oP.stringify(t,n,()=>d=!0,()=>h=!0);if(!l&&!n.inFlow&&m.length>1024){if(g)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");l=!0}if(n.inFlow){if(s||e==null)return d&&i&&i(),m===""?"?":l?`? ${m}`:m}else if(s&&!g||e==null&&l)return m=`? ${m}`,p&&!d?m+=yu.lineComment(m,n.indent,u(p)):h&&r&&r(),m;d&&(p=null),l?(p&&(m+=yu.lineComment(m,n.indent,u(p))),m=`? ${m}
${a}:`):(m=`${m}:`,p&&(m+=yu.lineComment(m,n.indent,u(p))));let C,T,w;Wr.isNode(e)?(C=!!e.spaceBefore,T=e.commentBefore,w=e.comment):(C=!1,T=null,w=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!l&&!p&&Wr.isScalar(e)&&(n.indentAtStart=m.length+1),h=!1,!f&&c.length>=2&&!n.inFlow&&!l&&Wr.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1,A=oP.stringify(e,n,()=>k=!0,()=>h=!0),B=" ";if(p||C||T){if(B=C?`
`:"",T){let W=u(T);B+=`
${yu.indentComment(W,n.indent)}`}A===""&&!n.inFlow?B===`
`&&(B=`

`):B+=`
${n.indent}`}else if(!l&&Wr.isCollection(e)){let W=A[0],U=A.indexOf(`
`),ie=U!==-1,ne=n.inFlow??e.flow??e.items.length===0;if(ie||!ne){let $=!1;if(ie&&(W==="&"||W==="!")){let N=A.indexOf(" ");W==="&"&&N!==-1&&N<U&&A[N+1]==="!"&&(N=A.indexOf(" ",N+1)),(N===-1||U<N)&&($=!0)}$||(B=`
${n.indent}`)}}else(A===""||A[0]===`
`)&&(B="");return m+=B+A,n.inFlow?k&&i&&i():w&&!k?m+=yu.lineComment(m,n.indent,u(w)):h&&r&&r(),m}aP.stringifyPair=x$});var Jy=F(Gy=>{"use strict";var uP=require("node:process");function E$(t,...e){t==="debug"&&console.log(...e)}function k$(t,e){(t==="debug"||t==="warn")&&(typeof uP.emitWarning=="function"?uP.emitWarning(e):console.warn(e))}Gy.debug=E$;Gy.warn=k$});var rf=F(nf=>{"use strict";var Cu=Ye(),lP=Qt(),ef="<<",tf={identify:t=>t===ef||typeof t=="symbol"&&t.description===ef,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new lP.Scalar(Symbol(ef)),{addToJSMap:dP}),stringify:()=>ef},F$=(t,e)=>(tf.identify(e)||Cu.isScalar(e)&&(!e.type||e.type===lP.Scalar.PLAIN)&&tf.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===tf.tag&&n.default);function dP(t,e,n){if(n=t&&Cu.isAlias(n)?n.resolve(t.doc):n,Cu.isSeq(n))for(let i of n.items)Xy(t,e,i);else if(Array.isArray(n))for(let i of n)Xy(t,e,i);else Xy(t,e,n)}function Xy(t,e,n){let i=t&&Cu.isAlias(n)?n.resolve(t.doc):n;if(!Cu.isMap(i))throw new Error("Merge sources must be maps or map aliases");let r=i.toJSON(null,t,Map);for(let[s,o]of r)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}nf.addMergeToJSMap=dP;nf.isMergeKey=F$;nf.merge=tf});var Qy=F(hP=>{"use strict";var P$=Jy(),fP=rf(),R$=mu(),pP=Ye(),Yy=us();function A$(t,e,{key:n,value:i}){if(pP.isNode(n)&&n.addToJSMap)n.addToJSMap(t,e,i);else if(fP.isMergeKey(t,n))fP.addMergeToJSMap(t,e,i);else{let r=Yy.toJS(n,"",t);if(e instanceof Map)e.set(r,Yy.toJS(i,r,t));else if(e instanceof Set)e.add(r);else{let s=I$(n,r,t),o=Yy.toJS(i,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}function I$(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(pP.isNode(t)&&n?.doc){let i=R$.createStringifyContext(n.doc,{});i.anchors=new Set;for(let s of n.anchors.keys())i.anchors.add(s.anchor);i.inFlow=!0,i.inStringifyKey=!0;let r=t.toString(i);if(!n.mapKeyWarned){let s=JSON.stringify(r);s.length>40&&(s=s.substring(0,36)+'..."'),P$.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}hP.addPairToJSMap=A$});var ps=F(Zy=>{"use strict";var gP=du(),_$=cP(),N$=Qy(),sf=Ye();function L$(t,e,n){let i=gP.createNode(t,void 0,n),r=gP.createNode(e,void 0,n);return new of(i,r)}var of=class t{constructor(e,n=null){Object.defineProperty(this,sf.NODE_TYPE,{value:sf.PAIR}),this.key=e,this.value=n}clone(e){let{key:n,value:i}=this;return sf.isNode(n)&&(n=n.clone(e)),sf.isNode(i)&&(i=i.clone(e)),new t(n,i)}toJSON(e,n){let i=n?.mapAsMap?new Map:{};return N$.addPairToJSMap(n,i,this)}toString(e,n,i){return e?.doc?_$.stringifyPair(this,e,n,i):JSON.stringify(this)}};Zy.Pair=of;Zy.createPair=L$});var eC=F(yP=>{"use strict";var go=Ye(),mP=mu(),af=fu();function O$(t,e,n){return(e.inFlow??t.flow?q$:M$)(t,e,n)}function M$({comment:t,items:e},n,{blockItemPrefix:i,flowChars:r,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:c,options:{commentString:u}}=n,f=Object.assign({},n,{indent:s,type:null}),g=!1,p=[];for(let d=0;d<e.length;++d){let h=e[d],m=null;if(go.isNode(h))!g&&h.spaceBefore&&p.push(""),cf(n,p,h.commentBefore,g),h.comment&&(m=h.comment);else if(go.isPair(h)){let T=go.isNode(h.key)?h.key:null;T&&(!g&&T.spaceBefore&&p.push(""),cf(n,p,T.commentBefore,g))}g=!1;let C=mP.stringify(h,f,()=>m=null,()=>g=!0);m&&(C+=af.lineComment(C,s,u(m))),g&&m&&(g=!1),p.push(i+C)}let l;if(p.length===0)l=r.start+r.end;else{l=p[0];for(let d=1;d<p.length;++d){let h=p[d];l+=h?`
${c}${h}`:`
`}}return t?(l+=`
`+af.indentComment(u(t),c),a&&a()):g&&o&&o(),l}function q$({items:t},e,{flowChars:n,itemIndent:i}){let{indent:r,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=e;i+=s;let c=Object.assign({},e,{indent:i,inFlow:!0,type:null}),u=!1,f=0,g=[];for(let d=0;d<t.length;++d){let h=t[d],m=null;if(go.isNode(h))h.spaceBefore&&g.push(""),cf(e,g,h.commentBefore,!1),h.comment&&(m=h.comment);else if(go.isPair(h)){let T=go.isNode(h.key)?h.key:null;T&&(T.spaceBefore&&g.push(""),cf(e,g,T.commentBefore,!1),T.comment&&(u=!0));let w=go.isNode(h.value)?h.value:null;w?(w.comment&&(m=w.comment),w.commentBefore&&(u=!0)):h.value==null&&T?.comment&&(m=T.comment)}m&&(u=!0);let C=mP.stringify(h,c,()=>m=null);d<t.length-1&&(C+=","),m&&(C+=af.lineComment(C,i,a(m))),!u&&(g.length>f||C.includes(`
`))&&(u=!0),g.push(C),f=g.length}let{start:p,end:l}=n;if(g.length===0)return p+l;if(!u){let d=g.reduce((h,m)=>h+m.length+2,2);u=e.options.lineWidth>0&&d>e.options.lineWidth}if(u){let d=p;for(let h of g)d+=h?`
${s}${r}${h}`:`
`;return`${d}
${r}${l}`}else return`${p}${o}${g.join(" ")}${o}${l}`}function cf({indent:t,options:{commentString:e}},n,i,r){if(i&&r&&(i=i.replace(/^\n+/,"")),i){let s=af.indentComment(e(i),t);n.push(s.trimStart())}}yP.stringifyCollection=O$});var gs=F(nC=>{"use strict";var U$=eC(),j$=Qy(),B$=Gd(),hs=Ye(),uf=ps(),W$=Qt();function vu(t,e){let n=hs.isScalar(e)?e.value:e;for(let i of t)if(hs.isPair(i)&&(i.key===e||i.key===n||hs.isScalar(i.key)&&i.key.value===n))return i}var tC=class extends B$.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(hs.MAP,e),this.items=[]}static from(e,n,i){let{keepUndefined:r,replacer:s}=i,o=new this(e),a=(c,u)=>{if(typeof s=="function")u=s.call(n,c,u);else if(Array.isArray(s)&&!s.includes(c))return;(u!==void 0||r)&&o.items.push(uf.createPair(c,u,i))};if(n instanceof Map)for(let[c,u]of n)a(c,u);else if(n&&typeof n=="object")for(let c of Object.keys(n))a(c,n[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let i;hs.isPair(e)?i=e:!e||typeof e!="object"||!("key"in e)?i=new uf.Pair(e,e?.value):i=new uf.Pair(e.key,e.value);let r=vu(this.items,i.key),s=this.schema?.sortMapEntries;if(r){if(!n)throw new Error(`Key ${i.key} already set`);hs.isScalar(r.value)&&W$.isScalarValue(i.value)?r.value.value=i.value:r.value=i.value}else if(s){let o=this.items.findIndex(a=>s(i,a)<0);o===-1?this.items.push(i):this.items.splice(o,0,i)}else this.items.push(i)}delete(e){let n=vu(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=vu(this.items,e)?.value;return(!n&&hs.isScalar(r)?r.value:r)??void 0}has(e){return!!vu(this.items,e)}set(e,n){this.add(new uf.Pair(e,n),!0)}toJSON(e,n,i){let r=i?new i:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(r);for(let s of this.items)j$.addPairToJSMap(n,r,s);return r}toString(e,n,i){if(!e)return JSON.stringify(this);for(let r of this.items)if(!hs.isPair(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),U$.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:i,onComment:n})}};nC.YAMLMap=tC;nC.findPair=vu});var ga=F(vP=>{"use strict";var K$=Ye(),CP=gs(),$$={collection:"map",default:!0,nodeClass:CP.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return K$.isMap(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>CP.YAMLMap.from(t,e,n)};vP.map=$$});var ms=F(SP=>{"use strict";var H$=du(),V$=eC(),z$=Gd(),df=Ye(),G$=Qt(),J$=us(),iC=class extends z$.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(df.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let n=lf(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let i=lf(e);if(typeof i!="number")return;let r=this.items[i];return!n&&df.isScalar(r)?r.value:r}has(e){let n=lf(e);return typeof n=="number"&&n<this.items.length}set(e,n){let i=lf(e);if(typeof i!="number")throw new Error(`Expected a valid index, not ${e}.`);let r=this.items[i];df.isScalar(r)&&G$.isScalarValue(n)?r.value=n:this.items[i]=n}toJSON(e,n){let i=[];n?.onCreate&&n.onCreate(i);let r=0;for(let s of this.items)i.push(J$.toJS(s,String(r++),n));return i}toString(e,n,i){return e?V$.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:i,onComment:n}):JSON.stringify(this)}static from(e,n,i){let{replacer:r}=i,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof r=="function"){let c=n instanceof Set?a:String(o++);a=r.call(n,c,a)}s.items.push(H$.createNode(a,void 0,i))}}return s}};function lf(t){let e=df.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}SP.YAMLSeq=iC});var ma=F(DP=>{"use strict";var X$=Ye(),bP=ms(),Y$={collection:"seq",default:!0,nodeClass:bP.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return X$.isSeq(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>bP.YAMLSeq.from(t,e,n)};DP.seq=Y$});var Su=F(TP=>{"use strict";var Q$=gu(),Z$={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,i){return e=Object.assign({actualString:!0},e),Q$.stringifyString(t,e,n,i)}};TP.string=Z$});var ff=F(EP=>{"use strict";var wP=Qt(),xP={identify:t=>t==null,createNode:()=>new wP.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new wP.Scalar(null),stringify:({source:t},e)=>typeof t=="string"&&xP.test.test(t)?t:e.options.nullStr};EP.nullTag=xP});var rC=F(FP=>{"use strict";var e3=Qt(),kP={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new e3.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&kP.test.test(t)){let i=t[0]==="t"||t[0]==="T";if(e===i)return t}return e?n.options.trueStr:n.options.falseStr}};FP.boolTag=kP});var ya=F(PP=>{"use strict";function t3({format:t,minFractionDigits:e,tag:n,value:i}){if(typeof i=="bigint")return String(i);let r=typeof i=="number"?i:Number(i);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let s=JSON.stringify(i);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}PP.stringifyNumber=t3});var oC=F(pf=>{"use strict";var n3=Qt(),sC=ya(),i3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:sC.stringifyNumber},r3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():sC.stringifyNumber(t)}},s3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new n3.Scalar(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:sC.stringifyNumber};pf.float=s3;pf.floatExp=r3;pf.floatNaN=i3});var cC=F(gf=>{"use strict";var RP=ya(),hf=t=>typeof t=="bigint"||Number.isInteger(t),aC=(t,e,n,{intAsBigInt:i})=>i?BigInt(t):parseInt(t.substring(e),n);function AP(t,e,n){let{value:i}=t;return hf(i)&&i>=0?n+i.toString(e):RP.stringifyNumber(t)}var o3={identify:t=>hf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>aC(t,2,8,n),stringify:t=>AP(t,8,"0o")},a3={identify:hf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>aC(t,0,10,n),stringify:RP.stringifyNumber},c3={identify:t=>hf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>aC(t,2,16,n),stringify:t=>AP(t,16,"0x")};gf.int=a3;gf.intHex=c3;gf.intOct=o3});var _P=F(IP=>{"use strict";var u3=ga(),l3=ff(),d3=ma(),f3=Su(),p3=rC(),uC=oC(),lC=cC(),h3=[u3.map,d3.seq,f3.string,l3.nullTag,p3.boolTag,lC.intOct,lC.int,lC.intHex,uC.floatNaN,uC.floatExp,uC.float];IP.schema=h3});var OP=F(LP=>{"use strict";var g3=Qt(),m3=ga(),y3=ma();function NP(t){return typeof t=="bigint"||Number.isInteger(t)}var mf=({value:t})=>JSON.stringify(t),C3=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:mf},{identify:t=>t==null,createNode:()=>new g3.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:mf},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:mf},{identify:NP,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>NP(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:mf}],v3={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},S3=[m3.map,y3.seq].concat(C3,v3);LP.schema=S3});var fC=F(MP=>{"use strict";var bu=require("node:buffer"),dC=Qt(),b3=gu(),D3={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof bu.Buffer=="function")return bu.Buffer.from(t,"base64");if(typeof atob=="function"){let n=atob(t.replace(/[\n\r]/g,"")),i=new Uint8Array(n.length);for(let r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},i,r,s){let o=n,a;if(typeof bu.Buffer=="function")a=o instanceof bu.Buffer?o.toString("base64"):bu.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=dC.Scalar.BLOCK_LITERAL),e!==dC.Scalar.QUOTE_DOUBLE){let c=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),u=Math.ceil(a.length/c),f=new Array(u);for(let g=0,p=0;g<u;++g,p+=c)f[g]=a.substr(p,c);a=f.join(e===dC.Scalar.BLOCK_LITERAL?`
`:" ")}return b3.stringifyString({comment:t,type:e,value:a},i,r,s)}};MP.binary=D3});var vf=F(Cf=>{"use strict";var yf=Ye(),pC=ps(),T3=Qt(),w3=ms();function qP(t,e){if(yf.isSeq(t))for(let n=0;n<t.items.length;++n){let i=t.items[n];if(!yf.isPair(i)){if(yf.isMap(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");let r=i.items[0]||new pC.Pair(new T3.Scalar(null));if(i.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${i.commentBefore}
${r.key.commentBefore}`:i.commentBefore),i.comment){let s=r.value??r.key;s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment}i=r}t.items[n]=yf.isPair(i)?i:new pC.Pair(i)}}else e("Expected a sequence for this tag");return t}function UP(t,e,n){let{replacer:i}=n,r=new w3.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof i=="function"&&(o=i.call(e,String(s++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let u=Object.keys(o);if(u.length===1)a=u[0],c=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;r.items.push(pC.createPair(a,c,n))}return r}var x3={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:qP,createNode:UP};Cf.createPairs=UP;Cf.pairs=x3;Cf.resolvePairs=qP});var mC=F(gC=>{"use strict";var jP=Ye(),hC=us(),Du=gs(),E3=ms(),BP=vf(),mo=class t extends E3.YAMLSeq{constructor(){super(),this.add=Du.YAMLMap.prototype.add.bind(this),this.delete=Du.YAMLMap.prototype.delete.bind(this),this.get=Du.YAMLMap.prototype.get.bind(this),this.has=Du.YAMLMap.prototype.has.bind(this),this.set=Du.YAMLMap.prototype.set.bind(this),this.tag=t.tag}toJSON(e,n){if(!n)return super.toJSON(e);let i=new Map;n?.onCreate&&n.onCreate(i);for(let r of this.items){let s,o;if(jP.isPair(r)?(s=hC.toJS(r.key,"",n),o=hC.toJS(r.value,s,n)):s=hC.toJS(r,"",n),i.has(s))throw new Error("Ordered maps must not include duplicate keys");i.set(s,o)}return i}static from(e,n,i){let r=BP.createPairs(e,n,i),s=new this;return s.items=r.items,s}};mo.tag="tag:yaml.org,2002:omap";var k3={collection:"seq",identify:t=>t instanceof Map,nodeClass:mo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let n=BP.resolvePairs(t,e),i=[];for(let{key:r}of n.items)jP.isScalar(r)&&(i.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):i.push(r.value));return Object.assign(new mo,n)},createNode:(t,e,n)=>mo.from(t,e,n)};gC.YAMLOMap=mo;gC.omap=k3});var VP=F(yC=>{"use strict";var WP=Qt();function KP({value:t,source:e},n){return e&&(t?$P:HP).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}var $P={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new WP.Scalar(!0),stringify:KP},HP={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new WP.Scalar(!1),stringify:KP};yC.falseTag=HP;yC.trueTag=$P});var zP=F(Sf=>{"use strict";var F3=Qt(),CC=ya(),P3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:CC.stringifyNumber},R3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():CC.stringifyNumber(t)}},A3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new F3.Scalar(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){let i=t.substring(n+1).replace(/_/g,"");i[i.length-1]==="0"&&(e.minFractionDigits=i.length)}return e},stringify:CC.stringifyNumber};Sf.float=A3;Sf.floatExp=R3;Sf.floatNaN=P3});var JP=F(wu=>{"use strict";var GP=ya(),Tu=t=>typeof t=="bigint"||Number.isInteger(t);function bf(t,e,n,{intAsBigInt:i}){let r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),i){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let o=BigInt(t);return r==="-"?BigInt(-1)*o:o}let s=parseInt(t,n);return r==="-"?-1*s:s}function vC(t,e,n){let{value:i}=t;if(Tu(i)){let r=i.toString(e);return i<0?"-"+n+r.substr(1):n+r}return GP.stringifyNumber(t)}var I3={identify:Tu,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>bf(t,2,2,n),stringify:t=>vC(t,2,"0b")},_3={identify:Tu,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>bf(t,1,8,n),stringify:t=>vC(t,8,"0")},N3={identify:Tu,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>bf(t,0,10,n),stringify:GP.stringifyNumber},L3={identify:Tu,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>bf(t,2,16,n),stringify:t=>vC(t,16,"0x")};wu.int=N3;wu.intBin=I3;wu.intHex=L3;wu.intOct=_3});var bC=F(SC=>{"use strict";var wf=Ye(),Df=ps(),Tf=gs(),yo=class t extends Tf.YAMLMap{constructor(e){super(e),this.tag=t.tag}add(e){let n;wf.isPair(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Df.Pair(e.key,null):n=new Df.Pair(e,null),Tf.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let i=Tf.findPair(this.items,e);return!n&&wf.isPair(i)?wf.isScalar(i.key)?i.key.value:i.key:i}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let i=Tf.findPair(this.items,e);i&&!n?this.items.splice(this.items.indexOf(i),1):!i&&n&&this.items.push(new Df.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,i){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,i);throw new Error("Set items must all have null values")}static from(e,n,i){let{replacer:r}=i,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof r=="function"&&(o=r.call(n,o,o)),s.items.push(Df.createPair(o,null,i));return s}};yo.tag="tag:yaml.org,2002:set";var O3={collection:"map",identify:t=>t instanceof Set,nodeClass:yo,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>yo.from(t,e,n),resolve(t,e){if(wf.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new yo,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};SC.YAMLSet=yo;SC.set=O3});var TC=F(xf=>{"use strict";var M3=ya();function DC(t,e){let n=t[0],i=n==="-"||n==="+"?t.substring(1):t,r=o=>e?BigInt(o):Number(o),s=i.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return n==="-"?r(-1)*s:s}function XP(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return M3.stringifyNumber(t);let i="";e<0&&(i="-",e*=n(-1));let r=n(60),s=[e%r];return e<60?s.unshift(0):(e=(e-s[0])/r,s.unshift(e%r),e>=60&&(e=(e-s[0])/r,s.unshift(e))),i+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var q3={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>DC(t,n),stringify:XP},U3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>DC(t,!1),stringify:XP},YP={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(YP.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,i,r,s,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,u=Date.UTC(n,i-1,r,s||0,o||0,a||0,c),f=e[8];if(f&&f!=="Z"){let g=DC(f,!1);Math.abs(g)<30&&(g*=60),u-=6e4*g}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/(T00:00:00)?\.000Z$/,"")};xf.floatTime=U3;xf.intTime=q3;xf.timestamp=YP});var eR=F(ZP=>{"use strict";var j3=ga(),B3=ff(),W3=ma(),K3=Su(),$3=fC(),QP=VP(),wC=zP(),Ef=JP(),H3=rf(),V3=mC(),z3=vf(),G3=bC(),xC=TC(),J3=[j3.map,W3.seq,K3.string,B3.nullTag,QP.trueTag,QP.falseTag,Ef.intBin,Ef.intOct,Ef.int,Ef.intHex,wC.floatNaN,wC.floatExp,wC.float,$3.binary,H3.merge,V3.omap,z3.pairs,G3.set,xC.intTime,xC.floatTime,xC.timestamp];ZP.schema=J3});var lR=F(FC=>{"use strict";var rR=ga(),X3=ff(),sR=ma(),Y3=Su(),Q3=rC(),EC=oC(),kC=cC(),Z3=_P(),eH=OP(),oR=fC(),xu=rf(),aR=mC(),cR=vf(),tR=eR(),uR=bC(),kf=TC(),nR=new Map([["core",Z3.schema],["failsafe",[rR.map,sR.seq,Y3.string]],["json",eH.schema],["yaml11",tR.schema],["yaml-1.1",tR.schema]]),iR={binary:oR.binary,bool:Q3.boolTag,float:EC.float,floatExp:EC.floatExp,floatNaN:EC.floatNaN,floatTime:kf.floatTime,int:kC.int,intHex:kC.intHex,intOct:kC.intOct,intTime:kf.intTime,map:rR.map,merge:xu.merge,null:X3.nullTag,omap:aR.omap,pairs:cR.pairs,seq:sR.seq,set:uR.set,timestamp:kf.timestamp},tH={"tag:yaml.org,2002:binary":oR.binary,"tag:yaml.org,2002:merge":xu.merge,"tag:yaml.org,2002:omap":aR.omap,"tag:yaml.org,2002:pairs":cR.pairs,"tag:yaml.org,2002:set":uR.set,"tag:yaml.org,2002:timestamp":kf.timestamp};function nH(t,e,n){let i=nR.get(e);if(i&&!t)return n&&!i.includes(xu.merge)?i.concat(xu.merge):i.slice();let r=i;if(!r)if(Array.isArray(t))r=[];else{let s=Array.from(nR.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(let s of t)r=r.concat(s);else typeof t=="function"&&(r=t(r.slice()));return n&&(r=r.concat(xu.merge)),r.reduce((s,o)=>{let a=typeof o=="string"?iR[o]:o;if(!a){let c=JSON.stringify(o),u=Object.keys(iR).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${c}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}FC.coreKnownTags=tH;FC.getTags=nH});var AC=F(dR=>{"use strict";var PC=Ye(),iH=ga(),rH=ma(),sH=Su(),Ff=lR(),oH=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,RC=class t{constructor({compat:e,customTags:n,merge:i,resolveKnownTags:r,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Ff.getTags(e,"compat"):e?Ff.getTags(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=r?Ff.coreKnownTags:{},this.tags=Ff.getTags(n,this.name,i),this.toStringOptions=a??null,Object.defineProperty(this,PC.MAP,{value:iH.map}),Object.defineProperty(this,PC.SCALAR,{value:sH.string}),Object.defineProperty(this,PC.SEQ,{value:rH.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?oH:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};dR.Schema=RC});var pR=F(fR=>{"use strict";var aH=Ye(),IC=mu(),Eu=fu();function cH(t,e){let n=[],i=e.directives===!0;if(e.directives!==!1&&t.directives){let c=t.directives.toString(t);c?(n.push(c),i=!0):t.directives.docStart&&(i=!0)}i&&n.push("---");let r=IC.createStringifyContext(t,e),{commentString:s}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");let c=s(t.commentBefore);n.unshift(Eu.indentComment(c,""))}let o=!1,a=null;if(t.contents){if(aH.isNode(t.contents)){if(t.contents.spaceBefore&&i&&n.push(""),t.contents.commentBefore){let f=s(t.contents.commentBefore);n.push(Eu.indentComment(f,""))}r.forceBlockIndent=!!t.comment,a=t.contents.comment}let c=a?void 0:()=>o=!0,u=IC.stringify(t.contents,r,()=>a=null,c);a&&(u+=Eu.lineComment(u,"",s(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(IC.stringify(t.contents,r));if(t.directives?.docEnd)if(t.comment){let c=s(t.comment);c.includes(`
`)?(n.push("..."),n.push(Eu.indentComment(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Eu.indentComment(s(c),"")))}return n.join(`
`)+`
`}fR.stringifyDocument=cH});var ku=F(hR=>{"use strict";var uH=lu(),Ca=Gd(),Li=Ye(),lH=ps(),dH=us(),fH=AC(),pH=pR(),_C=Kd(),hH=My(),gH=du(),NC=Oy(),LC=class t{constructor(e,n,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Li.NODE_TYPE,{value:Li.DOC});let r=null;typeof n=="function"||Array.isArray(n)?r=n:i===void 0&&n&&(i=n,n=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},i);this.options=s;let{version:o}=s;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new NC.Directives({version:o}),this.setSchema(o,i),this.contents=e===void 0?null:this.createNode(e,r,i)}clone(){let e=Object.create(t.prototype,{[Li.NODE_TYPE]:{value:Li.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Li.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){va(this.contents)&&this.contents.add(e)}addIn(e,n){va(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){let i=_C.anchorNames(this);e.anchor=!n||i.has(n)?_C.findNewAnchor(n||"a",i):n}return new uH.Alias(e.anchor)}createNode(e,n,i){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){let m=T=>typeof T=="number"||T instanceof String||T instanceof Number,C=n.filter(m).map(String);C.length>0&&(n=n.concat(C)),r=n}else i===void 0&&n&&(i=n,n=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:u,tag:f}=i??{},{onAnchor:g,setAnchors:p,sourceObjects:l}=_C.createNodeAnchors(this,o||"a"),d={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:g,onTagObj:u,replacer:r,schema:this.schema,sourceObjects:l},h=gH.createNode(e,f,d);return a&&Li.isCollection(h)&&(h.flow=!0),p(),h}createPair(e,n,i={}){let r=this.createNode(e,null,i),s=this.createNode(n,null,i);return new lH.Pair(r,s)}delete(e){return va(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Ca.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):va(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Li.isCollection(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Ca.isEmptyPath(e)?!n&&Li.isScalar(this.contents)?this.contents.value:this.contents:Li.isCollection(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Li.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return Ca.isEmptyPath(e)?this.contents!==void 0:Li.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Ca.collectionFromPath(this.schema,[e],n):va(this.contents)&&this.contents.set(e,n)}setIn(e,n){Ca.isEmptyPath(e)?this.contents=n:this.contents==null?this.contents=Ca.collectionFromPath(this.schema,Array.from(e),n):va(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let i;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new NC.Directives({version:"1.1"}),i={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new NC.Directives({version:e}),i={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,i=null;break;default:{let r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(i)this.schema=new fH.Schema(Object.assign(i,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:i,maxAliasCount:r,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:i===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},c=dH.toJS(this.contents,n??"",a);if(typeof s=="function")for(let{count:u,res:f}of a.anchors.values())s(f,u);return typeof o=="function"?hH.applyReviver(o,{"":c},"",c):c}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return pH.stringifyDocument(this,e)}};function va(t){if(Li.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}hR.Document=LC});var Ru=F(Pu=>{"use strict";var Fu=class extends Error{constructor(e,n,i,r){super(),this.name=e,this.code=i,this.message=r,this.pos=n}},OC=class extends Fu{constructor(e,n,i){super("YAMLParseError",e,n,i)}},MC=class extends Fu{constructor(e,n,i){super("YAMLWarning",e,n,i)}},mH=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));let{line:i,col:r}=n.linePos[0];n.message+=` at line ${i}, column ${r}`;let s=r-1,o=t.substring(e.lineStarts[i-1],e.lineStarts[i]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),i>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[i-2],e.lineStarts[i-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,c=n.linePos[1];c&&c.line===i&&c.col>r&&(a=Math.max(1,Math.min(c.col-r,80-s)));let u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};Pu.YAMLError=Fu;Pu.YAMLParseError=OC;Pu.YAMLWarning=MC;Pu.prettifyError=mH});var Au=F(gR=>{"use strict";function yH(t,{flow:e,indicator:n,next:i,offset:r,onError:s,parentIndent:o,startOnNewline:a}){let c=!1,u=a,f=a,g="",p="",l=!1,d=!1,h=null,m=null,C=null,T=null,w=null,k=null,A=null;for(let U of t)switch(d&&(U.type!=="space"&&U.type!=="newline"&&U.type!=="comma"&&s(U.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),h&&(u&&U.type!=="comment"&&U.type!=="newline"&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=null),U.type){case"space":!e&&(n!=="doc-start"||i?.type!=="flow-collection")&&U.source.includes("	")&&(h=U),f=!0;break;case"comment":{f||s(U,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let ie=U.source.substring(1)||" ";g?g+=p+ie:g=ie,p="",u=!1;break}case"newline":u?g?g+=U.source:(!k||n!=="seq-item-ind")&&(c=!0):p+=U.source,u=!0,l=!0,(m||C)&&(T=U),f=!0;break;case"anchor":m&&s(U,"MULTIPLE_ANCHORS","A node can have at most one anchor"),U.source.endsWith(":")&&s(U.offset+U.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=U,A===null&&(A=U.offset),u=!1,f=!1,d=!0;break;case"tag":{C&&s(U,"MULTIPLE_TAGS","A node can have at most one tag"),C=U,A===null&&(A=U.offset),u=!1,f=!1,d=!0;break}case n:(m||C)&&s(U,"BAD_PROP_ORDER",`Anchors and tags must be after the ${U.source} indicator`),k&&s(U,"UNEXPECTED_TOKEN",`Unexpected ${U.source} in ${e??"collection"}`),k=U,u=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(e){w&&s(U,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),w=U,u=!1,f=!1;break}default:s(U,"UNEXPECTED_TOKEN",`Unexpected ${U.type} token`),u=!1,f=!1}let B=t[t.length-1],W=B?B.offset+B.source.length:r;return d&&i&&i.type!=="space"&&i.type!=="newline"&&i.type!=="comma"&&(i.type!=="scalar"||i.source!=="")&&s(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h&&(u&&h.indent<=o||i?.type==="block-map"||i?.type==="block-seq")&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:k,spaceBefore:c,comment:g,hasNewline:l,anchor:m,tag:C,newlineAfterProp:T,end:W,start:A??W}}gR.resolveProps=yH});var Pf=F(mR=>{"use strict";function qC(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let n of e.start)if(n.type==="newline")return!0;if(e.sep){for(let n of e.sep)if(n.type==="newline")return!0}if(qC(e.key)||qC(e.value))return!0}return!1;default:return!0}}mR.containsNewline=qC});var UC=F(yR=>{"use strict";var CH=Pf();function vH(t,e,n){if(e?.type==="flow-collection"){let i=e.end[0];i.indent===t&&(i.source==="]"||i.source==="}")&&CH.containsNewline(e)&&n(i,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}yR.flowIndentCheck=vH});var jC=F(vR=>{"use strict";var CR=Ye();function SH(t,e,n){let{uniqueKeys:i}=t.options;if(i===!1)return!1;let r=typeof i=="function"?i:(s,o)=>s===o||CR.isScalar(s)&&CR.isScalar(o)&&s.value===o.value;return e.some(s=>r(s.key,n))}vR.mapIncludes=SH});var xR=F(wR=>{"use strict";var SR=ps(),bH=gs(),bR=Au(),DH=Pf(),DR=UC(),TH=jC(),TR="All mapping items must start at the same column";function wH({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=s?.nodeClass??bH.YAMLMap,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=i.offset,u=null;for(let f of i.items){let{start:g,key:p,sep:l,value:d}=f,h=bR.resolveProps(g,{indicator:"explicit-key-ind",next:p??l?.[0],offset:c,onError:r,parentIndent:i.indent,startOnNewline:!0}),m=!h.found;if(m){if(p&&(p.type==="block-seq"?r(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==i.indent&&r(c,"BAD_INDENT",TR)),!h.anchor&&!h.tag&&!l){u=h.end,h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment);continue}(h.newlineAfterProp||DH.containsNewline(p))&&r(p??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==i.indent&&r(c,"BAD_INDENT",TR);n.atKey=!0;let C=h.end,T=p?t(n,p,h,r):e(n,C,g,null,h,r);n.schema.compat&&DR.flowIndentCheck(i.indent,p,r),n.atKey=!1,TH.mapIncludes(n,a.items,T)&&r(C,"DUPLICATE_KEY","Map keys must be unique");let w=bR.resolveProps(l??[],{indicator:"map-value-ind",next:d,offset:T.range[2],onError:r,parentIndent:i.indent,startOnNewline:!p||p.type==="block-scalar"});if(c=w.end,w.found){m&&(d?.type==="block-map"&&!w.hasNewline&&r(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<w.found.offset-1024&&r(T.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let k=d?t(n,d,w,r):e(n,c,l,null,w,r);n.schema.compat&&DR.flowIndentCheck(i.indent,d,r),c=k.range[2];let A=new SR.Pair(T,k);n.options.keepSourceTokens&&(A.srcToken=f),a.items.push(A)}else{m&&r(T.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(T.comment?T.comment+=`
`+w.comment:T.comment=w.comment);let k=new SR.Pair(T);n.options.keepSourceTokens&&(k.srcToken=f),a.items.push(k)}}return u&&u<c&&r(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[i.offset,c,u??c],a}wR.resolveBlockMap=wH});var kR=F(ER=>{"use strict";var xH=ms(),EH=Au(),kH=UC();function FH({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=s?.nodeClass??xH.YAMLSeq,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=i.offset,u=null;for(let{start:f,value:g}of i.items){let p=EH.resolveProps(f,{indicator:"seq-item-ind",next:g,offset:c,onError:r,parentIndent:i.indent,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||g)g&&g.type==="block-seq"?r(p.end,"BAD_INDENT","All sequence items must start at the same column"):r(c,"MISSING_CHAR","Sequence item without - indicator");else{u=p.end,p.comment&&(a.comment=p.comment);continue}let l=g?t(n,g,p,r):e(n,p.end,f,null,p,r);n.schema.compat&&kH.flowIndentCheck(i.indent,g,r),c=l.range[2],a.items.push(l)}return a.range=[i.offset,c,u??c],a}ER.resolveBlockSeq=FH});var Sa=F(FR=>{"use strict";function PH(t,e,n,i){let r="";if(t){let s=!1,o="";for(let a of t){let{source:c,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&i(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let f=c.substring(1)||" ";r?r+=o+f:r=f,o="";break}case"newline":r&&(o+=c),s=!0;break;default:i(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=c.length}}return{comment:r,offset:e}}FR.resolveEnd=PH});var IR=F(AR=>{"use strict";var RH=Ye(),AH=ps(),PR=gs(),IH=ms(),_H=Sa(),RR=Au(),NH=Pf(),LH=jC(),BC="Block collections are not allowed within flow collections",WC=t=>t&&(t.type==="block-map"||t.type==="block-seq");function OH({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=i.start.source==="{",a=o?"flow map":"flow sequence",c=s?.nodeClass??(o?PR.YAMLMap:IH.YAMLSeq),u=new c(n.schema);u.flow=!0;let f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let g=i.offset+i.start.source.length;for(let m=0;m<i.items.length;++m){let C=i.items[m],{start:T,key:w,sep:k,value:A}=C,B=RR.resolveProps(T,{flow:a,indicator:"explicit-key-ind",next:w??k?.[0],offset:g,onError:r,parentIndent:i.indent,startOnNewline:!1});if(!B.found){if(!B.anchor&&!B.tag&&!k&&!A){m===0&&B.comma?r(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<i.items.length-1&&r(B.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),B.comment&&(u.comment?u.comment+=`
`+B.comment:u.comment=B.comment),g=B.end;continue}!o&&n.options.strict&&NH.containsNewline(w)&&r(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)B.comma&&r(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(B.comma||r(B.start,"MISSING_CHAR",`Missing , between ${a} items`),B.comment){let W="";e:for(let U of T)switch(U.type){case"comma":case"space":break;case"comment":W=U.source.substring(1);break e;default:break e}if(W){let U=u.items[u.items.length-1];RH.isPair(U)&&(U=U.value??U.key),U.comment?U.comment+=`
`+W:U.comment=W,B.comment=B.comment.substring(W.length+1)}}if(!o&&!k&&!B.found){let W=A?t(n,A,B,r):e(n,B.end,k,null,B,r);u.items.push(W),g=W.range[2],WC(A)&&r(W.range,"BLOCK_IN_FLOW",BC)}else{n.atKey=!0;let W=B.end,U=w?t(n,w,B,r):e(n,W,T,null,B,r);WC(w)&&r(U.range,"BLOCK_IN_FLOW",BC),n.atKey=!1;let ie=RR.resolveProps(k??[],{flow:a,indicator:"map-value-ind",next:A,offset:U.range[2],onError:r,parentIndent:i.indent,startOnNewline:!1});if(ie.found){if(!o&&!B.found&&n.options.strict){if(k)for(let N of k){if(N===ie.found)break;if(N.type==="newline"){r(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}B.start<ie.found.offset-1024&&r(ie.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?r(A,"MISSING_CHAR",`Missing space after : in ${a}`):r(ie.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let ne=A?t(n,A,ie,r):ie.found?e(n,ie.end,k,null,ie,r):null;ne?WC(A)&&r(ne.range,"BLOCK_IN_FLOW",BC):ie.comment&&(U.comment?U.comment+=`
`+ie.comment:U.comment=ie.comment);let $=new AH.Pair(U,ne);if(n.options.keepSourceTokens&&($.srcToken=C),o){let N=u;LH.mapIncludes(n,N.items,U)&&r(W,"DUPLICATE_KEY","Map keys must be unique"),N.items.push($)}else{let N=new PR.YAMLMap(n.schema);N.flow=!0,N.items.push($);let H=(ne??U).range;N.range=[U.range[0],H[1],H[2]],u.items.push(N)}g=ne?ne.range[2]:ie.end}}let p=o?"}":"]",[l,...d]=i.end,h=g;if(l&&l.source===p)h=l.offset+l.source.length;else{let m=a[0].toUpperCase()+a.substring(1),C=f?`${m} must end with a ${p}`:`${m} in block collection must be sufficiently indented and end with a ${p}`;r(g,f?"MISSING_CHAR":"BAD_INDENT",C),l&&l.source.length!==1&&d.unshift(l)}if(d.length>0){let m=_H.resolveEnd(d,h,n.options.strict,r);m.comment&&(u.comment?u.comment+=`
`+m.comment:u.comment=m.comment),u.range=[i.offset,h,m.offset]}else u.range=[i.offset,h,h];return u}AR.resolveFlowCollection=OH});var NR=F(_R=>{"use strict";var MH=Ye(),qH=Qt(),UH=gs(),jH=ms(),BH=xR(),WH=kR(),KH=IR();function KC(t,e,n,i,r,s){let o=n.type==="block-map"?BH.resolveBlockMap(t,e,n,i,s):n.type==="block-seq"?WH.resolveBlockSeq(t,e,n,i,s):KH.resolveFlowCollection(t,e,n,i,s),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function $H(t,e,n,i,r){let s=i.tag,o=s?e.directives.tagName(s.source,p=>r(s,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){let{anchor:p,newlineAfterProp:l}=i,d=p&&s?p.offset>s.offset?p:s:p??s;d&&(!l||l.offset<d.offset)&&r(d,"MISSING_CHAR","Missing newline after block sequence props")}let a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===UH.YAMLMap.tagName&&a==="map"||o===jH.YAMLSeq.tagName&&a==="seq")return KC(t,e,n,r,o);let c=e.schema.tags.find(p=>p.tag===o&&p.collection===a);if(!c){let p=e.schema.knownTags[o];if(p&&p.collection===a)e.schema.tags.push(Object.assign({},p,{default:!1})),c=p;else return p?.collection?r(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${a} collection, but expects ${p.collection}`,!0):r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),KC(t,e,n,r,o)}let u=KC(t,e,n,r,o,c),f=c.resolve?.(u,p=>r(s,"TAG_RESOLVE_FAILED",p),e.options)??u,g=MH.isNode(f)?f:new qH.Scalar(f);return g.range=u.range,g.tag=o,c?.format&&(g.format=c.format),g}_R.composeCollection=$H});var HC=F(LR=>{"use strict";var $C=Qt();function HH(t,e,n){let i=e.offset,r=VH(e,t.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[i,i,i]};let s=r.mode===">"?$C.Scalar.BLOCK_FOLDED:$C.Scalar.BLOCK_LITERAL,o=e.source?zH(e.source):[],a=o.length;for(let h=o.length-1;h>=0;--h){let m=o[h][1];if(m===""||m==="\r")a=h;else break}if(a===0){let h=r.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",m=i+r.length;return e.source&&(m+=e.source.length),{value:h,type:s,comment:r.comment,range:[i,m,m]}}let c=e.indent+r.indent,u=e.offset+r.length,f=0;for(let h=0;h<a;++h){let[m,C]=o[h];if(C===""||C==="\r")r.indent===0&&m.length>c&&(c=m.length);else{m.length<c&&n(u+m.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(c=m.length),f=h,c===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=m.length+C.length+1}for(let h=o.length-1;h>=a;--h)o[h][0].length>c&&(a=h+1);let g="",p="",l=!1;for(let h=0;h<f;++h)g+=o[h][0].slice(c)+`
`;for(let h=f;h<a;++h){let[m,C]=o[h];u+=m.length+C.length+1;let T=C[C.length-1]==="\r";if(T&&(C=C.slice(0,-1)),C&&m.length<c){let k=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(u-C.length-(T?2:1),"BAD_INDENT",k),m=""}s===$C.Scalar.BLOCK_LITERAL?(g+=p+m.slice(c)+C,p=`
`):m.length>c||C[0]==="	"?(p===" "?p=`
`:!l&&p===`
`&&(p=`

`),g+=p+m.slice(c)+C,p=`
`,l=!0):C===""?p===`
`?g+=`
`:p=`
`:(g+=p+C,p=" ",l=!1)}switch(r.chomp){case"-":break;case"+":for(let h=a;h<o.length;++h)g+=`
`+o[h][0].slice(c);g[g.length-1]!==`
`&&(g+=`
`);break;default:g+=`
`}let d=i+r.length+e.source.length;return{value:g,type:s,comment:r.comment,range:[i,d,d]}}function VH({offset:t,props:e},n,i){if(e[0].type!=="block-scalar-header")return i(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:r}=e[0],s=r[0],o=0,a="",c=-1;for(let p=1;p<r.length;++p){let l=r[p];if(!a&&(l==="-"||l==="+"))a=l;else{let d=Number(l);!o&&d?o=d:c===-1&&(c=t+p)}}c!==-1&&i(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let u=!1,f="",g=r.length;for(let p=1;p<e.length;++p){let l=e[p];switch(l.type){case"space":u=!0;case"newline":g+=l.source.length;break;case"comment":n&&!u&&i(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),g+=l.source.length,f=l.source.substring(1);break;case"error":i(l,"UNEXPECTED_TOKEN",l.message),g+=l.source.length;break;default:{let d=`Unexpected token in block scalar header: ${l.type}`;i(l,"UNEXPECTED_TOKEN",d);let h=l.source;h&&typeof h=="string"&&(g+=h.length)}}}return{mode:s,indent:o,chomp:a,comment:f,length:g}}function zH(t){let e=t.split(/\n( *)/),n=e[0],i=n.match(/^( *)/),s=[i?.[1]?[i[1],n.slice(i[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}LR.resolveBlockScalar=HH});var zC=F(MR=>{"use strict";var VC=Qt(),GH=Sa();function JH(t,e,n){let{offset:i,type:r,source:s,end:o}=t,a,c,u=(p,l,d)=>n(i+p,l,d);switch(r){case"scalar":a=VC.Scalar.PLAIN,c=XH(s,u);break;case"single-quoted-scalar":a=VC.Scalar.QUOTE_SINGLE,c=YH(s,u);break;case"double-quoted-scalar":a=VC.Scalar.QUOTE_DOUBLE,c=QH(s,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[i,i+s.length,i+s.length]}}let f=i+s.length,g=GH.resolveEnd(o,f,e,n);return{value:c,type:a,comment:g.comment,range:[i,f,g.offset]}}function XH(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),OR(t)}function YH(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),OR(t.slice(1,-1)).replace(/''/g,"'")}function OR(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=e.exec(t);if(!i)return t;let r=i[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;i=n.exec(t);)i[1]===""?s===`
`?r+=s:s=`
`:(r+=s+i[1],s=" "),o=n.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,i=a.exec(t),r+s+(i?.[1]??"")}function QH(t,e){let n="";for(let i=1;i<t.length-1;++i){let r=t[i];if(!(r==="\r"&&t[i+1]===`
`))if(r===`
`){let{fold:s,offset:o}=ZH(t,i);n+=s,i=o}else if(r==="\\"){let s=t[++i],o=eV[s];if(o)n+=o;else if(s===`
`)for(s=t[i+1];s===" "||s==="	";)s=t[++i+1];else if(s==="\r"&&t[i+1]===`
`)for(s=t[++i+1];s===" "||s==="	";)s=t[++i+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];n+=tV(t,i+1,a,e),i+=a}else{let a=t.substr(i-1,2);e(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(r===" "||r==="	"){let s=i,o=t[i+1];for(;o===" "||o==="	";)o=t[++i+1];o!==`
`&&!(o==="\r"&&t[i+2]===`
`)&&(n+=i>s?t.slice(s,i+1):r)}else n+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function ZH(t,e){let n="",i=t[e+1];for(;(i===" "||i==="	"||i===`
`||i==="\r")&&!(i==="\r"&&t[e+2]!==`
`);)i===`
`&&(n+=`
`),e+=1,i=t[e+1];return n||(n=" "),{fold:n,offset:e}}var eV={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function tV(t,e,n,i){let r=t.substr(e,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){let a=t.substr(e-2,n+2);return i(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}MR.resolveFlowScalar=JH});var jR=F(UR=>{"use strict";var Co=Ye(),qR=Qt(),nV=HC(),iV=zC();function rV(t,e,n,i){let{value:r,type:s,comment:o,range:a}=e.type==="block-scalar"?nV.resolveBlockScalar(t,e,i):iV.resolveFlowScalar(e,t.options.strict,i),c=n?t.directives.tagName(n.source,g=>i(n,"TAG_RESOLVE_FAILED",g)):null,u;t.options.stringKeys&&t.atKey?u=t.schema[Co.SCALAR]:c?u=sV(t.schema,r,c,n,i):e.type==="scalar"?u=oV(t,r,e,i):u=t.schema[Co.SCALAR];let f;try{let g=u.resolve(r,p=>i(n??e,"TAG_RESOLVE_FAILED",p),t.options);f=Co.isScalar(g)?g:new qR.Scalar(g)}catch(g){let p=g instanceof Error?g.message:String(g);i(n??e,"TAG_RESOLVE_FAILED",p),f=new qR.Scalar(r)}return f.range=a,f.source=r,s&&(f.type=s),c&&(f.tag=c),u.format&&(f.format=u.format),o&&(f.comment=o),f}function sV(t,e,n,i,r){if(n==="!")return t[Co.SCALAR];let s=[];for(let a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(e))return a;let o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Co.SCALAR])}function oV({atKey:t,directives:e,schema:n},i,r,s){let o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(i))||n[Co.SCALAR];if(n.compat){let a=n.compat.find(c=>c.default&&c.test?.test(i))??n[Co.SCALAR];if(o.tag!==a.tag){let c=e.tagString(o.tag),u=e.tagString(a.tag),f=`Value may be parsed as either ${c} or ${u}`;s(r,"TAG_RESOLVE_FAILED",f,!0)}}return o}UR.composeScalar=rV});var WR=F(BR=>{"use strict";function aV(t,e,n){if(e){n===null&&(n=e.length);for(let i=n-1;i>=0;--i){let r=e[i];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++i];r?.type==="space";)t+=r.source.length,r=e[++i];break}}return t}BR.emptyScalarPosition=aV});var HR=F(JC=>{"use strict";var cV=lu(),uV=Ye(),lV=NR(),KR=jR(),dV=Sa(),fV=WR(),pV={composeNode:$R,composeEmptyNode:GC};function $R(t,e,n,i){let r=t.atKey,{spaceBefore:s,comment:o,anchor:a,tag:c}=n,u,f=!0;switch(e.type){case"alias":u=hV(t,e,i),(a||c)&&i(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=KR.composeScalar(t,e,c,i),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=lV.composeCollection(pV,t,e,n,i),a&&(u.anchor=a.source.substring(1));break;default:{let g=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;i(e,"UNEXPECTED_TOKEN",g),u=GC(t,e.offset,void 0,null,n,i),f=!1}}return a&&u.anchor===""&&i(a,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!uV.isScalar(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&i(c??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?u.comment=o:u.commentBefore=o),t.options.keepSourceTokens&&f&&(u.srcToken=e),u}function GC(t,e,n,i,{spaceBefore:r,comment:s,anchor:o,tag:a,end:c},u){let f={type:"scalar",offset:fV.emptyScalarPosition(e,n,i),indent:-1,source:""},g=KR.composeScalar(t,f,a,u);return o&&(g.anchor=o.source.substring(1),g.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(g.spaceBefore=!0),s&&(g.comment=s,g.range[2]=c),g}function hV({options:t},{offset:e,source:n,end:i},r){let s=new cV.Alias(n.substring(1));s.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+n.length,a=dV.resolveEnd(i,o,t.strict,r);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}JC.composeEmptyNode=GC;JC.composeNode=$R});var GR=F(zR=>{"use strict";var gV=ku(),VR=HR(),mV=Sa(),yV=Au();function CV(t,e,{offset:n,start:i,value:r,end:s},o){let a=Object.assign({_directives:e},t),c=new gV.Document(void 0,a),u={atKey:!1,atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},f=yV.resolveProps(i,{indicator:"doc-start",next:r??s?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(c.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=r?VR.composeNode(u,r,f,o):VR.composeEmptyNode(u,f.end,i,null,f,o);let g=c.contents.range[2],p=mV.resolveEnd(s,g,!1,o);return p.comment&&(c.comment=p.comment),c.range=[n,g,p.offset],c}zR.composeDoc=CV});var YC=F(YR=>{"use strict";var vV=require("node:process"),SV=Oy(),bV=ku(),Iu=Ru(),JR=Ye(),DV=GR(),TV=Sa();function _u(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function XR(t){let e="",n=!1,i=!1;for(let r=0;r<t.length;++r){let s=t[r];switch(s[0]){case"#":e+=(e===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:e,afterEmptyLine:i}}var XC=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,i,r,s)=>{let o=_u(n);s?this.warnings.push(new Iu.YAMLWarning(o,i,r)):this.errors.push(new Iu.YAMLParseError(o,i,r))},this.directives=new SV.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,n){let{comment:i,afterEmptyLine:r}=XR(this.prelude);if(i){let s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${i}`:i;else if(r||e.directives.docStart||!s)e.commentBefore=i;else if(JR.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];JR.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${i}
${a}`:i}else{let o=s.commentBefore;s.commentBefore=o?`${i}
${o}`:i}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:XR(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,i=-1){for(let r of e)yield*this.next(r);yield*this.end(n,i)}*next(e){switch(vV.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(n,i,r)=>{let s=_u(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",i,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let n=DV.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,i=new Iu.YAMLParseError(_u(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case"doc-end":{if(!this.doc){let i="Unexpected doc-end without preceding document";this.errors.push(new Iu.YAMLParseError(_u(e),"UNEXPECTED_TOKEN",i));break}this.doc.directives.docEnd=!0;let n=TV.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let i=this.doc.comment;this.doc.comment=i?`${i}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Iu.YAMLParseError(_u(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let i=Object.assign({_directives:this.directives},this.options),r=new bV.Document(void 0,i);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}};YR.Composer=XC});var eA=F(Rf=>{"use strict";var wV=HC(),xV=zC(),EV=Ru(),QR=gu();function kV(t,e=!0,n){if(t){let i=(r,s,o)=>{let a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(n)n(a,s,o);else throw new EV.YAMLParseError([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return xV.resolveFlowScalar(t,e,i);case"block-scalar":return wV.resolveBlockScalar({options:{strict:e}},t,i)}}return null}function FV(t,e){let{implicitKey:n=!1,indent:i,inFlow:r=!1,offset:s=-1,type:o="PLAIN"}=e,a=QR.stringifyString({type:o,value:t},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:i,source:`
`}];switch(a[0]){case"|":case">":{let u=a.indexOf(`
`),f=a.substring(0,u),g=a.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:i,source:f}];return ZR(p,c)||p.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:p,source:g}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:a,end:c};default:return{type:"scalar",offset:s,indent:i,source:a,end:c}}}function PV(t,e,n={}){let{afterKey:i=!1,implicitKey:r=!1,inFlow:s=!1,type:o}=n,a="indent"in t?t.indent:null;if(i&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let c=QR.stringifyString({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":RV(t,c);break;case'"':QC(t,c,"double-quoted-scalar");break;case"'":QC(t,c,"single-quoted-scalar");break;default:QC(t,c,"scalar")}}function RV(t,e){let n=e.indexOf(`
`),i=e.substring(0,n),r=e.substring(n+1)+`
`;if(t.type==="block-scalar"){let s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=i,t.source=r}else{let{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:i}];ZR(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:r})}}function ZR(t,e){if(e)for(let n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function QC(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{let i=t.props.slice(1),r=e.length;t.props[0].type==="block-scalar-header"&&(r-=t.props[0].source.length);for(let s of i)s.offset+=r;delete t.props,Object.assign(t,{type:n,source:e,end:i});break}case"block-map":case"block-seq":{let r={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[r]});break}default:{let i="indent"in t?t.indent:-1,r="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:n,indent:i,source:e,end:r})}}}Rf.createScalarToken=FV;Rf.resolveAsScalar=kV;Rf.setScalarValue=PV});var nA=F(tA=>{"use strict";var AV=t=>"type"in t?If(t):Af(t);function If(t){switch(t.type){case"block-scalar":{let e="";for(let n of t.props)e+=If(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(let n of t.items)e+=Af(n);return e}case"flow-collection":{let e=t.start.source;for(let n of t.items)e+=Af(n);for(let n of t.end)e+=n.source;return e}case"document":{let e=Af(t);if(t.end)for(let n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let n of t.end)e+=n.source;return e}}}function Af({start:t,key:e,sep:n,value:i}){let r="";for(let s of t)r+=s.source;if(e&&(r+=If(e)),n)for(let s of n)r+=s.source;return i&&(r+=If(i)),r}tA.stringify=AV});var oA=F(sA=>{"use strict";var ZC=Symbol("break visit"),IV=Symbol("skip children"),iA=Symbol("remove item");function vo(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),rA(Object.freeze([]),t,e)}vo.BREAK=ZC;vo.SKIP=IV;vo.REMOVE=iA;vo.itemAtPath=(t,e)=>{let n=t;for(let[i,r]of e){let s=n?.[i];if(s&&"items"in s)n=s.items[r];else return}return n};vo.parentCollection=(t,e)=>{let n=vo.itemAtPath(t,e.slice(0,-1)),i=e[e.length-1][0],r=n?.[i];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function rA(t,e,n){let i=n(e,t);if(typeof i=="symbol")return i;for(let r of["key","value"]){let s=e[r];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=rA(Object.freeze(t.concat([[r,o]])),s.items[o],n);if(typeof a=="number")o=a-1;else{if(a===ZC)return ZC;a===iA&&(s.items.splice(o,1),o-=1)}}typeof i=="function"&&r==="key"&&(i=i(e,t))}}return typeof i=="function"?i(e,t):i}sA.visit=vo});var _f=F(ni=>{"use strict";var ev=eA(),_V=nA(),NV=oA(),tv="\uFEFF",nv="",iv="",rv="",LV=t=>!!t&&"items"in t,OV=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function MV(t){switch(t){case tv:return"<BOM>";case nv:return"<DOC>";case iv:return"<FLOW_END>";case rv:return"<SCALAR>";default:return JSON.stringify(t)}}function qV(t){switch(t){case tv:return"byte-order-mark";case nv:return"doc-mode";case iv:return"flow-error-end";case rv:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}ni.createScalarToken=ev.createScalarToken;ni.resolveAsScalar=ev.resolveAsScalar;ni.setScalarValue=ev.setScalarValue;ni.stringify=_V.stringify;ni.visit=NV.visit;ni.BOM=tv;ni.DOCUMENT=nv;ni.FLOW_END=iv;ni.SCALAR=rv;ni.isCollection=LV;ni.isScalar=OV;ni.prettyToken=MV;ni.tokenType=qV});var av=F(cA=>{"use strict";var Nu=_f();function Zi(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var aA=new Set("0123456789ABCDEFabcdef"),UV=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Nf=new Set(",[]{}"),jV=new Set(` ,[]{}
\r	`),sv=t=>!t||jV.has(t),ov=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let i=this.next??"stream";for(;i&&(n||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let i=0;for(;n===" ";)n=this.buffer[++i+e];if(n==="\r"){let r=this.buffer[i+e+1];if(r===`
`||!r&&!this.atEnd)return e+i+1}return n===`
`||i>=this.indentNext||!n&&!this.atEnd?e+i:-1}if(n==="-"||n==="."){let i=this.buffer.substr(e,3);if((i==="---"||i==="...")&&Zi(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Nu.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,i=e.indexOf("#");for(;i!==-1;){let s=e[i-1];if(s===" "||s==="	"){n=i-1;break}else i=e.indexOf("#",i+1)}for(;;){let s=e[n-1];if(s===" "||s==="	")n-=1;else break}let r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Nu.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if((n==="---"||n==="...")&&Zi(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Zi(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Zi(n)){let i=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=i,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(sv),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,i=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=i=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);let r=this.getLine();if(r===null)return this.setNext("flow");if((i!==-1&&i<this.indentNext&&r[0]!=="#"||i===0&&(r.startsWith("---")||r.startsWith("..."))&&Zi(r[3]))&&!(i===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield Nu.FLOW_END,yield*this.parseLineStart();let s=0;for(;r[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),r[s]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(sv),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||Zi(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}let i=this.buffer.substring(0,n),r=i.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){let s=this.continueScalar(r+1);if(s===-1)break;r=i.indexOf(`
`,s)}r!==-1&&(n=r-(i[r-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Zi(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,i;e:for(let s=this.pos;i=this.buffer[s];++s)switch(i){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!i&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(i=this.buffer[r];i===" ";)i=this.buffer[++r];if(i==="	"){for(;i==="	"||i===" "||i==="\r"||i===`
`;)i=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)e=s;else break}while(!0);return yield Nu.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,n=this.pos-1,i=this.pos-1,r;for(;r=this.buffer[++i];)if(r===":"){let s=this.buffer[i+1];if(Zi(s)||e&&Nf.has(s))break;n=i}else if(Zi(r)){let s=this.buffer[i+1];if(r==="\r"&&(s===`
`?(i+=1,r=`
`,s=this.buffer[i+1]):n=i),s==="#"||e&&Nf.has(s))break;if(r===`
`){let o=this.continueScalar(i+1);if(o===-1)break;i=Math.max(i,o-2)}}else{if(e&&Nf.has(r))break;n=i}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Nu.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){let i=this.buffer.slice(this.pos,e);return i?(yield i,this.pos+=i.length,i.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(sv))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,n=this.charAt(1);if(Zi(n)||e&&Nf.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Zi(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(UV.has(n))n=this.buffer[++e];else if(n==="%"&&aA.has(this.buffer[e+1])&&aA.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,i;do i=this.buffer[++n];while(i===" "||e&&i==="	");let r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,i=this.buffer[n];for(;!e(i);)i=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};cA.Lexer=ov});var uv=F(uA=>{"use strict";var cv=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,i=this.lineStarts.length;for(;n<i;){let s=n+i>>1;this.lineStarts[s]<e?n=s+1:i=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};let r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}};uA.LineCounter=cv});var dv=F(hA=>{"use strict";var BV=require("node:process"),lA=_f(),WV=av();function So(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function dA(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function pA(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Lf(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function ba(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function fA(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!So(e.start,"explicit-key-ind")&&!So(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,pA(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var lv=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new WV.Lexer,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let i of this.lexer.lex(e,n))yield*this.next(i);n||(yield*this.end())}*next(e){if(this.source=e,BV.env.LOG_TOKENS&&console.log("|",lA.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let n=lA.tokenType(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let i=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:i,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{let i=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in i?i.indent:0:n.type==="flow-collection"&&i.type==="document"&&(n.indent=0),n.type==="flow-collection"&&fA(n),i.type){case"document":i.value=n;break;case"block-scalar":i.props.push(n);break;case"block-map":{let r=i.items[i.items.length-1];if(r.value){i.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{let r=i.items[i.items.length-1];r.value?i.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{let r=i.items[i.items.length-1];!r||r.value?i.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((i.type==="document"||i.type==="block-map"||i.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&dA(r.start)===-1&&(n.indent===0||r.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(i.type==="document"?i.end=r.start:i.items.push({start:r.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{dA(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let n=Lf(this.peek(2)),i=ba(n),r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let i=!this.onKeyLine&&this.indent===e.indent,r=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind",s=[];if(r&&n.sep&&!n.value){let o=[];for(let a=0;a<n.sep.length;++a){let c=n.sep[a];switch(c.type){case"newline":o.push(a);break;case"space":break;case"comment":c.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(So(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(pA(n.key)&&!So(n.sep,"newline")){let o=ba(n.start),a=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:c}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(So(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let o=ba(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:s,key:null,sep:[this.sourceToken]}):So(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);r||n.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){i&&o.type!=="block-seq"&&e.items.push({start:s}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||So(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let i;do yield*this.pop(),i=this.peek(1);while(i&&i.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let i=this.startBlockValue(e);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{let i=this.peek(2);if(i.type==="block-map"&&(this.type==="map-value-ind"&&i.indent===e.indent||this.type==="newline"&&!i.items[i.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&i.type!=="flow-collection"){let r=Lf(i),s=ba(r);fA(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=Lf(e),i=ba(n);return i.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let n=Lf(e),i=ba(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(i=>i.type==="newline"||i.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};hA.Parser=lv});var vA=F(Ou=>{"use strict";var gA=YC(),KV=ku(),Lu=Ru(),$V=Jy(),HV=Ye(),VV=uv(),mA=dv();function yA(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new VV.LineCounter||null,prettyErrors:e}}function zV(t,e={}){let{lineCounter:n,prettyErrors:i}=yA(e),r=new mA.Parser(n?.addNewLine),s=new gA.Composer(e),o=Array.from(s.compose(r.parse(t)));if(i&&n)for(let a of o)a.errors.forEach(Lu.prettifyError(t,n)),a.warnings.forEach(Lu.prettifyError(t,n));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function CA(t,e={}){let{lineCounter:n,prettyErrors:i}=yA(e),r=new mA.Parser(n?.addNewLine),s=new gA.Composer(e),o=null;for(let a of s.compose(r.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Lu.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return i&&n&&(o.errors.forEach(Lu.prettifyError(t,n)),o.warnings.forEach(Lu.prettifyError(t,n))),o}function GV(t,e,n){let i;typeof e=="function"?i=e:n===void 0&&e&&typeof e=="object"&&(n=e);let r=CA(t,n);if(!r)return null;if(r.warnings.forEach(s=>$V.warn(r.options.logLevel,s)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:i},n))}function JV(t,e,n){let i=null;if(typeof e=="function"||Array.isArray(e)?i=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){let r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){let{keepUndefined:r}=n??e??{};if(!r)return}return HV.isDocument(t)&&!i?t.toString(n):new KV.Document(t,i,n).toString(n)}Ou.parse=GV;Ou.parseAllDocuments=zV;Ou.parseDocument=CA;Ou.stringify=JV});var bA=F(dt=>{"use strict";var XV=YC(),YV=ku(),QV=AC(),fv=Ru(),ZV=lu(),ys=Ye(),e8=ps(),t8=Qt(),n8=gs(),i8=ms(),r8=_f(),s8=av(),o8=uv(),a8=dv(),Of=vA(),SA=ou();dt.Composer=XV.Composer;dt.Document=YV.Document;dt.Schema=QV.Schema;dt.YAMLError=fv.YAMLError;dt.YAMLParseError=fv.YAMLParseError;dt.YAMLWarning=fv.YAMLWarning;dt.Alias=ZV.Alias;dt.isAlias=ys.isAlias;dt.isCollection=ys.isCollection;dt.isDocument=ys.isDocument;dt.isMap=ys.isMap;dt.isNode=ys.isNode;dt.isPair=ys.isPair;dt.isScalar=ys.isScalar;dt.isSeq=ys.isSeq;dt.Pair=e8.Pair;dt.Scalar=t8.Scalar;dt.YAMLMap=n8.YAMLMap;dt.YAMLSeq=i8.YAMLSeq;dt.CST=r8;dt.Lexer=s8.Lexer;dt.LineCounter=o8.LineCounter;dt.Parser=a8.Parser;dt.parse=Of.parse;dt.parseAllDocuments=Of.parseAllDocuments;dt.parseDocument=Of.parseDocument;dt.stringify=Of.stringify;dt.visit=SA.visit;dt.visitAsync=SA.visitAsync});var Oi=F(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.asPromise=Ht.thenable=Ht.typedArray=Ht.stringArray=Ht.array=Ht.func=Ht.error=Ht.number=Ht.string=Ht.boolean=void 0;function B8(t){return t===!0||t===!1}Ht.boolean=B8;function MA(t){return typeof t=="string"||t instanceof String}Ht.string=MA;function W8(t){return typeof t=="number"||t instanceof Number}Ht.number=W8;function K8(t){return t instanceof Error}Ht.error=K8;function qA(t){return typeof t=="function"}Ht.func=qA;function UA(t){return Array.isArray(t)}Ht.array=UA;function $8(t){return UA(t)&&t.every(e=>MA(e))}Ht.stringArray=$8;function H8(t,e){return Array.isArray(t)&&t.every(e)}Ht.typedArray=H8;function jA(t){return t&&qA(t.then)}Ht.thenable=jA;function V8(t){return t instanceof Promise?t:jA(t)?new Promise((e,n)=>{t.then(i=>e(i),i=>n(i))}):Promise.resolve(t)}Ht.asPromise=V8});var wa=F(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.stringArray=xn.array=xn.func=xn.error=xn.number=xn.string=xn.boolean=void 0;function z8(t){return t===!0||t===!1}xn.boolean=z8;function BA(t){return typeof t=="string"||t instanceof String}xn.string=BA;function G8(t){return typeof t=="number"||t instanceof Number}xn.number=G8;function J8(t){return t instanceof Error}xn.error=J8;function X8(t){return typeof t=="function"}xn.func=X8;function WA(t){return Array.isArray(t)}xn.array=WA;function Y8(t){return WA(t)&&t.every(e=>BA(e))}xn.stringArray=Y8});var Zv=F(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.Message=De.NotificationType9=De.NotificationType8=De.NotificationType7=De.NotificationType6=De.NotificationType5=De.NotificationType4=De.NotificationType3=De.NotificationType2=De.NotificationType1=De.NotificationType0=De.NotificationType=De.RequestType9=De.RequestType8=De.RequestType7=De.RequestType6=De.RequestType5=De.RequestType4=De.RequestType3=De.RequestType2=De.RequestType1=De.RequestType=De.RequestType0=De.AbstractMessageSignature=De.ParameterStructures=De.ResponseError=De.ErrorCodes=void 0;var bo=wa(),Pv;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Pv||(De.ErrorCodes=Pv={}));var Rv=class t extends Error{constructor(e,n,i){super(n),this.code=bo.number(e)?e:Pv.UnknownErrorCode,this.data=i,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};De.ResponseError=Rv;var ii=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};De.ParameterStructures=ii;ii.auto=new ii("auto");ii.byPosition=new ii("byPosition");ii.byName=new ii("byName");var bt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return ii.auto}};De.AbstractMessageSignature=bt;var Av=class extends bt{constructor(e){super(e,0)}};De.RequestType0=Av;var Iv=class extends bt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.RequestType=Iv;var _v=class extends bt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.RequestType1=_v;var Nv=class extends bt{constructor(e){super(e,2)}};De.RequestType2=Nv;var Lv=class extends bt{constructor(e){super(e,3)}};De.RequestType3=Lv;var Ov=class extends bt{constructor(e){super(e,4)}};De.RequestType4=Ov;var Mv=class extends bt{constructor(e){super(e,5)}};De.RequestType5=Mv;var qv=class extends bt{constructor(e){super(e,6)}};De.RequestType6=qv;var Uv=class extends bt{constructor(e){super(e,7)}};De.RequestType7=Uv;var jv=class extends bt{constructor(e){super(e,8)}};De.RequestType8=jv;var Bv=class extends bt{constructor(e){super(e,9)}};De.RequestType9=Bv;var Wv=class extends bt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.NotificationType=Wv;var Kv=class extends bt{constructor(e){super(e,0)}};De.NotificationType0=Kv;var $v=class extends bt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.NotificationType1=$v;var Hv=class extends bt{constructor(e){super(e,2)}};De.NotificationType2=Hv;var Vv=class extends bt{constructor(e){super(e,3)}};De.NotificationType3=Vv;var zv=class extends bt{constructor(e){super(e,4)}};De.NotificationType4=zv;var Gv=class extends bt{constructor(e){super(e,5)}};De.NotificationType5=Gv;var Jv=class extends bt{constructor(e){super(e,6)}};De.NotificationType6=Jv;var Xv=class extends bt{constructor(e){super(e,7)}};De.NotificationType7=Xv;var Yv=class extends bt{constructor(e){super(e,8)}};De.NotificationType8=Yv;var Qv=class extends bt{constructor(e){super(e,9)}};De.NotificationType9=Qv;var KA;(function(t){function e(r){let s=r;return s&&bo.string(s.method)&&(bo.string(s.id)||bo.number(s.id))}t.isRequest=e;function n(r){let s=r;return s&&bo.string(s.method)&&r.id===void 0}t.isNotification=n;function i(r){let s=r;return s&&(s.result!==void 0||!!s.error)&&(bo.string(s.id)||bo.number(s.id)||s.id===null)}t.isResponse=i})(KA||(De.Message=KA={}))});var tS=F(Ss=>{"use strict";var $A;Object.defineProperty(Ss,"__esModule",{value:!0});Ss.LRUCache=Ss.LinkedMap=Ss.Touch=void 0;var En;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(En||(Ss.Touch=En={}));var Vf=class{constructor(){this[$A]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=En.None){let i=this._map.get(e);if(i)return n!==En.None&&this.touch(i,n),i.value}set(e,n,i=En.None){let r=this._map.get(e);if(r)r.value=n,i!==En.None&&this.touch(r,i);else{switch(r={key:e,value:n,next:void 0,previous:void 0},i){case En.None:this.addItemLast(r);break;case En.First:this.addItemFirst(r);break;case En.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let i=this._state,r=this._head;for(;r;){if(n?e.bind(n)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.key,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}values(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.value,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}entries(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:[n.key,n.value],done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}[($A=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,i=e.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==En.First&&n!==En.Last)){if(n===En.First){if(e===this._head)return;let i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===En.Last){if(e===this._tail)return;let i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,i)=>{e.push([i,n])}),e}fromJSON(e){this.clear();for(let[n,i]of e)this.set(n,i)}};Ss.LinkedMap=Vf;var eS=class extends Vf{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=En.AsNew){return super.get(e,n)}peek(e){return super.get(e,En.None)}set(e,n){return super.set(e,n,En.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ss.LRUCache=eS});var VA=F(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.Disposable=void 0;var HA;(function(t){function e(n){return{dispose:n}}t.create=e})(HA||(zf.Disposable=HA={}))});var bs=F(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});var nS;function iS(){if(nS===void 0)throw new Error("No runtime abstraction layer installed");return nS}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");nS=n}t.install=e})(iS||(iS={}));rS.default=iS});var Ea=F(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.Emitter=xa.Event=void 0;var Q8=bs(),zA;(function(t){let e={dispose(){}};t.None=function(){return e}})(zA||(xa.Event=zA={}));var sS=class{add(e,n=null,i){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(i)&&i.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let i=!1;for(let r=0,s=this._callbacks.length;r<s;r++)if(this._callbacks[r]===e)if(this._contexts[r]===n){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else i=!0;if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],i=this._callbacks.slice(0),r=this._contexts.slice(0);for(let s=0,o=i.length;s<o;s++)try{n.push(i[s].apply(r[s],e))}catch(a){(0,Q8.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Gf=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,i)=>{this._callbacks||(this._callbacks=new sS),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),r.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};xa.Emitter=Gf;Gf._noop=function(){}});var Yf=F(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.CancellationTokenSource=ka.CancellationToken=void 0;var Z8=bs(),ez=wa(),oS=Ea(),Jf;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:oS.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:oS.Event.None});function e(n){let i=n;return i&&(i===t.None||i===t.Cancelled||ez.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}t.is=e})(Jf||(ka.CancellationToken=Jf={}));var tz=Object.freeze(function(t,e){let n=(0,Z8.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),Xf=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?tz:(this._emitter||(this._emitter=new oS.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},aS=class{get token(){return this._token||(this._token=new Xf),this._token}cancel(){this._token?this._token.cancel():this._token=Jf.Cancelled}dispose(){this._token?this._token instanceof Xf&&this._token.dispose():this._token=Jf.None}};ka.CancellationTokenSource=aS});var GA=F(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.SharedArrayReceiverStrategy=Fa.SharedArraySenderStrategy=void 0;var nz=Yf(),Bu;(function(t){t.Continue=0,t.Cancelled=1})(Bu||(Bu={}));var cS=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),i=new Int32Array(n,0,1);i[0]=Bu.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let i=this.buffers.get(n);if(i===void 0)return;let r=new Int32Array(i,0,1);Atomics.store(r,0,Bu.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Fa.SharedArraySenderStrategy=cS;var uS=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Bu.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},lS=class{constructor(e){this.token=new uS(e)}cancel(){}dispose(){}},dS=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new nz.CancellationTokenSource:new lS(n)}};Fa.SharedArrayReceiverStrategy=dS});var pS=F(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Semaphore=void 0;var iz=bs(),fS=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,iz.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Qf.Semaphore=fS});var XA=F(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.ReadableStreamMessageReader=Ds.AbstractMessageReader=Ds.MessageReader=void 0;var gS=bs(),Pa=wa(),hS=Ea(),rz=pS(),JA;(function(t){function e(n){let i=n;return i&&Pa.func(i.listen)&&Pa.func(i.dispose)&&Pa.func(i.onError)&&Pa.func(i.onClose)&&Pa.func(i.onPartialMessage)}t.is=e})(JA||(Ds.MessageReader=JA={}));var Zf=class{constructor(){this.errorEmitter=new hS.Emitter,this.closeEmitter=new hS.Emitter,this.partialMessageEmitter=new hS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Pa.string(e.message)?e.message:"unknown"}`)}};Ds.AbstractMessageReader=Zf;var mS;(function(t){function e(n){let i,r,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,gS.default)().applicationJson.decoder,c.set(a.name,a)),{charset:i,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(mS||(mS={}));var yS=class extends Zf{constructor(e,n){super(),this.readable=e,this.options=mS.fromOptions(n),this.buffer=(0,gS.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new rz.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(i=>{this.onData(i)});return this.readable.onError(i=>this.fireError(i)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders(!0);if(!i)return;let r=i.get("content-length");if(!r){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(i))}`));return}let s=parseInt(r);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${r}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let i=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,r=await this.options.contentTypeDecoder.decode(i,this.options);this.callback(r)}).catch(i=>{this.fireError(i)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,gS.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ds.ReadableStreamMessageReader=yS});var tI=F(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.WriteableStreamMessageWriter=Ts.AbstractMessageWriter=Ts.MessageWriter=void 0;var YA=bs(),Wu=wa(),sz=pS(),QA=Ea(),oz="Content-Length: ",ZA=`\r
`,eI;(function(t){function e(n){let i=n;return i&&Wu.func(i.dispose)&&Wu.func(i.onClose)&&Wu.func(i.onError)&&Wu.func(i.write)}t.is=e})(eI||(Ts.MessageWriter=eI={}));var ep=class{constructor(){this.errorEmitter=new QA.Emitter,this.closeEmitter=new QA.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,i){this.errorEmitter.fire([this.asError(e),n,i])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Wu.string(e.message)?e.message:"unknown"}`)}};Ts.AbstractMessageWriter=ep;var CS;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,YA.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,YA.default)().applicationJson.encoder}}t.fromOptions=e})(CS||(CS={}));var vS=class extends ep{constructor(e,n){super(),this.writable=e,this.options=CS.fromOptions(n),this.errorCount=0,this.writeSemaphore=new sz.Semaphore(1),this.writable.onError(i=>this.fireError(i)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(i=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(i):i).then(i=>{let r=[];return r.push(oz,i.byteLength.toString(),ZA),r.push(ZA),this.doWrite(e,r,i)},i=>{throw this.fireError(i),i}))}async doWrite(e,n,i){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(i)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Ts.WriteableStreamMessageWriter=vS});var nI=F(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.AbstractMessageBuffer=void 0;var az=13,cz=10,uz=`\r
`,SS=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,i=0,r=0,s=0;e:for(;i<this._chunks.length;){let u=this._chunks[i];for(r=0;r<u.length;){switch(u[r]){case az:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case cz:switch(n){case 1:n=2;break;case 3:n=4,r++;break e;default:n=0}break;default:n=0}r++}s+=u.byteLength,i++}if(n!==4)return;let o=this._read(s+r),a=new Map,c=this.toString(o,"ascii").split(uz);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let f=c[u],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,g),l=f.substr(g+1).trim();a.set(e?p.toLowerCase():p,l)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),i=0,r=0;for(;e>0;){let s=this._chunks[r];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,i),i+=e,this._chunks[r]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};tp.AbstractMessageBuffer=SS});var aI=F(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.createMessageConnection=Le.ConnectionOptions=Le.MessageStrategy=Le.CancellationStrategy=Le.CancellationSenderStrategy=Le.CancellationReceiverStrategy=Le.RequestCancellationReceiverStrategy=Le.IdCancellationReceiverStrategy=Le.ConnectionStrategy=Le.ConnectionError=Le.ConnectionErrors=Le.LogTraceNotification=Le.SetTraceNotification=Le.TraceFormat=Le.TraceValues=Le.Trace=Le.NullLogger=Le.ProgressType=Le.ProgressToken=void 0;var iI=bs(),Ot=wa(),Pe=Zv(),rI=tS(),Ku=Ea(),bS=Yf(),Vu;(function(t){t.type=new Pe.NotificationType("$/cancelRequest")})(Vu||(Vu={}));var DS;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(DS||(Le.ProgressToken=DS={}));var $u;(function(t){t.type=new Pe.NotificationType("$/progress")})($u||($u={}));var TS=class{constructor(){}};Le.ProgressType=TS;var wS;(function(t){function e(n){return Ot.func(n)}t.is=e})(wS||(wS={}));Le.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var st;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(st||(Le.Trace=st={}));var sI;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(sI||(Le.TraceValues=sI={}));(function(t){function e(i){if(!Ot.string(i))return t.Off;switch(i=i.toLowerCase(),i){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(i){switch(i){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(st||(Le.Trace=st={}));var Ci;(function(t){t.Text="text",t.JSON="json"})(Ci||(Le.TraceFormat=Ci={}));(function(t){function e(n){return Ot.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Ci||(Le.TraceFormat=Ci={}));var xS;(function(t){t.type=new Pe.NotificationType("$/setTrace")})(xS||(Le.SetTraceNotification=xS={}));var np;(function(t){t.type=new Pe.NotificationType("$/logTrace")})(np||(Le.LogTraceNotification=np={}));var Hu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Hu||(Le.ConnectionErrors=Hu={}));var Ra=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Le.ConnectionError=Ra;var ES;(function(t){function e(n){let i=n;return i&&Ot.func(i.cancelUndispatched)}t.is=e})(ES||(Le.ConnectionStrategy=ES={}));var ip;(function(t){function e(n){let i=n;return i&&(i.kind===void 0||i.kind==="id")&&Ot.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Ot.func(i.dispose))}t.is=e})(ip||(Le.IdCancellationReceiverStrategy=ip={}));var kS;(function(t){function e(n){let i=n;return i&&i.kind==="request"&&Ot.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Ot.func(i.dispose))}t.is=e})(kS||(Le.RequestCancellationReceiverStrategy=kS={}));var rp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new bS.CancellationTokenSource}});function e(n){return ip.is(n)||kS.is(n)}t.is=e})(rp||(Le.CancellationReceiverStrategy=rp={}));var sp;(function(t){t.Message=Object.freeze({sendCancellation(n,i){return n.sendNotification(Vu.type,{id:i})},cleanup(n){}});function e(n){let i=n;return i&&Ot.func(i.sendCancellation)&&Ot.func(i.cleanup)}t.is=e})(sp||(Le.CancellationSenderStrategy=sp={}));var op;(function(t){t.Message=Object.freeze({receiver:rp.Message,sender:sp.Message});function e(n){let i=n;return i&&rp.is(i.receiver)&&sp.is(i.sender)}t.is=e})(op||(Le.CancellationStrategy=op={}));var ap;(function(t){function e(n){let i=n;return i&&Ot.func(i.handleMessage)}t.is=e})(ap||(Le.MessageStrategy=ap={}));var oI;(function(t){function e(n){let i=n;return i&&(op.is(i.cancellationStrategy)||ES.is(i.connectionStrategy)||ap.is(i.messageStrategy))}t.is=e})(oI||(Le.ConnectionOptions=oI={}));var er;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(er||(er={}));function lz(t,e,n,i){let r=n!==void 0?n:Le.NullLogger,s=0,o=0,a=0,c="2.0",u,f=new Map,g,p=new Map,l=new Map,d,h=new rI.LinkedMap,m=new Map,C=new Set,T=new Map,w=st.Off,k=Ci.Text,A,B=er.New,W=new Ku.Emitter,U=new Ku.Emitter,ie=new Ku.Emitter,ne=new Ku.Emitter,$=new Ku.Emitter,N=i&&i.cancellationStrategy?i.cancellationStrategy:op.Message;function H(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function te(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function K(){return"not-"+(++o).toString()}function G(v,P){Pe.Message.isRequest(P)?v.set(H(P.id),P):Pe.Message.isResponse(P)?v.set(te(P.id),P):v.set(K(),P)}function Q(v){}function ae(){return B===er.Listening}function se(){return B===er.Closed}function re(){return B===er.Disposed}function ye(){(B===er.New||B===er.Listening)&&(B=er.Closed,U.fire(void 0))}function ve(v){W.fire([v,void 0,void 0])}function $e(v){W.fire(v)}t.onClose(ye),t.onError(ve),e.onClose(ye),e.onError($e);function ke(){d||h.size===0||(d=(0,iI.default)().timer.setImmediate(()=>{d=void 0,wt()}))}function ht(v){Pe.Message.isRequest(v)?qn(v):Pe.Message.isNotification(v)?jn(v):Pe.Message.isResponse(v)?Un(v):Xn(v)}function wt(){if(h.size===0)return;let v=h.shift();try{let P=i?.messageStrategy;ap.is(P)?P.handleMessage(v,ht):ht(v)}finally{ke()}}let Jn=v=>{try{if(Pe.Message.isNotification(v)&&v.method===Vu.type.method){let P=v.params.id,q=H(P),z=h.get(q);if(Pe.Message.isRequest(z)){let ge=i?.connectionStrategy,we=ge&&ge.cancelUndispatched?ge.cancelUndispatched(z,Q):void 0;if(we&&(we.error!==void 0||we.result!==void 0)){h.delete(q),T.delete(P),we.id=z.id,rn(we,v.method,Date.now()),e.write(we).catch(()=>r.error("Sending response for canceled message failed."));return}}let Ce=T.get(P);if(Ce!==void 0){Ce.cancel(),cn(v);return}else C.add(P)}G(h,v)}finally{ke()}};function qn(v){if(re())return;function P(ue,Se,de){let L={jsonrpc:c,id:v.id};ue instanceof Pe.ResponseError?L.error=ue.toJson():L.result=ue===void 0?null:ue,rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}function q(ue,Se,de){let L={jsonrpc:c,id:v.id,error:ue.toJson()};rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}function z(ue,Se,de){ue===void 0&&(ue=null);let L={jsonrpc:c,id:v.id,result:ue};rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}Ri(v);let Ce=f.get(v.method),ge,we;Ce&&(ge=Ce.type,we=Ce.handler);let xe=Date.now();if(we||u){let ue=v.id??String(Date.now()),Se=ip.is(N.receiver)?N.receiver.createCancellationTokenSource(ue):N.receiver.createCancellationTokenSource(v);v.id!==null&&C.has(v.id)&&Se.cancel(),v.id!==null&&T.set(ue,Se);try{let de;if(we)if(v.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){q(new Pe.ResponseError(Pe.ErrorCodes.InvalidParams,`Request ${v.method} defines ${ge.numberOfParams} params but received none.`),v.method,xe);return}de=we(Se.token)}else if(Array.isArray(v.params)){if(ge!==void 0&&ge.parameterStructures===Pe.ParameterStructures.byName){q(new Pe.ResponseError(Pe.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,xe);return}de=we(...v.params,Se.token)}else{if(ge!==void 0&&ge.parameterStructures===Pe.ParameterStructures.byPosition){q(new Pe.ResponseError(Pe.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,xe);return}de=we(v.params,Se.token)}else u&&(de=u(v.method,v.params,Se.token));let L=de;de?L.then?L.then(M=>{T.delete(ue),P(M,v.method,xe)},M=>{T.delete(ue),M instanceof Pe.ResponseError?q(M,v.method,xe):M&&Ot.string(M.message)?q(new Pe.ResponseError(Pe.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${M.message}`),v.method,xe):q(new Pe.ResponseError(Pe.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}):(T.delete(ue),P(de,v.method,xe)):(T.delete(ue),z(de,v.method,xe))}catch(de){T.delete(ue),de instanceof Pe.ResponseError?P(de,v.method,xe):de&&Ot.string(de.message)?q(new Pe.ResponseError(Pe.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${de.message}`),v.method,xe):q(new Pe.ResponseError(Pe.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}}else q(new Pe.ResponseError(Pe.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,xe)}function Un(v){if(!re())if(v.id===null)v.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let P=v.id,q=m.get(P);if(Yn(v,q),q!==void 0){m.delete(P);try{if(v.error){let z=v.error;q.reject(new Pe.ResponseError(z.code,z.message,z.data))}else if(v.result!==void 0)q.resolve(v.result);else throw new Error("Should never happen.")}catch(z){z.message?r.error(`Response handler '${q.method}' failed with message: ${z.message}`):r.error(`Response handler '${q.method}' failed unexpectedly.`)}}}}function jn(v){if(re())return;let P,q;if(v.method===Vu.type.method){let z=v.params.id;C.delete(z),cn(v);return}else{let z=p.get(v.method);z&&(q=z.handler,P=z.type)}if(q||g)try{if(cn(v),q)if(v.params===void 0)P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==Pe.ParameterStructures.byName&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received none.`),q();else if(Array.isArray(v.params)){let z=v.params;v.method===$u.type.method&&z.length===2&&DS.is(z[0])?q({token:z[0],value:z[1]}):(P!==void 0&&(P.parameterStructures===Pe.ParameterStructures.byName&&r.error(`Notification ${v.method} defines parameters by name but received parameters by position`),P.numberOfParams!==v.params.length&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received ${z.length} arguments`)),q(...z))}else P!==void 0&&P.parameterStructures===Pe.ParameterStructures.byPosition&&r.error(`Notification ${v.method} defines parameters by position but received parameters by name`),q(v.params);else g&&g(v.method,v.params)}catch(z){z.message?r.error(`Notification handler '${v.method}' failed with message: ${z.message}`):r.error(`Notification handler '${v.method}' failed unexpectedly.`)}else ie.fire(v)}function Xn(v){if(!v){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let P=v;if(Ot.string(P.id)||Ot.number(P.id)){let q=P.id,z=m.get(q);z&&z.reject(new Error("The received response has neither a result nor an error property."))}}function nt(v){if(v!=null)switch(w){case st.Verbose:return JSON.stringify(v,null,4);case st.Compact:return JSON.stringify(v);default:return}}function pi(v){if(!(w===st.Off||!A))if(k===Ci.Text){let P;(w===st.Verbose||w===st.Compact)&&v.params&&(P=`Params: ${nt(v.params)}

`),A.log(`Sending request '${v.method} - (${v.id})'.`,P)}else lt("send-request",v)}function Bn(v){if(!(w===st.Off||!A))if(k===Ci.Text){let P;(w===st.Verbose||w===st.Compact)&&(v.params?P=`Params: ${nt(v.params)}

`:P=`No parameters provided.

`),A.log(`Sending notification '${v.method}'.`,P)}else lt("send-notification",v)}function rn(v,P,q){if(!(w===st.Off||!A))if(k===Ci.Text){let z;(w===st.Verbose||w===st.Compact)&&(v.error&&v.error.data?z=`Error data: ${nt(v.error.data)}

`:v.result?z=`Result: ${nt(v.result)}

`:v.error===void 0&&(z=`No result returned.

`)),A.log(`Sending response '${P} - (${v.id})'. Processing request took ${Date.now()-q}ms`,z)}else lt("send-response",v)}function Ri(v){if(!(w===st.Off||!A))if(k===Ci.Text){let P;(w===st.Verbose||w===st.Compact)&&v.params&&(P=`Params: ${nt(v.params)}

`),A.log(`Received request '${v.method} - (${v.id})'.`,P)}else lt("receive-request",v)}function cn(v){if(!(w===st.Off||!A||v.method===np.type.method))if(k===Ci.Text){let P;(w===st.Verbose||w===st.Compact)&&(v.params?P=`Params: ${nt(v.params)}

`:P=`No parameters provided.

`),A.log(`Received notification '${v.method}'.`,P)}else lt("receive-notification",v)}function Yn(v,P){if(!(w===st.Off||!A))if(k===Ci.Text){let q;if((w===st.Verbose||w===st.Compact)&&(v.error&&v.error.data?q=`Error data: ${nt(v.error.data)}

`:v.result?q=`Result: ${nt(v.result)}

`:v.error===void 0&&(q=`No result returned.

`)),P){let z=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";A.log(`Received response '${P.method} - (${v.id})' in ${Date.now()-P.timerStart}ms.${z}`,q)}else A.log(`Received response ${v.id} without active response promise.`,q)}else lt("receive-response",v)}function lt(v,P){if(!A||w===st.Off)return;let q={isLSPMessage:!0,type:v,message:P,timestamp:Date.now()};A.log(q)}function xt(){if(se())throw new Ra(Hu.Closed,"Connection is closed.");if(re())throw new Ra(Hu.Disposed,"Connection is disposed.")}function Gt(){if(ae())throw new Ra(Hu.AlreadyListening,"Connection is already listening")}function mn(){if(!ae())throw new Error("Call listen() first.")}function Wt(v){return v===void 0?null:v}function Wn(v){if(v!==null)return v}function Qn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function yn(v,P){switch(v){case Pe.ParameterStructures.auto:return Qn(P)?Wn(P):[Wt(P)];case Pe.ParameterStructures.byName:if(!Qn(P))throw new Error("Received parameters by name but param is not an object literal.");return Wn(P);case Pe.ParameterStructures.byPosition:return[Wt(P)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Zn(v,P){let q,z=v.numberOfParams;switch(z){case 0:q=void 0;break;case 1:q=yn(v.parameterStructures,P[0]);break;default:q=[];for(let Ce=0;Ce<P.length&&Ce<z;Ce++)q.push(Wt(P[Ce]));if(P.length<z)for(let Ce=P.length;Ce<z;Ce++)q.push(null);break}return q}let Et={sendNotification:(v,...P)=>{xt();let q,z;if(Ot.string(v)){q=v;let ge=P[0],we=0,xe=Pe.ParameterStructures.auto;Pe.ParameterStructures.is(ge)&&(we=1,xe=ge);let ue=P.length,Se=ue-we;switch(Se){case 0:z=void 0;break;case 1:z=yn(xe,P[we]);break;default:if(xe===Pe.ParameterStructures.byName)throw new Error(`Received ${Se} parameters for 'by Name' notification parameter structure.`);z=P.slice(we,ue).map(de=>Wt(de));break}}else{let ge=P;q=v.method,z=Zn(v,ge)}let Ce={jsonrpc:c,method:q,params:z};return Bn(Ce),e.write(Ce).catch(ge=>{throw r.error("Sending notification failed."),ge})},onNotification:(v,P)=>{xt();let q;return Ot.func(v)?g=v:P&&(Ot.string(v)?(q=v,p.set(v,{type:void 0,handler:P})):(q=v.method,p.set(v.method,{type:v,handler:P}))),{dispose:()=>{q!==void 0?p.delete(q):g=void 0}}},onProgress:(v,P,q)=>{if(l.has(P))throw new Error(`Progress handler for token ${P} already registered`);return l.set(P,q),{dispose:()=>{l.delete(P)}}},sendProgress:(v,P,q)=>Et.sendNotification($u.type,{token:P,value:q}),onUnhandledProgress:ne.event,sendRequest:(v,...P)=>{xt(),mn();let q,z,Ce;if(Ot.string(v)){q=v;let ue=P[0],Se=P[P.length-1],de=0,L=Pe.ParameterStructures.auto;Pe.ParameterStructures.is(ue)&&(de=1,L=ue);let M=P.length;bS.CancellationToken.is(Se)&&(M=M-1,Ce=Se);let Y=M-de;switch(Y){case 0:z=void 0;break;case 1:z=yn(L,P[de]);break;default:if(L===Pe.ParameterStructures.byName)throw new Error(`Received ${Y} parameters for 'by Name' request parameter structure.`);z=P.slice(de,M).map(Ee=>Wt(Ee));break}}else{let ue=P;q=v.method,z=Zn(v,ue);let Se=v.numberOfParams;Ce=bS.CancellationToken.is(ue[Se])?ue[Se]:void 0}let ge=s++,we;Ce&&(we=Ce.onCancellationRequested(()=>{let ue=N.sender.sendCancellation(Et,ge);return ue===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):ue.catch(()=>{r.log(`Sending cancellation messages for id ${ge} failed`)})}));let xe={jsonrpc:c,id:ge,method:q,params:z};return pi(xe),typeof N.sender.enableCancellation=="function"&&N.sender.enableCancellation(xe),new Promise(async(ue,Se)=>{let de=Y=>{ue(Y),N.sender.cleanup(ge),we?.dispose()},L=Y=>{Se(Y),N.sender.cleanup(ge),we?.dispose()},M={method:q,timerStart:Date.now(),resolve:de,reject:L};try{await e.write(xe),m.set(ge,M)}catch(Y){throw r.error("Sending request failed."),M.reject(new Pe.ResponseError(Pe.ErrorCodes.MessageWriteError,Y.message?Y.message:"Unknown reason")),Y}})},onRequest:(v,P)=>{xt();let q=null;return wS.is(v)?(q=void 0,u=v):Ot.string(v)?(q=null,P!==void 0&&(q=v,f.set(v,{handler:P,type:void 0}))):P!==void 0&&(q=v.method,f.set(v.method,{type:v,handler:P})),{dispose:()=>{q!==null&&(q!==void 0?f.delete(q):u=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(v,P,q)=>{let z=!1,Ce=Ci.Text;q!==void 0&&(Ot.boolean(q)?z=q:(z=q.sendNotification||!1,Ce=q.traceFormat||Ci.Text)),w=v,k=Ce,w===st.Off?A=void 0:A=P,z&&!se()&&!re()&&await Et.sendNotification(xS.type,{value:st.toString(v)})},onError:W.event,onClose:U.event,onUnhandledNotification:ie.event,onDispose:$.event,end:()=>{e.end()},dispose:()=>{if(re())return;B=er.Disposed,$.fire(void 0);let v=new Pe.ResponseError(Pe.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let P of m.values())P.reject(v);m=new Map,T=new Map,C=new Set,h=new rI.LinkedMap,Ot.func(e.dispose)&&e.dispose(),Ot.func(t.dispose)&&t.dispose()},listen:()=>{xt(),Gt(),B=er.Listening,t.listen(Jn)},inspect:()=>{(0,iI.default)().console.log("inspect")}};return Et.onNotification(np.type,v=>{if(w===st.Off||!A)return;let P=w===st.Verbose||w===st.Compact;A.log(v.message,P?v.verbose:void 0)}),Et.onNotification($u.type,v=>{let P=l.get(v.token);P?P(v.value):ne.fire(v)}),Et}Le.createMessageConnection=lz});var cp=F(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.ProgressType=J.ProgressToken=J.createMessageConnection=J.NullLogger=J.ConnectionOptions=J.ConnectionStrategy=J.AbstractMessageBuffer=J.WriteableStreamMessageWriter=J.AbstractMessageWriter=J.MessageWriter=J.ReadableStreamMessageReader=J.AbstractMessageReader=J.MessageReader=J.SharedArrayReceiverStrategy=J.SharedArraySenderStrategy=J.CancellationToken=J.CancellationTokenSource=J.Emitter=J.Event=J.Disposable=J.LRUCache=J.Touch=J.LinkedMap=J.ParameterStructures=J.NotificationType9=J.NotificationType8=J.NotificationType7=J.NotificationType6=J.NotificationType5=J.NotificationType4=J.NotificationType3=J.NotificationType2=J.NotificationType1=J.NotificationType0=J.NotificationType=J.ErrorCodes=J.ResponseError=J.RequestType9=J.RequestType8=J.RequestType7=J.RequestType6=J.RequestType5=J.RequestType4=J.RequestType3=J.RequestType2=J.RequestType1=J.RequestType0=J.RequestType=J.Message=J.RAL=void 0;J.MessageStrategy=J.CancellationStrategy=J.CancellationSenderStrategy=J.CancellationReceiverStrategy=J.ConnectionError=J.ConnectionErrors=J.LogTraceNotification=J.SetTraceNotification=J.TraceFormat=J.TraceValues=J.Trace=void 0;var vt=Zv();Object.defineProperty(J,"Message",{enumerable:!0,get:function(){return vt.Message}});Object.defineProperty(J,"RequestType",{enumerable:!0,get:function(){return vt.RequestType}});Object.defineProperty(J,"RequestType0",{enumerable:!0,get:function(){return vt.RequestType0}});Object.defineProperty(J,"RequestType1",{enumerable:!0,get:function(){return vt.RequestType1}});Object.defineProperty(J,"RequestType2",{enumerable:!0,get:function(){return vt.RequestType2}});Object.defineProperty(J,"RequestType3",{enumerable:!0,get:function(){return vt.RequestType3}});Object.defineProperty(J,"RequestType4",{enumerable:!0,get:function(){return vt.RequestType4}});Object.defineProperty(J,"RequestType5",{enumerable:!0,get:function(){return vt.RequestType5}});Object.defineProperty(J,"RequestType6",{enumerable:!0,get:function(){return vt.RequestType6}});Object.defineProperty(J,"RequestType7",{enumerable:!0,get:function(){return vt.RequestType7}});Object.defineProperty(J,"RequestType8",{enumerable:!0,get:function(){return vt.RequestType8}});Object.defineProperty(J,"RequestType9",{enumerable:!0,get:function(){return vt.RequestType9}});Object.defineProperty(J,"ResponseError",{enumerable:!0,get:function(){return vt.ResponseError}});Object.defineProperty(J,"ErrorCodes",{enumerable:!0,get:function(){return vt.ErrorCodes}});Object.defineProperty(J,"NotificationType",{enumerable:!0,get:function(){return vt.NotificationType}});Object.defineProperty(J,"NotificationType0",{enumerable:!0,get:function(){return vt.NotificationType0}});Object.defineProperty(J,"NotificationType1",{enumerable:!0,get:function(){return vt.NotificationType1}});Object.defineProperty(J,"NotificationType2",{enumerable:!0,get:function(){return vt.NotificationType2}});Object.defineProperty(J,"NotificationType3",{enumerable:!0,get:function(){return vt.NotificationType3}});Object.defineProperty(J,"NotificationType4",{enumerable:!0,get:function(){return vt.NotificationType4}});Object.defineProperty(J,"NotificationType5",{enumerable:!0,get:function(){return vt.NotificationType5}});Object.defineProperty(J,"NotificationType6",{enumerable:!0,get:function(){return vt.NotificationType6}});Object.defineProperty(J,"NotificationType7",{enumerable:!0,get:function(){return vt.NotificationType7}});Object.defineProperty(J,"NotificationType8",{enumerable:!0,get:function(){return vt.NotificationType8}});Object.defineProperty(J,"NotificationType9",{enumerable:!0,get:function(){return vt.NotificationType9}});Object.defineProperty(J,"ParameterStructures",{enumerable:!0,get:function(){return vt.ParameterStructures}});var FS=tS();Object.defineProperty(J,"LinkedMap",{enumerable:!0,get:function(){return FS.LinkedMap}});Object.defineProperty(J,"LRUCache",{enumerable:!0,get:function(){return FS.LRUCache}});Object.defineProperty(J,"Touch",{enumerable:!0,get:function(){return FS.Touch}});var dz=VA();Object.defineProperty(J,"Disposable",{enumerable:!0,get:function(){return dz.Disposable}});var cI=Ea();Object.defineProperty(J,"Event",{enumerable:!0,get:function(){return cI.Event}});Object.defineProperty(J,"Emitter",{enumerable:!0,get:function(){return cI.Emitter}});var uI=Yf();Object.defineProperty(J,"CancellationTokenSource",{enumerable:!0,get:function(){return uI.CancellationTokenSource}});Object.defineProperty(J,"CancellationToken",{enumerable:!0,get:function(){return uI.CancellationToken}});var lI=GA();Object.defineProperty(J,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return lI.SharedArraySenderStrategy}});Object.defineProperty(J,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return lI.SharedArrayReceiverStrategy}});var PS=XA();Object.defineProperty(J,"MessageReader",{enumerable:!0,get:function(){return PS.MessageReader}});Object.defineProperty(J,"AbstractMessageReader",{enumerable:!0,get:function(){return PS.AbstractMessageReader}});Object.defineProperty(J,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return PS.ReadableStreamMessageReader}});var RS=tI();Object.defineProperty(J,"MessageWriter",{enumerable:!0,get:function(){return RS.MessageWriter}});Object.defineProperty(J,"AbstractMessageWriter",{enumerable:!0,get:function(){return RS.AbstractMessageWriter}});Object.defineProperty(J,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return RS.WriteableStreamMessageWriter}});var fz=nI();Object.defineProperty(J,"AbstractMessageBuffer",{enumerable:!0,get:function(){return fz.AbstractMessageBuffer}});var bn=aI();Object.defineProperty(J,"ConnectionStrategy",{enumerable:!0,get:function(){return bn.ConnectionStrategy}});Object.defineProperty(J,"ConnectionOptions",{enumerable:!0,get:function(){return bn.ConnectionOptions}});Object.defineProperty(J,"NullLogger",{enumerable:!0,get:function(){return bn.NullLogger}});Object.defineProperty(J,"createMessageConnection",{enumerable:!0,get:function(){return bn.createMessageConnection}});Object.defineProperty(J,"ProgressToken",{enumerable:!0,get:function(){return bn.ProgressToken}});Object.defineProperty(J,"ProgressType",{enumerable:!0,get:function(){return bn.ProgressType}});Object.defineProperty(J,"Trace",{enumerable:!0,get:function(){return bn.Trace}});Object.defineProperty(J,"TraceValues",{enumerable:!0,get:function(){return bn.TraceValues}});Object.defineProperty(J,"TraceFormat",{enumerable:!0,get:function(){return bn.TraceFormat}});Object.defineProperty(J,"SetTraceNotification",{enumerable:!0,get:function(){return bn.SetTraceNotification}});Object.defineProperty(J,"LogTraceNotification",{enumerable:!0,get:function(){return bn.LogTraceNotification}});Object.defineProperty(J,"ConnectionErrors",{enumerable:!0,get:function(){return bn.ConnectionErrors}});Object.defineProperty(J,"ConnectionError",{enumerable:!0,get:function(){return bn.ConnectionError}});Object.defineProperty(J,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return bn.CancellationReceiverStrategy}});Object.defineProperty(J,"CancellationSenderStrategy",{enumerable:!0,get:function(){return bn.CancellationSenderStrategy}});Object.defineProperty(J,"CancellationStrategy",{enumerable:!0,get:function(){return bn.CancellationStrategy}});Object.defineProperty(J,"MessageStrategy",{enumerable:!0,get:function(){return bn.MessageStrategy}});var pz=bs();J.RAL=pz.default});var pI=F(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});var dI=require("util"),$r=cp(),up=class t extends $r.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new dI.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};up.emptyBuffer=Buffer.allocUnsafe(0);var AS=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),$r.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),$r.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),$r.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),$r.Disposable.create(()=>this.stream.off("data",e))}},IS=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),$r.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),$r.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),$r.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((i,r)=>{let s=o=>{o==null?i():r(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},fI=Object.freeze({messageBuffer:Object.freeze({create:t=>new up(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new dI.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new AS(t),asWritableStream:t=>new IS(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let i=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let i=setInterval(t,e,...n);return{dispose:()=>clearInterval(i)}}})});function _S(){return fI}(function(t){function e(){$r.RAL.install(fI)}t.install=e})(_S||(_S={}));NS.default=_S});var wo=F(Ge=>{"use strict";var hz=Ge&&Ge.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),gz=Ge&&Ge.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&hz(e,t,n)};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.createMessageConnection=Ge.createServerSocketTransport=Ge.createClientSocketTransport=Ge.createServerPipeTransport=Ge.createClientPipeTransport=Ge.generateRandomPipeName=Ge.StreamMessageWriter=Ge.StreamMessageReader=Ge.SocketMessageWriter=Ge.SocketMessageReader=Ge.PortMessageWriter=Ge.PortMessageReader=Ge.IPCMessageWriter=Ge.IPCMessageReader=void 0;var Aa=pI();Aa.default.install();var hI=require("path"),mz=require("os"),yz=require("crypto"),fp=require("net"),vi=cp();gz(cp(),Ge);var LS=class extends vi.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),vi.Disposable.create(()=>this.process.off("message",e))}};Ge.IPCMessageReader=LS;var OS=class extends vi.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ge.IPCMessageWriter=OS;var MS=class extends vi.AbstractMessageReader{constructor(e){super(),this.onData=new vi.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Ge.PortMessageReader=MS;var qS=class extends vi.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ge.PortMessageWriter=qS;var Do=class extends vi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Aa.default)().stream.asReadableStream(e),n)}};Ge.SocketMessageReader=Do;var To=class extends vi.WriteableStreamMessageWriter{constructor(e,n){super((0,Aa.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ge.SocketMessageWriter=To;var lp=class extends vi.ReadableStreamMessageReader{constructor(e,n){super((0,Aa.default)().stream.asReadableStream(e),n)}};Ge.StreamMessageReader=lp;var dp=class extends vi.WriteableStreamMessageWriter{constructor(e,n){super((0,Aa.default)().stream.asWritableStream(e),n)}};Ge.StreamMessageWriter=dp;var gI=process.env.XDG_RUNTIME_DIR,Cz=new Map([["linux",107],["darwin",103]]);function vz(){let t=(0,yz.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;gI?e=hI.join(gI,`vscode-ipc-${t}.sock`):e=hI.join(mz.tmpdir(),`vscode-${t}.sock`);let n=Cz.get(process.platform);return n!==void 0&&e.length>n&&(0,Aa.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ge.generateRandomPipeName=vz;function Sz(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,fp.createServer)(a=>{o.close(),n([new Do(a,e),new To(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Ge.createClientPipeTransport=Sz;function bz(t,e="utf-8"){let n=(0,fp.createConnection)(t);return[new Do(n,e),new To(n,e)]}Ge.createServerPipeTransport=bz;function Dz(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,fp.createServer)(a=>{o.close(),n([new Do(a,e),new To(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Ge.createClientSocketTransport=Dz;function Tz(t,e="utf-8"){let n=(0,fp.createConnection)(t,"127.0.0.1");return[new Do(n,e),new To(n,e)]}Ge.createServerSocketTransport=Tz;function wz(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function xz(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function Ez(t,e,n,i){n||(n=vi.NullLogger);let r=wz(t)?new lp(t):t,s=xz(e)?new dp(e):e;return vi.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,vi.createMessageConnection)(r,s,n,i)}Ge.createMessageConnection=Ez});var US=F((Jie,mI)=>{"use strict";mI.exports=wo()});var hp=F((yI,pp)=>{(function(t){if(typeof pp=="object"&&typeof pp.exports=="object"){var e=t(require,yI);e!==void 0&&(pp.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(D){function R(I){return typeof I=="string"}D.is=R})(n||(e.DocumentUri=n={}));var i;(function(D){function R(I){return typeof I=="string"}D.is=R})(i||(e.URI=i={}));var r;(function(D){D.MIN_VALUE=-2147483648,D.MAX_VALUE=2147483647;function R(I){return typeof I=="number"&&D.MIN_VALUE<=I&&I<=D.MAX_VALUE}D.is=R})(r||(e.integer=r={}));var s;(function(D){D.MIN_VALUE=0,D.MAX_VALUE=2147483647;function R(I){return typeof I=="number"&&D.MIN_VALUE<=I&&I<=D.MAX_VALUE}D.is=R})(s||(e.uinteger=s={}));var o;(function(D){function R(x,S){return x===Number.MAX_VALUE&&(x=s.MAX_VALUE),S===Number.MAX_VALUE&&(S=s.MAX_VALUE),{line:x,character:S}}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.uinteger(S.line)&&O.uinteger(S.character)}D.is=I})(o||(e.Position=o={}));var a;(function(D){function R(x,S,j,Z){if(O.uinteger(x)&&O.uinteger(S)&&O.uinteger(j)&&O.uinteger(Z))return{start:o.create(x,S),end:o.create(j,Z)};if(o.is(x)&&o.is(S))return{start:x,end:S};throw new Error("Range#create called with invalid arguments[".concat(x,", ").concat(S,", ").concat(j,", ").concat(Z,"]"))}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&o.is(S.start)&&o.is(S.end)}D.is=I})(a||(e.Range=a={}));var c;(function(D){function R(x,S){return{uri:x,range:S}}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&(O.string(S.uri)||O.undefined(S.uri))}D.is=I})(c||(e.Location=c={}));var u;(function(D){function R(x,S,j,Z){return{targetUri:x,targetRange:S,targetSelectionRange:j,originSelectionRange:Z}}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&a.is(S.targetRange)&&O.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||O.undefined(S.originSelectionRange))}D.is=I})(u||(e.LocationLink=u={}));var f;(function(D){function R(x,S,j,Z){return{red:x,green:S,blue:j,alpha:Z}}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.numberRange(S.red,0,1)&&O.numberRange(S.green,0,1)&&O.numberRange(S.blue,0,1)&&O.numberRange(S.alpha,0,1)}D.is=I})(f||(e.Color=f={}));var g;(function(D){function R(x,S){return{range:x,color:S}}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&f.is(S.color)}D.is=I})(g||(e.ColorInformation=g={}));var p;(function(D){function R(x,S,j){return{label:x,textEdit:S,additionalTextEdits:j}}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.string(S.label)&&(O.undefined(S.textEdit)||A.is(S))&&(O.undefined(S.additionalTextEdits)||O.typedArray(S.additionalTextEdits,A.is))}D.is=I})(p||(e.ColorPresentation=p={}));var l;(function(D){D.Comment="comment",D.Imports="imports",D.Region="region"})(l||(e.FoldingRangeKind=l={}));var d;(function(D){function R(x,S,j,Z,Ie,kt){var mt={startLine:x,endLine:S};return O.defined(j)&&(mt.startCharacter=j),O.defined(Z)&&(mt.endCharacter=Z),O.defined(Ie)&&(mt.kind=Ie),O.defined(kt)&&(mt.collapsedText=kt),mt}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.uinteger(S.startLine)&&O.uinteger(S.startLine)&&(O.undefined(S.startCharacter)||O.uinteger(S.startCharacter))&&(O.undefined(S.endCharacter)||O.uinteger(S.endCharacter))&&(O.undefined(S.kind)||O.string(S.kind))}D.is=I})(d||(e.FoldingRange=d={}));var h;(function(D){function R(x,S){return{location:x,message:S}}D.create=R;function I(x){var S=x;return O.defined(S)&&c.is(S.location)&&O.string(S.message)}D.is=I})(h||(e.DiagnosticRelatedInformation=h={}));var m;(function(D){D.Error=1,D.Warning=2,D.Information=3,D.Hint=4})(m||(e.DiagnosticSeverity=m={}));var C;(function(D){D.Unnecessary=1,D.Deprecated=2})(C||(e.DiagnosticTag=C={}));var T;(function(D){function R(I){var x=I;return O.objectLiteral(x)&&O.string(x.href)}D.is=R})(T||(e.CodeDescription=T={}));var w;(function(D){function R(x,S,j,Z,Ie,kt){var mt={range:x,message:S};return O.defined(j)&&(mt.severity=j),O.defined(Z)&&(mt.code=Z),O.defined(Ie)&&(mt.source=Ie),O.defined(kt)&&(mt.relatedInformation=kt),mt}D.create=R;function I(x){var S,j=x;return O.defined(j)&&a.is(j.range)&&O.string(j.message)&&(O.number(j.severity)||O.undefined(j.severity))&&(O.integer(j.code)||O.string(j.code)||O.undefined(j.code))&&(O.undefined(j.codeDescription)||O.string((S=j.codeDescription)===null||S===void 0?void 0:S.href))&&(O.string(j.source)||O.undefined(j.source))&&(O.undefined(j.relatedInformation)||O.typedArray(j.relatedInformation,h.is))}D.is=I})(w||(e.Diagnostic=w={}));var k;(function(D){function R(x,S){for(var j=[],Z=2;Z<arguments.length;Z++)j[Z-2]=arguments[Z];var Ie={title:x,command:S};return O.defined(j)&&j.length>0&&(Ie.arguments=j),Ie}D.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.title)&&O.string(S.command)}D.is=I})(k||(e.Command=k={}));var A;(function(D){function R(j,Z){return{range:j,newText:Z}}D.replace=R;function I(j,Z){return{range:{start:j,end:j},newText:Z}}D.insert=I;function x(j){return{range:j,newText:""}}D.del=x;function S(j){var Z=j;return O.objectLiteral(Z)&&O.string(Z.newText)&&a.is(Z.range)}D.is=S})(A||(e.TextEdit=A={}));var B;(function(D){function R(x,S,j){var Z={label:x};return S!==void 0&&(Z.needsConfirmation=S),j!==void 0&&(Z.description=j),Z}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&O.string(S.label)&&(O.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(O.string(S.description)||S.description===void 0)}D.is=I})(B||(e.ChangeAnnotation=B={}));var W;(function(D){function R(I){var x=I;return O.string(x)}D.is=R})(W||(e.ChangeAnnotationIdentifier=W={}));var U;(function(D){function R(j,Z,Ie){return{range:j,newText:Z,annotationId:Ie}}D.replace=R;function I(j,Z,Ie){return{range:{start:j,end:j},newText:Z,annotationId:Ie}}D.insert=I;function x(j,Z){return{range:j,newText:"",annotationId:Z}}D.del=x;function S(j){var Z=j;return A.is(Z)&&(B.is(Z.annotationId)||W.is(Z.annotationId))}D.is=S})(U||(e.AnnotatedTextEdit=U={}));var ie;(function(D){function R(x,S){return{textDocument:x,edits:S}}D.create=R;function I(x){var S=x;return O.defined(S)&&se.is(S.textDocument)&&Array.isArray(S.edits)}D.is=I})(ie||(e.TextDocumentEdit=ie={}));var ne;(function(D){function R(x,S,j){var Z={kind:"create",uri:x};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Z.options=S),j!==void 0&&(Z.annotationId=j),Z}D.create=R;function I(x){var S=x;return S&&S.kind==="create"&&O.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||O.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||O.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}D.is=I})(ne||(e.CreateFile=ne={}));var $;(function(D){function R(x,S,j,Z){var Ie={kind:"rename",oldUri:x,newUri:S};return j!==void 0&&(j.overwrite!==void 0||j.ignoreIfExists!==void 0)&&(Ie.options=j),Z!==void 0&&(Ie.annotationId=Z),Ie}D.create=R;function I(x){var S=x;return S&&S.kind==="rename"&&O.string(S.oldUri)&&O.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||O.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||O.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}D.is=I})($||(e.RenameFile=$={}));var N;(function(D){function R(x,S,j){var Z={kind:"delete",uri:x};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Z.options=S),j!==void 0&&(Z.annotationId=j),Z}D.create=R;function I(x){var S=x;return S&&S.kind==="delete"&&O.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||O.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||O.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}D.is=I})(N||(e.DeleteFile=N={}));var H;(function(D){function R(I){var x=I;return x&&(x.changes!==void 0||x.documentChanges!==void 0)&&(x.documentChanges===void 0||x.documentChanges.every(function(S){return O.string(S.kind)?ne.is(S)||$.is(S)||N.is(S):ie.is(S)}))}D.is=R})(H||(e.WorkspaceEdit=H={}));var te=function(){function D(R,I){this.edits=R,this.changeAnnotations=I}return D.prototype.insert=function(R,I,x){var S,j;if(x===void 0?S=A.insert(R,I):W.is(x)?(j=x,S=U.insert(R,I,x)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(x),S=U.insert(R,I,j)),this.edits.push(S),j!==void 0)return j},D.prototype.replace=function(R,I,x){var S,j;if(x===void 0?S=A.replace(R,I):W.is(x)?(j=x,S=U.replace(R,I,x)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(x),S=U.replace(R,I,j)),this.edits.push(S),j!==void 0)return j},D.prototype.delete=function(R,I){var x,S;if(I===void 0?x=A.del(R):W.is(I)?(S=I,x=U.del(R,I)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(I),x=U.del(R,S)),this.edits.push(x),S!==void 0)return S},D.prototype.add=function(R){this.edits.push(R)},D.prototype.all=function(){return this.edits},D.prototype.clear=function(){this.edits.splice(0,this.edits.length)},D.prototype.assertChangeAnnotations=function(R){if(R===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},D}(),K=function(){function D(R){this._annotations=R===void 0?Object.create(null):R,this._counter=0,this._size=0}return D.prototype.all=function(){return this._annotations},Object.defineProperty(D.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),D.prototype.manage=function(R,I){var x;if(W.is(R)?x=R:(x=this.nextId(),I=R),this._annotations[x]!==void 0)throw new Error("Id ".concat(x," is already in use."));if(I===void 0)throw new Error("No annotation provided for id ".concat(x));return this._annotations[x]=I,this._size++,x},D.prototype.nextId=function(){return this._counter++,this._counter.toString()},D}(),G=function(){function D(R){var I=this;this._textEditChanges=Object.create(null),R!==void 0?(this._workspaceEdit=R,R.documentChanges?(this._changeAnnotations=new K(R.changeAnnotations),R.changeAnnotations=this._changeAnnotations.all(),R.documentChanges.forEach(function(x){if(ie.is(x)){var S=new te(x.edits,I._changeAnnotations);I._textEditChanges[x.textDocument.uri]=S}})):R.changes&&Object.keys(R.changes).forEach(function(x){var S=new te(R.changes[x]);I._textEditChanges[x]=S})):this._workspaceEdit={}}return Object.defineProperty(D.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),D.prototype.getTextEditChange=function(R){if(se.is(R)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I={uri:R.uri,version:R.version},x=this._textEditChanges[I.uri];if(!x){var S=[],j={textDocument:I,edits:S};this._workspaceEdit.documentChanges.push(j),x=new te(S,this._changeAnnotations),this._textEditChanges[I.uri]=x}return x}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var x=this._textEditChanges[R];if(!x){var S=[];this._workspaceEdit.changes[R]=S,x=new te(S),this._textEditChanges[R]=x}return x}},D.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new K,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},D.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},D.prototype.createFile=function(R,I,x){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;B.is(I)||W.is(I)?S=I:x=I;var j,Z;if(S===void 0?j=ne.create(R,x):(Z=W.is(S)?S:this._changeAnnotations.manage(S),j=ne.create(R,x,Z)),this._workspaceEdit.documentChanges.push(j),Z!==void 0)return Z},D.prototype.renameFile=function(R,I,x,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var j;B.is(x)||W.is(x)?j=x:S=x;var Z,Ie;if(j===void 0?Z=$.create(R,I,S):(Ie=W.is(j)?j:this._changeAnnotations.manage(j),Z=$.create(R,I,S,Ie)),this._workspaceEdit.documentChanges.push(Z),Ie!==void 0)return Ie},D.prototype.deleteFile=function(R,I,x){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;B.is(I)||W.is(I)?S=I:x=I;var j,Z;if(S===void 0?j=N.create(R,x):(Z=W.is(S)?S:this._changeAnnotations.manage(S),j=N.create(R,x,Z)),this._workspaceEdit.documentChanges.push(j),Z!==void 0)return Z},D}();e.WorkspaceChange=G;var Q;(function(D){function R(x){return{uri:x}}D.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.uri)}D.is=I})(Q||(e.TextDocumentIdentifier=Q={}));var ae;(function(D){function R(x,S){return{uri:x,version:S}}D.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.uri)&&O.integer(S.version)}D.is=I})(ae||(e.VersionedTextDocumentIdentifier=ae={}));var se;(function(D){function R(x,S){return{uri:x,version:S}}D.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.uri)&&(S.version===null||O.integer(S.version))}D.is=I})(se||(e.OptionalVersionedTextDocumentIdentifier=se={}));var re;(function(D){function R(x,S,j,Z){return{uri:x,languageId:S,version:j,text:Z}}D.create=R;function I(x){var S=x;return O.defined(S)&&O.string(S.uri)&&O.string(S.languageId)&&O.integer(S.version)&&O.string(S.text)}D.is=I})(re||(e.TextDocumentItem=re={}));var ye;(function(D){D.PlainText="plaintext",D.Markdown="markdown";function R(I){var x=I;return x===D.PlainText||x===D.Markdown}D.is=R})(ye||(e.MarkupKind=ye={}));var ve;(function(D){function R(I){var x=I;return O.objectLiteral(I)&&ye.is(x.kind)&&O.string(x.value)}D.is=R})(ve||(e.MarkupContent=ve={}));var $e;(function(D){D.Text=1,D.Method=2,D.Function=3,D.Constructor=4,D.Field=5,D.Variable=6,D.Class=7,D.Interface=8,D.Module=9,D.Property=10,D.Unit=11,D.Value=12,D.Enum=13,D.Keyword=14,D.Snippet=15,D.Color=16,D.File=17,D.Reference=18,D.Folder=19,D.EnumMember=20,D.Constant=21,D.Struct=22,D.Event=23,D.Operator=24,D.TypeParameter=25})($e||(e.CompletionItemKind=$e={}));var ke;(function(D){D.PlainText=1,D.Snippet=2})(ke||(e.InsertTextFormat=ke={}));var ht;(function(D){D.Deprecated=1})(ht||(e.CompletionItemTag=ht={}));var wt;(function(D){function R(x,S,j){return{newText:x,insert:S,replace:j}}D.create=R;function I(x){var S=x;return S&&O.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}D.is=I})(wt||(e.InsertReplaceEdit=wt={}));var Jn;(function(D){D.asIs=1,D.adjustIndentation=2})(Jn||(e.InsertTextMode=Jn={}));var qn;(function(D){function R(I){var x=I;return x&&(O.string(x.detail)||x.detail===void 0)&&(O.string(x.description)||x.description===void 0)}D.is=R})(qn||(e.CompletionItemLabelDetails=qn={}));var Un;(function(D){function R(I){return{label:I}}D.create=R})(Un||(e.CompletionItem=Un={}));var jn;(function(D){function R(I,x){return{items:I||[],isIncomplete:!!x}}D.create=R})(jn||(e.CompletionList=jn={}));var Xn;(function(D){function R(x){return x.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}D.fromPlainText=R;function I(x){var S=x;return O.string(S)||O.objectLiteral(S)&&O.string(S.language)&&O.string(S.value)}D.is=I})(Xn||(e.MarkedString=Xn={}));var nt;(function(D){function R(I){var x=I;return!!x&&O.objectLiteral(x)&&(ve.is(x.contents)||Xn.is(x.contents)||O.typedArray(x.contents,Xn.is))&&(I.range===void 0||a.is(I.range))}D.is=R})(nt||(e.Hover=nt={}));var pi;(function(D){function R(I,x){return x?{label:I,documentation:x}:{label:I}}D.create=R})(pi||(e.ParameterInformation=pi={}));var Bn;(function(D){function R(I,x){for(var S=[],j=2;j<arguments.length;j++)S[j-2]=arguments[j];var Z={label:I};return O.defined(x)&&(Z.documentation=x),O.defined(S)?Z.parameters=S:Z.parameters=[],Z}D.create=R})(Bn||(e.SignatureInformation=Bn={}));var rn;(function(D){D.Text=1,D.Read=2,D.Write=3})(rn||(e.DocumentHighlightKind=rn={}));var Ri;(function(D){function R(I,x){var S={range:I};return O.number(x)&&(S.kind=x),S}D.create=R})(Ri||(e.DocumentHighlight=Ri={}));var cn;(function(D){D.File=1,D.Module=2,D.Namespace=3,D.Package=4,D.Class=5,D.Method=6,D.Property=7,D.Field=8,D.Constructor=9,D.Enum=10,D.Interface=11,D.Function=12,D.Variable=13,D.Constant=14,D.String=15,D.Number=16,D.Boolean=17,D.Array=18,D.Object=19,D.Key=20,D.Null=21,D.EnumMember=22,D.Struct=23,D.Event=24,D.Operator=25,D.TypeParameter=26})(cn||(e.SymbolKind=cn={}));var Yn;(function(D){D.Deprecated=1})(Yn||(e.SymbolTag=Yn={}));var lt;(function(D){function R(I,x,S,j,Z){var Ie={name:I,kind:x,location:{uri:j,range:S}};return Z&&(Ie.containerName=Z),Ie}D.create=R})(lt||(e.SymbolInformation=lt={}));var xt;(function(D){function R(I,x,S,j){return j!==void 0?{name:I,kind:x,location:{uri:S,range:j}}:{name:I,kind:x,location:{uri:S}}}D.create=R})(xt||(e.WorkspaceSymbol=xt={}));var Gt;(function(D){function R(x,S,j,Z,Ie,kt){var mt={name:x,detail:S,kind:j,range:Z,selectionRange:Ie};return kt!==void 0&&(mt.children=kt),mt}D.create=R;function I(x){var S=x;return S&&O.string(S.name)&&O.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||O.string(S.detail))&&(S.deprecated===void 0||O.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}D.is=I})(Gt||(e.DocumentSymbol=Gt={}));var mn;(function(D){D.Empty="",D.QuickFix="quickfix",D.Refactor="refactor",D.RefactorExtract="refactor.extract",D.RefactorInline="refactor.inline",D.RefactorRewrite="refactor.rewrite",D.Source="source",D.SourceOrganizeImports="source.organizeImports",D.SourceFixAll="source.fixAll"})(mn||(e.CodeActionKind=mn={}));var Wt;(function(D){D.Invoked=1,D.Automatic=2})(Wt||(e.CodeActionTriggerKind=Wt={}));var Wn;(function(D){function R(x,S,j){var Z={diagnostics:x};return S!=null&&(Z.only=S),j!=null&&(Z.triggerKind=j),Z}D.create=R;function I(x){var S=x;return O.defined(S)&&O.typedArray(S.diagnostics,w.is)&&(S.only===void 0||O.typedArray(S.only,O.string))&&(S.triggerKind===void 0||S.triggerKind===Wt.Invoked||S.triggerKind===Wt.Automatic)}D.is=I})(Wn||(e.CodeActionContext=Wn={}));var Qn;(function(D){function R(x,S,j){var Z={title:x},Ie=!0;return typeof S=="string"?(Ie=!1,Z.kind=S):k.is(S)?Z.command=S:Z.edit=S,Ie&&j!==void 0&&(Z.kind=j),Z}D.create=R;function I(x){var S=x;return S&&O.string(S.title)&&(S.diagnostics===void 0||O.typedArray(S.diagnostics,w.is))&&(S.kind===void 0||O.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||k.is(S.command))&&(S.isPreferred===void 0||O.boolean(S.isPreferred))&&(S.edit===void 0||H.is(S.edit))}D.is=I})(Qn||(e.CodeAction=Qn={}));var yn;(function(D){function R(x,S){var j={range:x};return O.defined(S)&&(j.data=S),j}D.create=R;function I(x){var S=x;return O.defined(S)&&a.is(S.range)&&(O.undefined(S.command)||k.is(S.command))}D.is=I})(yn||(e.CodeLens=yn={}));var Zn;(function(D){function R(x,S){return{tabSize:x,insertSpaces:S}}D.create=R;function I(x){var S=x;return O.defined(S)&&O.uinteger(S.tabSize)&&O.boolean(S.insertSpaces)}D.is=I})(Zn||(e.FormattingOptions=Zn={}));var Et;(function(D){function R(x,S,j){return{range:x,target:S,data:j}}D.create=R;function I(x){var S=x;return O.defined(S)&&a.is(S.range)&&(O.undefined(S.target)||O.string(S.target))}D.is=I})(Et||(e.DocumentLink=Et={}));var v;(function(D){function R(x,S){return{range:x,parent:S}}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||D.is(S.parent))}D.is=I})(v||(e.SelectionRange=v={}));var P;(function(D){D.namespace="namespace",D.type="type",D.class="class",D.enum="enum",D.interface="interface",D.struct="struct",D.typeParameter="typeParameter",D.parameter="parameter",D.variable="variable",D.property="property",D.enumMember="enumMember",D.event="event",D.function="function",D.method="method",D.macro="macro",D.keyword="keyword",D.modifier="modifier",D.comment="comment",D.string="string",D.number="number",D.regexp="regexp",D.operator="operator",D.decorator="decorator"})(P||(e.SemanticTokenTypes=P={}));var q;(function(D){D.declaration="declaration",D.definition="definition",D.readonly="readonly",D.static="static",D.deprecated="deprecated",D.abstract="abstract",D.async="async",D.modification="modification",D.documentation="documentation",D.defaultLibrary="defaultLibrary"})(q||(e.SemanticTokenModifiers=q={}));var z;(function(D){function R(I){var x=I;return O.objectLiteral(x)&&(x.resultId===void 0||typeof x.resultId=="string")&&Array.isArray(x.data)&&(x.data.length===0||typeof x.data[0]=="number")}D.is=R})(z||(e.SemanticTokens=z={}));var Ce;(function(D){function R(x,S){return{range:x,text:S}}D.create=R;function I(x){var S=x;return S!=null&&a.is(S.range)&&O.string(S.text)}D.is=I})(Ce||(e.InlineValueText=Ce={}));var ge;(function(D){function R(x,S,j){return{range:x,variableName:S,caseSensitiveLookup:j}}D.create=R;function I(x){var S=x;return S!=null&&a.is(S.range)&&O.boolean(S.caseSensitiveLookup)&&(O.string(S.variableName)||S.variableName===void 0)}D.is=I})(ge||(e.InlineValueVariableLookup=ge={}));var we;(function(D){function R(x,S){return{range:x,expression:S}}D.create=R;function I(x){var S=x;return S!=null&&a.is(S.range)&&(O.string(S.expression)||S.expression===void 0)}D.is=I})(we||(e.InlineValueEvaluatableExpression=we={}));var xe;(function(D){function R(x,S){return{frameId:x,stoppedLocation:S}}D.create=R;function I(x){var S=x;return O.defined(S)&&a.is(x.stoppedLocation)}D.is=I})(xe||(e.InlineValueContext=xe={}));var ue;(function(D){D.Type=1,D.Parameter=2;function R(I){return I===1||I===2}D.is=R})(ue||(e.InlayHintKind=ue={}));var Se;(function(D){function R(x){return{value:x}}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&(S.tooltip===void 0||O.string(S.tooltip)||ve.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||k.is(S.command))}D.is=I})(Se||(e.InlayHintLabelPart=Se={}));var de;(function(D){function R(x,S,j){var Z={position:x,label:S};return j!==void 0&&(Z.kind=j),Z}D.create=R;function I(x){var S=x;return O.objectLiteral(S)&&o.is(S.position)&&(O.string(S.label)||O.typedArray(S.label,Se.is))&&(S.kind===void 0||ue.is(S.kind))&&S.textEdits===void 0||O.typedArray(S.textEdits,A.is)&&(S.tooltip===void 0||O.string(S.tooltip)||ve.is(S.tooltip))&&(S.paddingLeft===void 0||O.boolean(S.paddingLeft))&&(S.paddingRight===void 0||O.boolean(S.paddingRight))}D.is=I})(de||(e.InlayHint=de={}));var L;(function(D){function R(I){return{kind:"snippet",value:I}}D.createSnippet=R})(L||(e.StringValue=L={}));var M;(function(D){function R(I,x,S,j){return{insertText:I,filterText:x,range:S,command:j}}D.create=R})(M||(e.InlineCompletionItem=M={}));var Y;(function(D){function R(I){return{items:I}}D.create=R})(Y||(e.InlineCompletionList=Y={}));var Ee;(function(D){D.Invoked=0,D.Automatic=1})(Ee||(e.InlineCompletionTriggerKind=Ee={}));var Kt;(function(D){function R(I,x){return{range:I,text:x}}D.create=R})(Kt||(e.SelectedCompletionInfo=Kt={}));var b;(function(D){function R(I,x){return{triggerKind:I,selectedCompletionInfo:x}}D.create=R})(b||(e.InlineCompletionContext=b={}));var V;(function(D){function R(I){var x=I;return O.objectLiteral(x)&&i.is(x.uri)&&O.string(x.name)}D.is=R})(V||(e.WorkspaceFolder=V={})),e.EOL=[`
`,`\r
`,"\r"];var he;(function(D){function R(j,Z,Ie,kt){return new et(j,Z,Ie,kt)}D.create=R;function I(j){var Z=j;return!!(O.defined(Z)&&O.string(Z.uri)&&(O.undefined(Z.languageId)||O.string(Z.languageId))&&O.uinteger(Z.lineCount)&&O.func(Z.getText)&&O.func(Z.positionAt)&&O.func(Z.offsetAt))}D.is=I;function x(j,Z){for(var Ie=j.getText(),kt=S(Z,function(gr,y){var _=gr.range.start.line-y.range.start.line;return _===0?gr.range.start.character-y.range.start.character:_}),mt=Ie.length,ei=kt.length-1;ei>=0;ei--){var hi=kt[ei],Yi=j.offsetAt(hi.range.start),Ke=j.offsetAt(hi.range.end);if(Ke<=mt)Ie=Ie.substring(0,Yi)+hi.newText+Ie.substring(Ke,Ie.length);else throw new Error("Overlapping edit");mt=Yi}return Ie}D.applyEdits=x;function S(j,Z){if(j.length<=1)return j;var Ie=j.length/2|0,kt=j.slice(0,Ie),mt=j.slice(Ie);S(kt,Z),S(mt,Z);for(var ei=0,hi=0,Yi=0;ei<kt.length&&hi<mt.length;){var Ke=Z(kt[ei],mt[hi]);Ke<=0?j[Yi++]=kt[ei++]:j[Yi++]=mt[hi++]}for(;ei<kt.length;)j[Yi++]=kt[ei++];for(;hi<mt.length;)j[Yi++]=mt[hi++];return j}})(he||(e.TextDocument=he={}));var et=function(){function D(R,I,x,S){this._uri=R,this._languageId=I,this._version=x,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(D.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),D.prototype.getText=function(R){if(R){var I=this.offsetAt(R.start),x=this.offsetAt(R.end);return this._content.substring(I,x)}return this._content},D.prototype.update=function(R,I){this._content=R.text,this._version=I,this._lineOffsets=void 0},D.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var R=[],I=this._content,x=!0,S=0;S<I.length;S++){x&&(R.push(S),x=!1);var j=I.charAt(S);x=j==="\r"||j===`
`,j==="\r"&&S+1<I.length&&I.charAt(S+1)===`
`&&S++}x&&I.length>0&&R.push(I.length),this._lineOffsets=R}return this._lineOffsets},D.prototype.positionAt=function(R){R=Math.max(Math.min(R,this._content.length),0);var I=this.getLineOffsets(),x=0,S=I.length;if(S===0)return o.create(0,R);for(;x<S;){var j=Math.floor((x+S)/2);I[j]>R?S=j:x=j+1}var Z=x-1;return o.create(Z,R-I[Z])},D.prototype.offsetAt=function(R){var I=this.getLineOffsets();if(R.line>=I.length)return this._content.length;if(R.line<0)return 0;var x=I[R.line],S=R.line+1<I.length?I[R.line+1]:this._content.length;return Math.max(Math.min(x+R.character,S),x)},Object.defineProperty(D.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),D}(),O;(function(D){var R=Object.prototype.toString;function I(Ke){return typeof Ke<"u"}D.defined=I;function x(Ke){return typeof Ke>"u"}D.undefined=x;function S(Ke){return Ke===!0||Ke===!1}D.boolean=S;function j(Ke){return R.call(Ke)==="[object String]"}D.string=j;function Z(Ke){return R.call(Ke)==="[object Number]"}D.number=Z;function Ie(Ke,gr,y){return R.call(Ke)==="[object Number]"&&gr<=Ke&&Ke<=y}D.numberRange=Ie;function kt(Ke){return R.call(Ke)==="[object Number]"&&-2147483648<=Ke&&Ke<=2147483647}D.integer=kt;function mt(Ke){return R.call(Ke)==="[object Number]"&&0<=Ke&&Ke<=2147483647}D.uinteger=mt;function ei(Ke){return R.call(Ke)==="[object Function]"}D.func=ei;function hi(Ke){return Ke!==null&&typeof Ke=="object"}D.objectLiteral=hi;function Yi(Ke,gr){return Array.isArray(Ke)&&Ke.every(gr)}D.typedArray=Yi})(O||(O={}))})});var Ft=F(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.ProtocolNotificationType=ri.ProtocolNotificationType0=ri.ProtocolRequestType=ri.ProtocolRequestType0=ri.RegistrationType=ri.MessageDirection=void 0;var Ia=wo(),CI;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(CI||(ri.MessageDirection=CI={}));var jS=class{constructor(e){this.method=e}};ri.RegistrationType=jS;var BS=class extends Ia.RequestType0{constructor(e){super(e)}};ri.ProtocolRequestType0=BS;var WS=class extends Ia.RequestType{constructor(e){super(e,Ia.ParameterStructures.byName)}};ri.ProtocolRequestType=WS;var KS=class extends Ia.NotificationType0{constructor(e){super(e)}};ri.ProtocolNotificationType0=KS;var $S=class extends Ia.NotificationType{constructor(e){super(e,Ia.ParameterStructures.byName)}};ri.ProtocolNotificationType=$S});var gp=F(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.objectLiteral=Zt.typedArray=Zt.stringArray=Zt.array=Zt.func=Zt.error=Zt.number=Zt.string=Zt.boolean=void 0;function kz(t){return t===!0||t===!1}Zt.boolean=kz;function vI(t){return typeof t=="string"||t instanceof String}Zt.string=vI;function Fz(t){return typeof t=="number"||t instanceof Number}Zt.number=Fz;function Pz(t){return t instanceof Error}Zt.error=Pz;function Rz(t){return typeof t=="function"}Zt.func=Rz;function SI(t){return Array.isArray(t)}Zt.array=SI;function Az(t){return SI(t)&&t.every(e=>vI(e))}Zt.stringArray=Az;function Iz(t,e){return Array.isArray(t)&&t.every(e)}Zt.typedArray=Iz;function _z(t){return t!==null&&typeof t=="object"}Zt.objectLiteral=_z});var TI=F(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.ImplementationRequest=void 0;var bI=Ft(),DI;(function(t){t.method="textDocument/implementation",t.messageDirection=bI.MessageDirection.clientToServer,t.type=new bI.ProtocolRequestType(t.method)})(DI||(mp.ImplementationRequest=DI={}))});var EI=F(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.TypeDefinitionRequest=void 0;var wI=Ft(),xI;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=wI.MessageDirection.clientToServer,t.type=new wI.ProtocolRequestType(t.method)})(xI||(yp.TypeDefinitionRequest=xI={}))});var PI=F(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.DidChangeWorkspaceFoldersNotification=_a.WorkspaceFoldersRequest=void 0;var Cp=Ft(),kI;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Cp.MessageDirection.serverToClient,t.type=new Cp.ProtocolRequestType0(t.method)})(kI||(_a.WorkspaceFoldersRequest=kI={}));var FI;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Cp.MessageDirection.clientToServer,t.type=new Cp.ProtocolNotificationType(t.method)})(FI||(_a.DidChangeWorkspaceFoldersNotification=FI={}))});var II=F(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.ConfigurationRequest=void 0;var RI=Ft(),AI;(function(t){t.method="workspace/configuration",t.messageDirection=RI.MessageDirection.serverToClient,t.type=new RI.ProtocolRequestType(t.method)})(AI||(vp.ConfigurationRequest=AI={}))});var LI=F(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.ColorPresentationRequest=Na.DocumentColorRequest=void 0;var Sp=Ft(),_I;(function(t){t.method="textDocument/documentColor",t.messageDirection=Sp.MessageDirection.clientToServer,t.type=new Sp.ProtocolRequestType(t.method)})(_I||(Na.DocumentColorRequest=_I={}));var NI;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Sp.MessageDirection.clientToServer,t.type=new Sp.ProtocolRequestType(t.method)})(NI||(Na.ColorPresentationRequest=NI={}))});var qI=F(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.FoldingRangeRefreshRequest=La.FoldingRangeRequest=void 0;var bp=Ft(),OI;(function(t){t.method="textDocument/foldingRange",t.messageDirection=bp.MessageDirection.clientToServer,t.type=new bp.ProtocolRequestType(t.method)})(OI||(La.FoldingRangeRequest=OI={}));var MI;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=bp.MessageDirection.serverToClient,t.type=new bp.ProtocolRequestType0(t.method)})(MI||(La.FoldingRangeRefreshRequest=MI={}))});var BI=F(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.DeclarationRequest=void 0;var UI=Ft(),jI;(function(t){t.method="textDocument/declaration",t.messageDirection=UI.MessageDirection.clientToServer,t.type=new UI.ProtocolRequestType(t.method)})(jI||(Dp.DeclarationRequest=jI={}))});var $I=F(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.SelectionRangeRequest=void 0;var WI=Ft(),KI;(function(t){t.method="textDocument/selectionRange",t.messageDirection=WI.MessageDirection.clientToServer,t.type=new WI.ProtocolRequestType(t.method)})(KI||(Tp.SelectionRangeRequest=KI={}))});var GI=F(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.WorkDoneProgressCancelNotification=ws.WorkDoneProgressCreateRequest=ws.WorkDoneProgress=void 0;var Nz=wo(),wp=Ft(),HI;(function(t){t.type=new Nz.ProgressType;function e(n){return n===t.type}t.is=e})(HI||(ws.WorkDoneProgress=HI={}));var VI;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=wp.MessageDirection.serverToClient,t.type=new wp.ProtocolRequestType(t.method)})(VI||(ws.WorkDoneProgressCreateRequest=VI={}));var zI;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=wp.MessageDirection.clientToServer,t.type=new wp.ProtocolNotificationType(t.method)})(zI||(ws.WorkDoneProgressCancelNotification=zI={}))});var QI=F(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.CallHierarchyOutgoingCallsRequest=xs.CallHierarchyIncomingCallsRequest=xs.CallHierarchyPrepareRequest=void 0;var Oa=Ft(),JI;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Oa.MessageDirection.clientToServer,t.type=new Oa.ProtocolRequestType(t.method)})(JI||(xs.CallHierarchyPrepareRequest=JI={}));var XI;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Oa.MessageDirection.clientToServer,t.type=new Oa.ProtocolRequestType(t.method)})(XI||(xs.CallHierarchyIncomingCallsRequest=XI={}));var YI;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Oa.MessageDirection.clientToServer,t.type=new Oa.ProtocolRequestType(t.method)})(YI||(xs.CallHierarchyOutgoingCallsRequest=YI={}))});var r_=F(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.SemanticTokensRefreshRequest=si.SemanticTokensRangeRequest=si.SemanticTokensDeltaRequest=si.SemanticTokensRequest=si.SemanticTokensRegistrationType=si.TokenFormat=void 0;var Hr=Ft(),ZI;(function(t){t.Relative="relative"})(ZI||(si.TokenFormat=ZI={}));var zu;(function(t){t.method="textDocument/semanticTokens",t.type=new Hr.RegistrationType(t.method)})(zu||(si.SemanticTokensRegistrationType=zu={}));var e_;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Hr.MessageDirection.clientToServer,t.type=new Hr.ProtocolRequestType(t.method),t.registrationMethod=zu.method})(e_||(si.SemanticTokensRequest=e_={}));var t_;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Hr.MessageDirection.clientToServer,t.type=new Hr.ProtocolRequestType(t.method),t.registrationMethod=zu.method})(t_||(si.SemanticTokensDeltaRequest=t_={}));var n_;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Hr.MessageDirection.clientToServer,t.type=new Hr.ProtocolRequestType(t.method),t.registrationMethod=zu.method})(n_||(si.SemanticTokensRangeRequest=n_={}));var i_;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Hr.MessageDirection.serverToClient,t.type=new Hr.ProtocolRequestType0(t.method)})(i_||(si.SemanticTokensRefreshRequest=i_={}))});var a_=F(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.ShowDocumentRequest=void 0;var s_=Ft(),o_;(function(t){t.method="window/showDocument",t.messageDirection=s_.MessageDirection.serverToClient,t.type=new s_.ProtocolRequestType(t.method)})(o_||(xp.ShowDocumentRequest=o_={}))});var l_=F(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.LinkedEditingRangeRequest=void 0;var c_=Ft(),u_;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=c_.MessageDirection.clientToServer,t.type=new c_.ProtocolRequestType(t.method)})(u_||(Ep.LinkedEditingRangeRequest=u_={}))});var C_=F(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.WillDeleteFilesRequest=kn.DidDeleteFilesNotification=kn.DidRenameFilesNotification=kn.WillRenameFilesRequest=kn.DidCreateFilesNotification=kn.WillCreateFilesRequest=kn.FileOperationPatternKind=void 0;var Mi=Ft(),d_;(function(t){t.file="file",t.folder="folder"})(d_||(kn.FileOperationPatternKind=d_={}));var f_;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method)})(f_||(kn.WillCreateFilesRequest=f_={}));var p_;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolNotificationType(t.method)})(p_||(kn.DidCreateFilesNotification=p_={}));var h_;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method)})(h_||(kn.WillRenameFilesRequest=h_={}));var g_;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolNotificationType(t.method)})(g_||(kn.DidRenameFilesNotification=g_={}));var m_;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolNotificationType(t.method)})(m_||(kn.DidDeleteFilesNotification=m_={}));var y_;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method)})(y_||(kn.WillDeleteFilesRequest=y_={}))});var T_=F(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.MonikerRequest=Es.MonikerKind=Es.UniquenessLevel=void 0;var v_=Ft(),S_;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(S_||(Es.UniquenessLevel=S_={}));var b_;(function(t){t.$import="import",t.$export="export",t.local="local"})(b_||(Es.MonikerKind=b_={}));var D_;(function(t){t.method="textDocument/moniker",t.messageDirection=v_.MessageDirection.clientToServer,t.type=new v_.ProtocolRequestType(t.method)})(D_||(Es.MonikerRequest=D_={}))});var k_=F(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.TypeHierarchySubtypesRequest=ks.TypeHierarchySupertypesRequest=ks.TypeHierarchyPrepareRequest=void 0;var Ma=Ft(),w_;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Ma.MessageDirection.clientToServer,t.type=new Ma.ProtocolRequestType(t.method)})(w_||(ks.TypeHierarchyPrepareRequest=w_={}));var x_;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Ma.MessageDirection.clientToServer,t.type=new Ma.ProtocolRequestType(t.method)})(x_||(ks.TypeHierarchySupertypesRequest=x_={}));var E_;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Ma.MessageDirection.clientToServer,t.type=new Ma.ProtocolRequestType(t.method)})(E_||(ks.TypeHierarchySubtypesRequest=E_={}))});var R_=F(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.InlineValueRefreshRequest=qa.InlineValueRequest=void 0;var kp=Ft(),F_;(function(t){t.method="textDocument/inlineValue",t.messageDirection=kp.MessageDirection.clientToServer,t.type=new kp.ProtocolRequestType(t.method)})(F_||(qa.InlineValueRequest=F_={}));var P_;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=kp.MessageDirection.serverToClient,t.type=new kp.ProtocolRequestType0(t.method)})(P_||(qa.InlineValueRefreshRequest=P_={}))});var N_=F(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.InlayHintRefreshRequest=Fs.InlayHintResolveRequest=Fs.InlayHintRequest=void 0;var Ua=Ft(),A_;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Ua.MessageDirection.clientToServer,t.type=new Ua.ProtocolRequestType(t.method)})(A_||(Fs.InlayHintRequest=A_={}));var I_;(function(t){t.method="inlayHint/resolve",t.messageDirection=Ua.MessageDirection.clientToServer,t.type=new Ua.ProtocolRequestType(t.method)})(I_||(Fs.InlayHintResolveRequest=I_={}));var __;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Ua.MessageDirection.serverToClient,t.type=new Ua.ProtocolRequestType0(t.method)})(__||(Fs.InlayHintRefreshRequest=__={}))});var B_=F(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.DiagnosticRefreshRequest=qi.WorkspaceDiagnosticRequest=qi.DocumentDiagnosticRequest=qi.DocumentDiagnosticReportKind=qi.DiagnosticServerCancellationData=void 0;var j_=wo(),Lz=gp(),ja=Ft(),L_;(function(t){function e(n){let i=n;return i&&Lz.boolean(i.retriggerRequest)}t.is=e})(L_||(qi.DiagnosticServerCancellationData=L_={}));var O_;(function(t){t.Full="full",t.Unchanged="unchanged"})(O_||(qi.DocumentDiagnosticReportKind=O_={}));var M_;(function(t){t.method="textDocument/diagnostic",t.messageDirection=ja.MessageDirection.clientToServer,t.type=new ja.ProtocolRequestType(t.method),t.partialResult=new j_.ProgressType})(M_||(qi.DocumentDiagnosticRequest=M_={}));var q_;(function(t){t.method="workspace/diagnostic",t.messageDirection=ja.MessageDirection.clientToServer,t.type=new ja.ProtocolRequestType(t.method),t.partialResult=new j_.ProgressType})(q_||(qi.WorkspaceDiagnosticRequest=q_={}));var U_;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=ja.MessageDirection.serverToClient,t.type=new ja.ProtocolRequestType0(t.method)})(U_||(qi.DiagnosticRefreshRequest=U_={}))});var G_=F(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.DidCloseNotebookDocumentNotification=Vt.DidSaveNotebookDocumentNotification=Vt.DidChangeNotebookDocumentNotification=Vt.NotebookCellArrayChange=Vt.DidOpenNotebookDocumentNotification=Vt.NotebookDocumentSyncRegistrationType=Vt.NotebookDocument=Vt.NotebookCell=Vt.ExecutionSummary=Vt.NotebookCellKind=void 0;var Gu=hp(),tr=gp(),kr=Ft(),HS;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(HS||(Vt.NotebookCellKind=HS={}));var VS;(function(t){function e(r,s){let o={executionOrder:r};return(s===!0||s===!1)&&(o.success=s),o}t.create=e;function n(r){let s=r;return tr.objectLiteral(s)&&Gu.uinteger.is(s.executionOrder)&&(s.success===void 0||tr.boolean(s.success))}t.is=n;function i(r,s){return r===s?!0:r==null||s===null||s===void 0?!1:r.executionOrder===s.executionOrder&&r.success===s.success}t.equals=i})(VS||(Vt.ExecutionSummary=VS={}));var Fp;(function(t){function e(s,o){return{kind:s,document:o}}t.create=e;function n(s){let o=s;return tr.objectLiteral(o)&&HS.is(o.kind)&&Gu.DocumentUri.is(o.document)&&(o.metadata===void 0||tr.objectLiteral(o.metadata))}t.is=n;function i(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!r(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!VS.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}t.diff=i;function r(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return!1;let a=Array.isArray(s),c=Array.isArray(o);if(a!==c)return!1;if(a&&c){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++)if(!r(s[u],o[u]))return!1}if(tr.objectLiteral(s)&&tr.objectLiteral(o)){let u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length||(u.sort(),f.sort(),!r(u,f)))return!1;for(let g=0;g<u.length;g++){let p=u[g];if(!r(s[p],o[p]))return!1}}return!0}})(Fp||(Vt.NotebookCell=Fp={}));var W_;(function(t){function e(i,r,s,o){return{uri:i,notebookType:r,version:s,cells:o}}t.create=e;function n(i){let r=i;return tr.objectLiteral(r)&&tr.string(r.uri)&&Gu.integer.is(r.version)&&tr.typedArray(r.cells,Fp.is)}t.is=n})(W_||(Vt.NotebookDocument=W_={}));var Ba;(function(t){t.method="notebookDocument/sync",t.messageDirection=kr.MessageDirection.clientToServer,t.type=new kr.RegistrationType(t.method)})(Ba||(Vt.NotebookDocumentSyncRegistrationType=Ba={}));var K_;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=kr.MessageDirection.clientToServer,t.type=new kr.ProtocolNotificationType(t.method),t.registrationMethod=Ba.method})(K_||(Vt.DidOpenNotebookDocumentNotification=K_={}));var $_;(function(t){function e(i){let r=i;return tr.objectLiteral(r)&&Gu.uinteger.is(r.start)&&Gu.uinteger.is(r.deleteCount)&&(r.cells===void 0||tr.typedArray(r.cells,Fp.is))}t.is=e;function n(i,r,s){let o={start:i,deleteCount:r};return s!==void 0&&(o.cells=s),o}t.create=n})($_||(Vt.NotebookCellArrayChange=$_={}));var H_;(function(t){t.method="notebookDocument/didChange",t.messageDirection=kr.MessageDirection.clientToServer,t.type=new kr.ProtocolNotificationType(t.method),t.registrationMethod=Ba.method})(H_||(Vt.DidChangeNotebookDocumentNotification=H_={}));var V_;(function(t){t.method="notebookDocument/didSave",t.messageDirection=kr.MessageDirection.clientToServer,t.type=new kr.ProtocolNotificationType(t.method),t.registrationMethod=Ba.method})(V_||(Vt.DidSaveNotebookDocumentNotification=V_={}));var z_;(function(t){t.method="notebookDocument/didClose",t.messageDirection=kr.MessageDirection.clientToServer,t.type=new kr.ProtocolNotificationType(t.method),t.registrationMethod=Ba.method})(z_||(Vt.DidCloseNotebookDocumentNotification=z_={}))});var Y_=F(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.InlineCompletionRequest=void 0;var J_=Ft(),X_;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=J_.MessageDirection.clientToServer,t.type=new J_.ProtocolRequestType(t.method)})(X_||(Pp.InlineCompletionRequest=X_={}))});var lN=F(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.WorkspaceSymbolRequest=E.CodeActionResolveRequest=E.CodeActionRequest=E.DocumentSymbolRequest=E.DocumentHighlightRequest=E.ReferencesRequest=E.DefinitionRequest=E.SignatureHelpRequest=E.SignatureHelpTriggerKind=E.HoverRequest=E.CompletionResolveRequest=E.CompletionRequest=E.CompletionTriggerKind=E.PublishDiagnosticsNotification=E.WatchKind=E.RelativePattern=E.FileChangeType=E.DidChangeWatchedFilesNotification=E.WillSaveTextDocumentWaitUntilRequest=E.WillSaveTextDocumentNotification=E.TextDocumentSaveReason=E.DidSaveTextDocumentNotification=E.DidCloseTextDocumentNotification=E.DidChangeTextDocumentNotification=E.TextDocumentContentChangeEvent=E.DidOpenTextDocumentNotification=E.TextDocumentSyncKind=E.TelemetryEventNotification=E.LogMessageNotification=E.ShowMessageRequest=E.ShowMessageNotification=E.MessageType=E.DidChangeConfigurationNotification=E.ExitNotification=E.ShutdownRequest=E.InitializedNotification=E.InitializeErrorCodes=E.InitializeRequest=E.WorkDoneProgressOptions=E.TextDocumentRegistrationOptions=E.StaticRegistrationOptions=E.PositionEncodingKind=E.FailureHandlingKind=E.ResourceOperationKind=E.UnregistrationRequest=E.RegistrationRequest=E.DocumentSelector=E.NotebookCellTextDocumentFilter=E.NotebookDocumentFilter=E.TextDocumentFilter=void 0;E.MonikerRequest=E.MonikerKind=E.UniquenessLevel=E.WillDeleteFilesRequest=E.DidDeleteFilesNotification=E.WillRenameFilesRequest=E.DidRenameFilesNotification=E.WillCreateFilesRequest=E.DidCreateFilesNotification=E.FileOperationPatternKind=E.LinkedEditingRangeRequest=E.ShowDocumentRequest=E.SemanticTokensRegistrationType=E.SemanticTokensRefreshRequest=E.SemanticTokensRangeRequest=E.SemanticTokensDeltaRequest=E.SemanticTokensRequest=E.TokenFormat=E.CallHierarchyPrepareRequest=E.CallHierarchyOutgoingCallsRequest=E.CallHierarchyIncomingCallsRequest=E.WorkDoneProgressCancelNotification=E.WorkDoneProgressCreateRequest=E.WorkDoneProgress=E.SelectionRangeRequest=E.DeclarationRequest=E.FoldingRangeRefreshRequest=E.FoldingRangeRequest=E.ColorPresentationRequest=E.DocumentColorRequest=E.ConfigurationRequest=E.DidChangeWorkspaceFoldersNotification=E.WorkspaceFoldersRequest=E.TypeDefinitionRequest=E.ImplementationRequest=E.ApplyWorkspaceEditRequest=E.ExecuteCommandRequest=E.PrepareRenameRequest=E.RenameRequest=E.PrepareSupportDefaultBehavior=E.DocumentOnTypeFormattingRequest=E.DocumentRangesFormattingRequest=E.DocumentRangeFormattingRequest=E.DocumentFormattingRequest=E.DocumentLinkResolveRequest=E.DocumentLinkRequest=E.CodeLensRefreshRequest=E.CodeLensResolveRequest=E.CodeLensRequest=E.WorkspaceSymbolResolveRequest=void 0;E.InlineCompletionRequest=E.DidCloseNotebookDocumentNotification=E.DidSaveNotebookDocumentNotification=E.DidChangeNotebookDocumentNotification=E.NotebookCellArrayChange=E.DidOpenNotebookDocumentNotification=E.NotebookDocumentSyncRegistrationType=E.NotebookDocument=E.NotebookCell=E.ExecutionSummary=E.NotebookCellKind=E.DiagnosticRefreshRequest=E.WorkspaceDiagnosticRequest=E.DocumentDiagnosticRequest=E.DocumentDiagnosticReportKind=E.DiagnosticServerCancellationData=E.InlayHintRefreshRequest=E.InlayHintResolveRequest=E.InlayHintRequest=E.InlineValueRefreshRequest=E.InlineValueRequest=E.TypeHierarchySupertypesRequest=E.TypeHierarchySubtypesRequest=E.TypeHierarchyPrepareRequest=void 0;var ce=Ft(),Q_=hp(),fn=gp(),Oz=TI();Object.defineProperty(E,"ImplementationRequest",{enumerable:!0,get:function(){return Oz.ImplementationRequest}});var Mz=EI();Object.defineProperty(E,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Mz.TypeDefinitionRequest}});var oN=PI();Object.defineProperty(E,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return oN.WorkspaceFoldersRequest}});Object.defineProperty(E,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return oN.DidChangeWorkspaceFoldersNotification}});var qz=II();Object.defineProperty(E,"ConfigurationRequest",{enumerable:!0,get:function(){return qz.ConfigurationRequest}});var aN=LI();Object.defineProperty(E,"DocumentColorRequest",{enumerable:!0,get:function(){return aN.DocumentColorRequest}});Object.defineProperty(E,"ColorPresentationRequest",{enumerable:!0,get:function(){return aN.ColorPresentationRequest}});var cN=qI();Object.defineProperty(E,"FoldingRangeRequest",{enumerable:!0,get:function(){return cN.FoldingRangeRequest}});Object.defineProperty(E,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return cN.FoldingRangeRefreshRequest}});var Uz=BI();Object.defineProperty(E,"DeclarationRequest",{enumerable:!0,get:function(){return Uz.DeclarationRequest}});var jz=$I();Object.defineProperty(E,"SelectionRangeRequest",{enumerable:!0,get:function(){return jz.SelectionRangeRequest}});var YS=GI();Object.defineProperty(E,"WorkDoneProgress",{enumerable:!0,get:function(){return YS.WorkDoneProgress}});Object.defineProperty(E,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return YS.WorkDoneProgressCreateRequest}});Object.defineProperty(E,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return YS.WorkDoneProgressCancelNotification}});var QS=QI();Object.defineProperty(E,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return QS.CallHierarchyIncomingCallsRequest}});Object.defineProperty(E,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return QS.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(E,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return QS.CallHierarchyPrepareRequest}});var Wa=r_();Object.defineProperty(E,"TokenFormat",{enumerable:!0,get:function(){return Wa.TokenFormat}});Object.defineProperty(E,"SemanticTokensRequest",{enumerable:!0,get:function(){return Wa.SemanticTokensRequest}});Object.defineProperty(E,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Wa.SemanticTokensDeltaRequest}});Object.defineProperty(E,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Wa.SemanticTokensRangeRequest}});Object.defineProperty(E,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Wa.SemanticTokensRefreshRequest}});Object.defineProperty(E,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Wa.SemanticTokensRegistrationType}});var Bz=a_();Object.defineProperty(E,"ShowDocumentRequest",{enumerable:!0,get:function(){return Bz.ShowDocumentRequest}});var Wz=l_();Object.defineProperty(E,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Wz.LinkedEditingRangeRequest}});var xo=C_();Object.defineProperty(E,"FileOperationPatternKind",{enumerable:!0,get:function(){return xo.FileOperationPatternKind}});Object.defineProperty(E,"DidCreateFilesNotification",{enumerable:!0,get:function(){return xo.DidCreateFilesNotification}});Object.defineProperty(E,"WillCreateFilesRequest",{enumerable:!0,get:function(){return xo.WillCreateFilesRequest}});Object.defineProperty(E,"DidRenameFilesNotification",{enumerable:!0,get:function(){return xo.DidRenameFilesNotification}});Object.defineProperty(E,"WillRenameFilesRequest",{enumerable:!0,get:function(){return xo.WillRenameFilesRequest}});Object.defineProperty(E,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return xo.DidDeleteFilesNotification}});Object.defineProperty(E,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return xo.WillDeleteFilesRequest}});var ZS=T_();Object.defineProperty(E,"UniquenessLevel",{enumerable:!0,get:function(){return ZS.UniquenessLevel}});Object.defineProperty(E,"MonikerKind",{enumerable:!0,get:function(){return ZS.MonikerKind}});Object.defineProperty(E,"MonikerRequest",{enumerable:!0,get:function(){return ZS.MonikerRequest}});var eb=k_();Object.defineProperty(E,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return eb.TypeHierarchyPrepareRequest}});Object.defineProperty(E,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return eb.TypeHierarchySubtypesRequest}});Object.defineProperty(E,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return eb.TypeHierarchySupertypesRequest}});var uN=R_();Object.defineProperty(E,"InlineValueRequest",{enumerable:!0,get:function(){return uN.InlineValueRequest}});Object.defineProperty(E,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return uN.InlineValueRefreshRequest}});var tb=N_();Object.defineProperty(E,"InlayHintRequest",{enumerable:!0,get:function(){return tb.InlayHintRequest}});Object.defineProperty(E,"InlayHintResolveRequest",{enumerable:!0,get:function(){return tb.InlayHintResolveRequest}});Object.defineProperty(E,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return tb.InlayHintRefreshRequest}});var Ju=B_();Object.defineProperty(E,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Ju.DiagnosticServerCancellationData}});Object.defineProperty(E,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Ju.DocumentDiagnosticReportKind}});Object.defineProperty(E,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Ju.DocumentDiagnosticRequest}});Object.defineProperty(E,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Ju.WorkspaceDiagnosticRequest}});Object.defineProperty(E,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Ju.DiagnosticRefreshRequest}});var Fr=G_();Object.defineProperty(E,"NotebookCellKind",{enumerable:!0,get:function(){return Fr.NotebookCellKind}});Object.defineProperty(E,"ExecutionSummary",{enumerable:!0,get:function(){return Fr.ExecutionSummary}});Object.defineProperty(E,"NotebookCell",{enumerable:!0,get:function(){return Fr.NotebookCell}});Object.defineProperty(E,"NotebookDocument",{enumerable:!0,get:function(){return Fr.NotebookDocument}});Object.defineProperty(E,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Fr.NotebookDocumentSyncRegistrationType}});Object.defineProperty(E,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Fr.DidOpenNotebookDocumentNotification}});Object.defineProperty(E,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Fr.NotebookCellArrayChange}});Object.defineProperty(E,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Fr.DidChangeNotebookDocumentNotification}});Object.defineProperty(E,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Fr.DidSaveNotebookDocumentNotification}});Object.defineProperty(E,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Fr.DidCloseNotebookDocumentNotification}});var Kz=Y_();Object.defineProperty(E,"InlineCompletionRequest",{enumerable:!0,get:function(){return Kz.InlineCompletionRequest}});var zS;(function(t){function e(n){let i=n;return fn.string(i)||fn.string(i.language)||fn.string(i.scheme)||fn.string(i.pattern)}t.is=e})(zS||(E.TextDocumentFilter=zS={}));var GS;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(fn.string(i.notebookType)||fn.string(i.scheme)||fn.string(i.pattern))}t.is=e})(GS||(E.NotebookDocumentFilter=GS={}));var JS;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(fn.string(i.notebook)||GS.is(i.notebook))&&(i.language===void 0||fn.string(i.language))}t.is=e})(JS||(E.NotebookCellTextDocumentFilter=JS={}));var XS;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let i of n)if(!fn.string(i)&&!zS.is(i)&&!JS.is(i))return!1;return!0}t.is=e})(XS||(E.DocumentSelector=XS={}));var Z_;(function(t){t.method="client/registerCapability",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(Z_||(E.RegistrationRequest=Z_={}));var e1;(function(t){t.method="client/unregisterCapability",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(e1||(E.UnregistrationRequest=e1={}));var t1;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(t1||(E.ResourceOperationKind=t1={}));var n1;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(n1||(E.FailureHandlingKind=n1={}));var i1;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(i1||(E.PositionEncodingKind=i1={}));var r1;(function(t){function e(n){let i=n;return i&&fn.string(i.id)&&i.id.length>0}t.hasId=e})(r1||(E.StaticRegistrationOptions=r1={}));var s1;(function(t){function e(n){let i=n;return i&&(i.documentSelector===null||XS.is(i.documentSelector))}t.is=e})(s1||(E.TextDocumentRegistrationOptions=s1={}));var o1;(function(t){function e(i){let r=i;return fn.objectLiteral(r)&&(r.workDoneProgress===void 0||fn.boolean(r.workDoneProgress))}t.is=e;function n(i){let r=i;return r&&fn.boolean(r.workDoneProgress)}t.hasWorkDoneProgress=n})(o1||(E.WorkDoneProgressOptions=o1={}));var a1;(function(t){t.method="initialize",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(a1||(E.InitializeRequest=a1={}));var c1;(function(t){t.unknownProtocolVersion=1})(c1||(E.InitializeErrorCodes=c1={}));var u1;(function(t){t.method="initialized",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(u1||(E.InitializedNotification=u1={}));var l1;(function(t){t.method="shutdown",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType0(t.method)})(l1||(E.ShutdownRequest=l1={}));var d1;(function(t){t.method="exit",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType0(t.method)})(d1||(E.ExitNotification=d1={}));var f1;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(f1||(E.DidChangeConfigurationNotification=f1={}));var p1;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(p1||(E.MessageType=p1={}));var h1;(function(t){t.method="window/showMessage",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(h1||(E.ShowMessageNotification=h1={}));var g1;(function(t){t.method="window/showMessageRequest",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(g1||(E.ShowMessageRequest=g1={}));var m1;(function(t){t.method="window/logMessage",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(m1||(E.LogMessageNotification=m1={}));var y1;(function(t){t.method="telemetry/event",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(y1||(E.TelemetryEventNotification=y1={}));var C1;(function(t){t.None=0,t.Full=1,t.Incremental=2})(C1||(E.TextDocumentSyncKind=C1={}));var v1;(function(t){t.method="textDocument/didOpen",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(v1||(E.DidOpenTextDocumentNotification=v1={}));var S1;(function(t){function e(i){let r=i;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}t.isIncremental=e;function n(i){let r=i;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}t.isFull=n})(S1||(E.TextDocumentContentChangeEvent=S1={}));var b1;(function(t){t.method="textDocument/didChange",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(b1||(E.DidChangeTextDocumentNotification=b1={}));var D1;(function(t){t.method="textDocument/didClose",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(D1||(E.DidCloseTextDocumentNotification=D1={}));var T1;(function(t){t.method="textDocument/didSave",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(T1||(E.DidSaveTextDocumentNotification=T1={}));var w1;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(w1||(E.TextDocumentSaveReason=w1={}));var x1;(function(t){t.method="textDocument/willSave",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(x1||(E.WillSaveTextDocumentNotification=x1={}));var E1;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(E1||(E.WillSaveTextDocumentWaitUntilRequest=E1={}));var k1;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(k1||(E.DidChangeWatchedFilesNotification=k1={}));var F1;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(F1||(E.FileChangeType=F1={}));var P1;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(Q_.URI.is(i.baseUri)||Q_.WorkspaceFolder.is(i.baseUri))&&fn.string(i.pattern)}t.is=e})(P1||(E.RelativePattern=P1={}));var R1;(function(t){t.Create=1,t.Change=2,t.Delete=4})(R1||(E.WatchKind=R1={}));var A1;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(A1||(E.PublishDiagnosticsNotification=A1={}));var I1;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(I1||(E.CompletionTriggerKind=I1={}));var _1;(function(t){t.method="textDocument/completion",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(_1||(E.CompletionRequest=_1={}));var N1;(function(t){t.method="completionItem/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(N1||(E.CompletionResolveRequest=N1={}));var L1;(function(t){t.method="textDocument/hover",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(L1||(E.HoverRequest=L1={}));var O1;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(O1||(E.SignatureHelpTriggerKind=O1={}));var M1;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(M1||(E.SignatureHelpRequest=M1={}));var q1;(function(t){t.method="textDocument/definition",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(q1||(E.DefinitionRequest=q1={}));var U1;(function(t){t.method="textDocument/references",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(U1||(E.ReferencesRequest=U1={}));var j1;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(j1||(E.DocumentHighlightRequest=j1={}));var B1;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(B1||(E.DocumentSymbolRequest=B1={}));var W1;(function(t){t.method="textDocument/codeAction",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(W1||(E.CodeActionRequest=W1={}));var K1;(function(t){t.method="codeAction/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(K1||(E.CodeActionResolveRequest=K1={}));var $1;(function(t){t.method="workspace/symbol",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})($1||(E.WorkspaceSymbolRequest=$1={}));var H1;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(H1||(E.WorkspaceSymbolResolveRequest=H1={}));var V1;(function(t){t.method="textDocument/codeLens",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(V1||(E.CodeLensRequest=V1={}));var z1;(function(t){t.method="codeLens/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(z1||(E.CodeLensResolveRequest=z1={}));var G1;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType0(t.method)})(G1||(E.CodeLensRefreshRequest=G1={}));var J1;(function(t){t.method="textDocument/documentLink",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(J1||(E.DocumentLinkRequest=J1={}));var X1;(function(t){t.method="documentLink/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(X1||(E.DocumentLinkResolveRequest=X1={}));var Y1;(function(t){t.method="textDocument/formatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(Y1||(E.DocumentFormattingRequest=Y1={}));var Q1;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(Q1||(E.DocumentRangeFormattingRequest=Q1={}));var Z1;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(Z1||(E.DocumentRangesFormattingRequest=Z1={}));var eN;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(eN||(E.DocumentOnTypeFormattingRequest=eN={}));var tN;(function(t){t.Identifier=1})(tN||(E.PrepareSupportDefaultBehavior=tN={}));var nN;(function(t){t.method="textDocument/rename",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(nN||(E.RenameRequest=nN={}));var iN;(function(t){t.method="textDocument/prepareRename",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(iN||(E.PrepareRenameRequest=iN={}));var rN;(function(t){t.method="workspace/executeCommand",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(rN||(E.ExecuteCommandRequest=rN={}));var sN;(function(t){t.method="workspace/applyEdit",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType("workspace/applyEdit")})(sN||(E.ApplyWorkspaceEditRequest=sN={}))});var fN=F(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.createProtocolConnection=void 0;var dN=wo();function $z(t,e,n,i){return dN.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,dN.createMessageConnection)(t,e,n,i)}Rp.createProtocolConnection=$z});var hN=F(oi=>{"use strict";var Hz=oi&&oi.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),Ap=oi&&oi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Hz(e,t,n)};Object.defineProperty(oi,"__esModule",{value:!0});oi.LSPErrorCodes=oi.createProtocolConnection=void 0;Ap(wo(),oi);Ap(hp(),oi);Ap(Ft(),oi);Ap(lN(),oi);var Vz=fN();Object.defineProperty(oi,"createProtocolConnection",{enumerable:!0,get:function(){return Vz.createProtocolConnection}});var pN;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(pN||(oi.LSPErrorCodes=pN={}))});var _e=F(Pr=>{"use strict";var zz=Pr&&Pr.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),gN=Pr&&Pr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&zz(e,t,n)};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.createProtocolConnection=void 0;var Gz=US();gN(US(),Pr);gN(hN(),Pr);function Jz(t,e,n,i){return(0,Gz.createMessageConnection)(t,e,n,i)}Pr.createProtocolConnection=Jz});var Ip=F(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.forEach=Fn.mapAsync=Fn.map=Fn.clearTestMode=Fn.setTestMode=Fn.Semaphore=Fn.Delayer=void 0;var Yu=_e(),nb=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(i=>{this.onSuccess=i}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var i=this.task();return this.task=void 0,i})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,Yu.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Fn.Delayer=nb;var ib=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Yu.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Fn.Semaphore=ib;var rb=!1;function Xz(){rb=!0}Fn.setTestMode=Xz;function Yz(){rb=!1}Fn.clearTestMode=Yz;var mN=15,Xu=class{constructor(e=mN){this.yieldAfter=rb===!0?Math.max(e,2):Math.max(e,mN),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Qz(t,e,n,i){if(t.length===0)return[];let r=new Array(t.length),s=new Xu(i?.yieldAfter);function o(c){s.start();for(let u=c;u<t.length;u++)if(r[u]=e(t[u]),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),u+1;return-1}let a=o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,Yu.RAL)().timer.setImmediate(()=>{c(o(a))})});return r}Fn.map=Qz;async function Zz(t,e,n,i){if(t.length===0)return[];let r=new Array(t.length),s=new Xu(i?.yieldAfter);async function o(c){s.start();for(let u=c;u<t.length;u++)if(r[u]=await e(t[u],n),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),u+1;return-1}let a=await o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,Yu.RAL)().timer.setImmediate(()=>{c(o(a))})});return r}Fn.mapAsync=Zz;async function e9(t,e,n,i){if(t.length===0)return;let r=new Xu(i?.yieldAfter);function s(a){r.start();for(let c=a;c<t.length;c++)if(e(t[c]),r.shouldYield())return i?.yieldCallback&&i.yieldCallback(),c+1;return-1}let o=s(0);for(;o!==-1&&!(n!==void 0&&n.isCancellationRequested);)o=await new Promise(a=>{(0,Yu.RAL)().timer.setImmediate(()=>{a(s(o))})})}Fn.forEach=e9});var ab=F(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});var t9=require("vscode"),sb=class extends t9.CompletionItem{constructor(e){super(e)}};ob.default=sb});var lb=F(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});var n9=require("vscode"),cb=class extends n9.CodeLens{constructor(e){super(e)}};ub.default=cb});var pb=F(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});var i9=require("vscode"),db=class extends i9.DocumentLink{constructor(e,n){super(e,n)}};fb.default=db});var mb=F(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});var r9=require("vscode"),hb=class extends r9.CodeAction{constructor(e,n){super(e),this.data=n}};gb.default=hb});var vb=F(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.ProtocolDiagnostic=Ka.DiagnosticCode=void 0;var s9=require("vscode"),yb=Oi(),yN;(function(t){function e(n){let i=n;return i!=null&&(yb.number(i.value)||yb.string(i.value))&&yb.string(i.target)}t.is=e})(yN||(Ka.DiagnosticCode=yN={}));var Cb=class extends s9.Diagnostic{constructor(e,n,i,r){super(e,n,i),this.data=r,this.hasDiagnosticCode=!1}};Ka.ProtocolDiagnostic=Cb});var Db=F(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});var o9=require("vscode"),Sb=class extends o9.CallHierarchyItem{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,o),a!==void 0&&(this.data=a)}};bb.default=Sb});var xb=F(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});var a9=require("vscode"),Tb=class extends a9.TypeHierarchyItem{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,o),a!==void 0&&(this.data=a)}};wb.default=Tb});var Fb=F(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});var _p=require("vscode"),Eb=class extends _p.SymbolInformation{constructor(e,n,i,r,s){let o=!(r instanceof _p.Uri);super(e,n,i,o?r:new _p.Location(r,new _p.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s)}};kb.default=Eb});var Ab=F(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});var c9=require("vscode"),Pb=class extends c9.InlayHint{constructor(e,n,i){super(e,n,i)}};Rb.default=Pb});var bN=F(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.createConverter=void 0;var en=require("vscode"),Ne=_e(),Eo=Oi(),CN=Ip(),u9=ab(),l9=lb(),d9=pb(),vN=mb(),SN=vb(),f9=Db(),p9=xb(),h9=Fb(),g9=Ab(),Ib;(function(t){function e(n){let i=n;return i&&!!i.inserting&&!!i.replacing}t.is=e})(Ib||(Ib={}));function m9(t){let n=t||(b=>b.toString());function i(b){return n(b)}function r(b){return{uri:n(b.uri)}}function s(b){return{uri:n(b.uri),languageId:b.languageId,version:b.version,text:b.getText()}}function o(b){return{uri:n(b.uri),version:b.version}}function a(b){return{textDocument:s(b)}}function c(b){let V=b;return!!V.document&&!!V.contentChanges}function u(b){let V=b;return!!V.uri&&!!V.version}function f(b,V,he){if(u(b))return{textDocument:{uri:n(b.uri),version:b.version},contentChanges:[{text:b.getText()}]};if(c(b)){let et=V,O=he;return{textDocument:{uri:n(et),version:O},contentChanges:b.contentChanges.map(R=>{let I=R.range;return{range:{start:{line:I.start.line,character:I.start.character},end:{line:I.end.line,character:I.end.character}},rangeLength:R.rangeLength,text:R.text}})}}else throw Error("Unsupported text document change parameter")}function g(b){return{textDocument:r(b)}}function p(b,V=!1){let he={textDocument:r(b)};return V&&(he.text=b.getText()),he}function l(b){switch(b){case en.TextDocumentSaveReason.Manual:return Ne.TextDocumentSaveReason.Manual;case en.TextDocumentSaveReason.AfterDelay:return Ne.TextDocumentSaveReason.AfterDelay;case en.TextDocumentSaveReason.FocusOut:return Ne.TextDocumentSaveReason.FocusOut}return Ne.TextDocumentSaveReason.Manual}function d(b){return{textDocument:r(b.document),reason:l(b.reason)}}function h(b){return{files:b.files.map(V=>({uri:n(V)}))}}function m(b){return{files:b.files.map(V=>({oldUri:n(V.oldUri),newUri:n(V.newUri)}))}}function C(b){return{files:b.files.map(V=>({uri:n(V)}))}}function T(b){return{files:b.files.map(V=>({uri:n(V)}))}}function w(b){return{files:b.files.map(V=>({oldUri:n(V.oldUri),newUri:n(V.newUri)}))}}function k(b){return{files:b.files.map(V=>({uri:n(V)}))}}function A(b,V){return{textDocument:r(b),position:K(V)}}function B(b){switch(b){case en.CompletionTriggerKind.TriggerCharacter:return Ne.CompletionTriggerKind.TriggerCharacter;case en.CompletionTriggerKind.TriggerForIncompleteCompletions:return Ne.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Ne.CompletionTriggerKind.Invoked}}function W(b,V,he){return{textDocument:r(b),position:K(V),context:{triggerKind:B(he.triggerKind),triggerCharacter:he.triggerCharacter}}}function U(b){switch(b){case en.SignatureHelpTriggerKind.Invoke:return Ne.SignatureHelpTriggerKind.Invoked;case en.SignatureHelpTriggerKind.TriggerCharacter:return Ne.SignatureHelpTriggerKind.TriggerCharacter;case en.SignatureHelpTriggerKind.ContentChange:return Ne.SignatureHelpTriggerKind.ContentChange}}function ie(b){return{label:b.label}}function ne(b){return b.map(ie)}function $(b){return{label:b.label,parameters:ne(b.parameters)}}function N(b){return b.map($)}function H(b){return b===void 0?b:{signatures:N(b.signatures),activeSignature:b.activeSignature,activeParameter:b.activeParameter}}function te(b,V,he){return{textDocument:r(b),position:K(V),context:{isRetrigger:he.isRetrigger,triggerCharacter:he.triggerCharacter,triggerKind:U(he.triggerKind),activeSignatureHelp:H(he.activeSignatureHelp)}}}function K(b){return{line:b.line,character:b.character}}function G(b){return b==null?b:{line:b.line>Ne.uinteger.MAX_VALUE?Ne.uinteger.MAX_VALUE:b.line,character:b.character>Ne.uinteger.MAX_VALUE?Ne.uinteger.MAX_VALUE:b.character}}function Q(b,V){return CN.map(b,G,V)}function ae(b){return b.map(G)}function se(b){return b==null?b:{start:G(b.start),end:G(b.end)}}function re(b){return b.map(se)}function ye(b){return b==null?b:Ne.Location.create(i(b.uri),se(b.range))}function ve(b){switch(b){case en.DiagnosticSeverity.Error:return Ne.DiagnosticSeverity.Error;case en.DiagnosticSeverity.Warning:return Ne.DiagnosticSeverity.Warning;case en.DiagnosticSeverity.Information:return Ne.DiagnosticSeverity.Information;case en.DiagnosticSeverity.Hint:return Ne.DiagnosticSeverity.Hint}}function $e(b){if(!b)return;let V=[];for(let he of b){let et=ke(he);et!==void 0&&V.push(et)}return V.length>0?V:void 0}function ke(b){switch(b){case en.DiagnosticTag.Unnecessary:return Ne.DiagnosticTag.Unnecessary;case en.DiagnosticTag.Deprecated:return Ne.DiagnosticTag.Deprecated;default:return}}function ht(b){return{message:b.message,location:ye(b.location)}}function wt(b){return b.map(ht)}function Jn(b){if(b!=null)return Eo.number(b)||Eo.string(b)?b:{value:b.value,target:i(b.target)}}function qn(b){let V=Ne.Diagnostic.create(se(b.range),b.message),he=b instanceof SN.ProtocolDiagnostic?b:void 0;he!==void 0&&he.data!==void 0&&(V.data=he.data);let et=Jn(b.code);return SN.DiagnosticCode.is(et)?he!==void 0&&he.hasDiagnosticCode?V.code=et:(V.code=et.value,V.codeDescription={href:et.target}):V.code=et,Eo.number(b.severity)&&(V.severity=ve(b.severity)),Array.isArray(b.tags)&&(V.tags=$e(b.tags)),b.relatedInformation&&(V.relatedInformation=wt(b.relatedInformation)),b.source&&(V.source=b.source),V}function Un(b,V){return b==null?b:CN.map(b,qn,V)}function jn(b){return b==null?b:b.map(qn)}function Xn(b,V){switch(b){case"$string":return V;case Ne.MarkupKind.PlainText:return{kind:b,value:V};case Ne.MarkupKind.Markdown:return{kind:b,value:V.value};default:return`Unsupported Markup content received. Kind is: ${b}`}}function nt(b){switch(b){case en.CompletionItemTag.Deprecated:return Ne.CompletionItemTag.Deprecated}}function pi(b){if(b===void 0)return b;let V=[];for(let he of b){let et=nt(he);et!==void 0&&V.push(et)}return V}function Bn(b,V){return V!==void 0?V:b+1}function rn(b,V=!1){let he,et;Eo.string(b.label)?he=b.label:(he=b.label.label,V&&(b.label.detail!==void 0||b.label.description!==void 0)&&(et={detail:b.label.detail,description:b.label.description}));let O={label:he};et!==void 0&&(O.labelDetails=et);let D=b instanceof u9.default?b:void 0;b.detail&&(O.detail=b.detail),b.documentation&&(!D||D.documentationFormat==="$string"?O.documentation=b.documentation:O.documentation=Xn(D.documentationFormat,b.documentation)),b.filterText&&(O.filterText=b.filterText),Ri(O,b),Eo.number(b.kind)&&(O.kind=Bn(b.kind,D&&D.originalItemKind)),b.sortText&&(O.sortText=b.sortText),b.additionalTextEdits&&(O.additionalTextEdits=lt(b.additionalTextEdits)),b.commitCharacters&&(O.commitCharacters=b.commitCharacters.slice()),b.command&&(O.command=z(b.command)),(b.preselect===!0||b.preselect===!1)&&(O.preselect=b.preselect);let R=pi(b.tags);if(D){if(D.data!==void 0&&(O.data=D.data),D.deprecated===!0||D.deprecated===!1){if(D.deprecated===!0&&R!==void 0&&R.length>0){let I=R.indexOf(en.CompletionItemTag.Deprecated);I!==-1&&R.splice(I,1)}O.deprecated=D.deprecated}D.insertTextMode!==void 0&&(O.insertTextMode=D.insertTextMode)}return R!==void 0&&R.length>0&&(O.tags=R),O.insertTextMode===void 0&&b.keepWhitespace===!0&&(O.insertTextMode=Ne.InsertTextMode.adjustIndentation),O}function Ri(b,V){let he=Ne.InsertTextFormat.PlainText,et,O;V.textEdit?(et=V.textEdit.newText,O=V.textEdit.range):V.insertText instanceof en.SnippetString?(he=Ne.InsertTextFormat.Snippet,et=V.insertText.value):et=V.insertText,V.range&&(O=V.range),b.insertTextFormat=he,V.fromEdit&&et!==void 0&&O!==void 0?b.textEdit=cn(et,O):b.insertText=et}function cn(b,V){return Ib.is(V)?Ne.InsertReplaceEdit.create(b,se(V.inserting),se(V.replacing)):{newText:b,range:se(V)}}function Yn(b){return{range:se(b.range),newText:b.newText}}function lt(b){return b==null?b:b.map(Yn)}function xt(b){return b<=en.SymbolKind.TypeParameter?b+1:Ne.SymbolKind.Property}function Gt(b){return b}function mn(b){return b.map(Gt)}function Wt(b,V,he){return{textDocument:r(b),position:K(V),context:{includeDeclaration:he.includeDeclaration}}}async function Wn(b,V){let he=Ne.CodeAction.create(b.title);if(b instanceof vN.default&&b.data!==void 0&&(he.data=b.data),b.kind!==void 0&&(he.kind=v(b.kind)),b.diagnostics!==void 0&&(he.diagnostics=await Un(b.diagnostics,V)),b.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return b.command!==void 0&&(he.command=z(b.command)),b.isPreferred!==void 0&&(he.isPreferred=b.isPreferred),b.disabled!==void 0&&(he.disabled={reason:b.disabled.reason}),he}function Qn(b){let V=Ne.CodeAction.create(b.title);if(b instanceof vN.default&&b.data!==void 0&&(V.data=b.data),b.kind!==void 0&&(V.kind=v(b.kind)),b.diagnostics!==void 0&&(V.diagnostics=jn(b.diagnostics)),b.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return b.command!==void 0&&(V.command=z(b.command)),b.isPreferred!==void 0&&(V.isPreferred=b.isPreferred),b.disabled!==void 0&&(V.disabled={reason:b.disabled.reason}),V}async function yn(b,V){if(b==null)return b;let he;return b.only&&Eo.string(b.only.value)&&(he=[b.only.value]),Ne.CodeActionContext.create(await Un(b.diagnostics,V),he,Et(b.triggerKind))}function Zn(b){if(b==null)return b;let V;return b.only&&Eo.string(b.only.value)&&(V=[b.only.value]),Ne.CodeActionContext.create(jn(b.diagnostics),V,Et(b.triggerKind))}function Et(b){switch(b){case en.CodeActionTriggerKind.Invoke:return Ne.CodeActionTriggerKind.Invoked;case en.CodeActionTriggerKind.Automatic:return Ne.CodeActionTriggerKind.Automatic;default:return}}function v(b){if(b!=null)return b.value}function P(b){return b==null?b:Ne.InlineValueContext.create(b.frameId,se(b.stoppedLocation))}function q(b,V,he){return{context:Ne.InlineCompletionContext.create(he.triggerKind,he.selectedCompletionInfo),textDocument:r(b),position:G(V)}}function z(b){let V=Ne.Command.create(b.title,b.command);return b.arguments&&(V.arguments=b.arguments),V}function Ce(b){let V=Ne.CodeLens.create(se(b.range));return b.command&&(V.command=z(b.command)),b instanceof l9.default&&b.data&&(V.data=b.data),V}function ge(b,V){let he={tabSize:b.tabSize,insertSpaces:b.insertSpaces};return V.trimTrailingWhitespace&&(he.trimTrailingWhitespace=!0),V.trimFinalNewlines&&(he.trimFinalNewlines=!0),V.insertFinalNewline&&(he.insertFinalNewline=!0),he}function we(b){return{textDocument:r(b)}}function xe(b){return{textDocument:r(b)}}function ue(b){let V=Ne.DocumentLink.create(se(b.range));b.target&&(V.target=i(b.target)),b.tooltip!==void 0&&(V.tooltip=b.tooltip);let he=b instanceof d9.default?b:void 0;return he&&he.data&&(V.data=he.data),V}function Se(b){return{textDocument:r(b)}}function de(b){let V={name:b.name,kind:xt(b.kind),uri:i(b.uri),range:se(b.range),selectionRange:se(b.selectionRange)};return b.detail!==void 0&&b.detail.length>0&&(V.detail=b.detail),b.tags!==void 0&&(V.tags=mn(b.tags)),b instanceof f9.default&&b.data!==void 0&&(V.data=b.data),V}function L(b){let V={name:b.name,kind:xt(b.kind),uri:i(b.uri),range:se(b.range),selectionRange:se(b.selectionRange)};return b.detail!==void 0&&b.detail.length>0&&(V.detail=b.detail),b.tags!==void 0&&(V.tags=mn(b.tags)),b instanceof p9.default&&b.data!==void 0&&(V.data=b.data),V}function M(b){let V=b instanceof h9.default?{name:b.name,kind:xt(b.kind),location:b.hasRange?ye(b.location):{uri:n(b.location.uri)},data:b.data}:{name:b.name,kind:xt(b.kind),location:ye(b.location)};return b.tags!==void 0&&(V.tags=mn(b.tags)),b.containerName!==""&&(V.containerName=b.containerName),V}function Y(b){let V=typeof b.label=="string"?b.label:b.label.map(Ee),he=Ne.InlayHint.create(G(b.position),V);return b.kind!==void 0&&(he.kind=b.kind),b.textEdits!==void 0&&(he.textEdits=lt(b.textEdits)),b.tooltip!==void 0&&(he.tooltip=Kt(b.tooltip)),b.paddingLeft!==void 0&&(he.paddingLeft=b.paddingLeft),b.paddingRight!==void 0&&(he.paddingRight=b.paddingRight),b instanceof g9.default&&b.data!==void 0&&(he.data=b.data),he}function Ee(b){let V=Ne.InlayHintLabelPart.create(b.value);return b.location!==void 0&&(V.location=ye(b.location)),b.command!==void 0&&(V.command=z(b.command)),b.tooltip!==void 0&&(V.tooltip=Kt(b.tooltip)),V}function Kt(b){return typeof b=="string"?b:{kind:Ne.MarkupKind.Markdown,value:b.value}}return{asUri:i,asTextDocumentIdentifier:r,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:f,asCloseTextDocumentParams:g,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:d,asDidCreateFilesParams:h,asDidRenameFilesParams:m,asDidDeleteFilesParams:C,asWillCreateFilesParams:T,asWillRenameFilesParams:w,asWillDeleteFilesParams:k,asTextDocumentPositionParams:A,asCompletionParams:W,asSignatureHelpParams:te,asWorkerPosition:K,asRange:se,asRanges:re,asPosition:G,asPositions:Q,asPositionsSync:ae,asLocation:ye,asDiagnosticSeverity:ve,asDiagnosticTag:ke,asDiagnostic:qn,asDiagnostics:Un,asDiagnosticsSync:jn,asCompletionItem:rn,asTextEdit:Yn,asSymbolKind:xt,asSymbolTag:Gt,asSymbolTags:mn,asReferenceParams:Wt,asCodeAction:Wn,asCodeActionSync:Qn,asCodeActionContext:yn,asCodeActionContextSync:Zn,asInlineValueContext:P,asCommand:z,asCodeLens:Ce,asFormattingOptions:ge,asDocumentSymbolParams:we,asCodeLensParams:xe,asDocumentLink:ue,asDocumentLinkParams:Se,asCallHierarchyItem:de,asTypeHierarchyItem:L,asInlayHint:Y,asWorkspaceSymbol:M,asInlineCompletionParams:q}}Np.createConverter=m9});var wN=F(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.createConverter=void 0;var le=require("vscode"),Re=_e(),Ui=Oi(),Ze=Ip(),y9=ab(),C9=lb(),v9=pb(),S9=mb(),DN=vb(),b9=Db(),D9=xb(),T9=Fb(),w9=Ab(),TN=_e(),Lp;(function(t){function e(n){let i=n;return i&&Ui.string(i.language)&&Ui.string(i.value)}t.is=e})(Lp||(Lp={}));function x9(t,e,n){let r=t||(y=>le.Uri.parse(y));function s(y){return r(y)}function o(y){let _=[];for(let ee of y)if(typeof ee=="string")_.push(ee);else if(TN.NotebookCellTextDocumentFilter.is(ee))if(typeof ee.notebook=="string")_.push({notebookType:ee.notebook,language:ee.language});else{let me=ee.notebook.notebookType??"*";_.push({notebookType:me,scheme:ee.notebook.scheme,pattern:ee.notebook.pattern,language:ee.language})}else TN.TextDocumentFilter.is(ee)&&_.push({language:ee.language,scheme:ee.scheme,pattern:ee.pattern});return _}async function a(y,_){return Ze.map(y,u,_)}function c(y){let _=new Array(y.length);for(let ee=0;ee<y.length;ee++)_[ee]=u(y[ee]);return _}function u(y){let _=new DN.ProtocolDiagnostic(d(y.range),y.message,m(y.severity),y.data);if(y.code!==void 0){if(typeof y.code=="string"||typeof y.code=="number")Re.CodeDescription.is(y.codeDescription)?_.code={value:y.code,target:s(y.codeDescription.href)}:_.code=y.code;else if(DN.DiagnosticCode.is(y.code)){_.hasDiagnosticCode=!0;let ee=y.code;_.code={value:ee.value,target:s(ee.target)}}}return y.source&&(_.source=y.source),y.relatedInformation&&(_.relatedInformation=f(y.relatedInformation)),Array.isArray(y.tags)&&(_.tags=g(y.tags)),_}function f(y){let _=new Array(y.length);for(let ee=0;ee<y.length;ee++){let me=y[ee];_[ee]=new le.DiagnosticRelatedInformation(ve(me.location),me.message)}return _}function g(y){if(!y)return;let _=[];for(let ee of y){let me=p(ee);me!==void 0&&_.push(me)}return _.length>0?_:void 0}function p(y){switch(y){case Re.DiagnosticTag.Unnecessary:return le.DiagnosticTag.Unnecessary;case Re.DiagnosticTag.Deprecated:return le.DiagnosticTag.Deprecated;default:return}}function l(y){return y?new le.Position(y.line,y.character):void 0}function d(y){return y?new le.Range(y.start.line,y.start.character,y.end.line,y.end.character):void 0}async function h(y,_){return Ze.map(y,ee=>new le.Range(ee.start.line,ee.start.character,ee.end.line,ee.end.character),_)}function m(y){if(y==null)return le.DiagnosticSeverity.Error;switch(y){case Re.DiagnosticSeverity.Error:return le.DiagnosticSeverity.Error;case Re.DiagnosticSeverity.Warning:return le.DiagnosticSeverity.Warning;case Re.DiagnosticSeverity.Information:return le.DiagnosticSeverity.Information;case Re.DiagnosticSeverity.Hint:return le.DiagnosticSeverity.Hint}return le.DiagnosticSeverity.Error}function C(y){if(Ui.string(y))return w(y);if(Lp.is(y))return w().appendCodeblock(y.value,y.language);if(Array.isArray(y)){let _=[];for(let ee of y){let me=w();Lp.is(ee)?me.appendCodeblock(ee.value,ee.language):me.appendMarkdown(ee),_.push(me)}return _}else return w(y)}function T(y){if(Ui.string(y))return y;switch(y.kind){case Re.MarkupKind.Markdown:return w(y.value);case Re.MarkupKind.PlainText:return y.value;default:return`Unsupported Markup content received. Kind is: ${y.kind}`}}function w(y){let _;if(y===void 0||typeof y=="string")_=new le.MarkdownString(y);else switch(y.kind){case Re.MarkupKind.Markdown:_=new le.MarkdownString(y.value);break;case Re.MarkupKind.PlainText:_=new le.MarkdownString,_.appendText(y.value);break;default:_=new le.MarkdownString,_.appendText(`Unsupported Markup content received. Kind is: ${y.kind}`);break}return _.isTrusted=e,_.supportHtml=n,_}function k(y){if(y)return new le.Hover(C(y.contents),d(y.range))}async function A(y,_,ee){if(!y)return;if(Array.isArray(y))return Ze.map(y,mr=>ne(mr,_),ee);let me=y,{defaultRange:un,commitCharacters:Cn}=B(me,_),gt=await Ze.map(me.items,mr=>ne(mr,Cn,un,me.itemDefaults?.insertTextMode,me.itemDefaults?.insertTextFormat,me.itemDefaults?.data),ee);return new le.CompletionList(gt,me.isIncomplete)}function B(y,_){let ee=y.itemDefaults?.editRange,me=y.itemDefaults?.commitCharacters??_;return Re.Range.is(ee)?{defaultRange:d(ee),commitCharacters:me}:ee!==void 0?{defaultRange:{inserting:d(ee.insert),replacing:d(ee.replace)},commitCharacters:me}:{defaultRange:void 0,commitCharacters:me}}function W(y){return Re.CompletionItemKind.Text<=y&&y<=Re.CompletionItemKind.TypeParameter?[y-1,void 0]:[le.CompletionItemKind.Text,y]}function U(y){switch(y){case Re.CompletionItemTag.Deprecated:return le.CompletionItemTag.Deprecated}}function ie(y){if(y==null)return[];let _=[];for(let ee of y){let me=U(ee);me!==void 0&&_.push(me)}return _}function ne(y,_,ee,me,un,Cn){let gt=ie(y.tags),mr=$(y),yt=new y9.default(mr);y.detail&&(yt.detail=y.detail),y.documentation&&(yt.documentation=T(y.documentation),yt.documentationFormat=Ui.string(y.documentation)?"$string":y.documentation.kind),y.filterText&&(yt.filterText=y.filterText);let fd=N(y,ee,un);if(fd&&(yt.insertText=fd.text,yt.range=fd.range,yt.fromEdit=fd.fromEdit),Ui.number(y.kind)){let[qj,OE]=W(y.kind);yt.kind=qj,OE&&(yt.originalItemKind=OE)}y.sortText&&(yt.sortText=y.sortText),y.additionalTextEdits&&(yt.additionalTextEdits=G(y.additionalTextEdits));let NE=y.commitCharacters!==void 0?Ui.stringArray(y.commitCharacters)?y.commitCharacters:void 0:_;NE&&(yt.commitCharacters=NE.slice()),y.command&&(yt.command=lt(y.command)),(y.deprecated===!0||y.deprecated===!1)&&(yt.deprecated=y.deprecated,y.deprecated===!0&&gt.push(le.CompletionItemTag.Deprecated)),(y.preselect===!0||y.preselect===!1)&&(yt.preselect=y.preselect);let LE=y.data??Cn;LE!==void 0&&(yt.data=LE),gt.length>0&&(yt.tags=gt);let Im=y.insertTextMode??me;return Im!==void 0&&(yt.insertTextMode=Im,Im===Re.InsertTextMode.asIs&&(yt.keepWhitespace=!0)),yt}function $(y){return Re.CompletionItemLabelDetails.is(y.labelDetails)?{label:y.label,detail:y.labelDetails.detail,description:y.labelDetails.description}:y.label}function N(y,_,ee){let me=y.insertTextFormat??ee;if(y.textEdit!==void 0||_!==void 0){let[un,Cn]=y.textEdit!==void 0?H(y.textEdit):[_,y.textEditText??y.label];return me===Re.InsertTextFormat.Snippet?{text:new le.SnippetString(Cn),range:un,fromEdit:!0}:{text:Cn,range:un,fromEdit:!0}}else return y.insertText?me===Re.InsertTextFormat.Snippet?{text:new le.SnippetString(y.insertText),fromEdit:!1}:{text:y.insertText,fromEdit:!1}:void 0}function H(y){return Re.InsertReplaceEdit.is(y)?[{inserting:d(y.insert),replacing:d(y.replace)},y.newText]:[d(y.range),y.newText]}function te(y){if(y)return new le.TextEdit(d(y.range),y.newText)}async function K(y,_){if(y)return Ze.map(y,te,_)}function G(y){if(!y)return;let _=new Array(y.length);for(let ee=0;ee<y.length;ee++)_[ee]=te(y[ee]);return _}async function Q(y,_){if(!y)return;let ee=new le.SignatureHelp;return Ui.number(y.activeSignature)?ee.activeSignature=y.activeSignature:ee.activeSignature=0,Ui.number(y.activeParameter)?ee.activeParameter=y.activeParameter:ee.activeParameter=0,y.signatures&&(ee.signatures=await ae(y.signatures,_)),ee}async function ae(y,_){return Ze.mapAsync(y,se,_)}async function se(y,_){let ee=new le.SignatureInformation(y.label);return y.documentation!==void 0&&(ee.documentation=T(y.documentation)),y.parameters!==void 0&&(ee.parameters=await re(y.parameters,_)),y.activeParameter!==void 0&&(ee.activeParameter=y.activeParameter),ee}function re(y,_){return Ze.map(y,ye,_)}function ye(y){let _=new le.ParameterInformation(y.label);return y.documentation&&(_.documentation=T(y.documentation)),_}function ve(y){return y?new le.Location(r(y.uri),d(y.range)):void 0}async function $e(y,_){if(y)return wt(y,_)}async function ke(y,_){if(y)return wt(y,_)}function ht(y){if(!y)return;let _={targetUri:r(y.targetUri),targetRange:d(y.targetRange),originSelectionRange:d(y.originSelectionRange),targetSelectionRange:d(y.targetSelectionRange)};if(!_.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return _}async function wt(y,_){if(y)if(Ui.array(y)){if(y.length===0)return[];if(Re.LocationLink.is(y[0])){let ee=y;return Ze.map(ee,ht,_)}else{let ee=y;return Ze.map(ee,ve,_)}}else return Re.LocationLink.is(y)?[ht(y)]:ve(y)}async function Jn(y,_){if(y)return Ze.map(y,ve,_)}async function qn(y,_){if(y)return Ze.map(y,Un,_)}function Un(y){let _=new le.DocumentHighlight(d(y.range));return Ui.number(y.kind)&&(_.kind=jn(y.kind)),_}function jn(y){switch(y){case Re.DocumentHighlightKind.Text:return le.DocumentHighlightKind.Text;case Re.DocumentHighlightKind.Read:return le.DocumentHighlightKind.Read;case Re.DocumentHighlightKind.Write:return le.DocumentHighlightKind.Write}return le.DocumentHighlightKind.Text}async function Xn(y,_){if(y)return Ze.map(y,rn,_)}function nt(y){return y<=Re.SymbolKind.TypeParameter?y-1:le.SymbolKind.Property}function pi(y){switch(y){case Re.SymbolTag.Deprecated:return le.SymbolTag.Deprecated;default:return}}function Bn(y){if(y==null)return;let _=[];for(let ee of y){let me=pi(ee);me!==void 0&&_.push(me)}return _.length===0?void 0:_}function rn(y){let _=y.data,ee=y.location,me=ee.range===void 0||_!==void 0?new T9.default(y.name,nt(y.kind),y.containerName??"",ee.range===void 0?r(ee.uri):new le.Location(r(y.location.uri),d(ee.range)),_):new le.SymbolInformation(y.name,nt(y.kind),y.containerName??"",new le.Location(r(y.location.uri),d(ee.range)));return Yn(me,y),me}async function Ri(y,_){if(y!=null)return Ze.map(y,cn,_)}function cn(y){let _=new le.DocumentSymbol(y.name,y.detail||"",nt(y.kind),d(y.range),d(y.selectionRange));if(Yn(_,y),y.children!==void 0&&y.children.length>0){let ee=[];for(let me of y.children)ee.push(cn(me));_.children=ee}return _}function Yn(y,_){y.tags=Bn(_.tags),_.deprecated&&(y.tags?y.tags.includes(le.SymbolTag.Deprecated)||(y.tags=y.tags.concat(le.SymbolTag.Deprecated)):y.tags=[le.SymbolTag.Deprecated])}function lt(y){let _={title:y.title,command:y.command};return y.arguments&&(_.arguments=y.arguments),_}async function xt(y,_){if(y)return Ze.map(y,lt,_)}let Gt=new Map;Gt.set(Re.CodeActionKind.Empty,le.CodeActionKind.Empty),Gt.set(Re.CodeActionKind.QuickFix,le.CodeActionKind.QuickFix),Gt.set(Re.CodeActionKind.Refactor,le.CodeActionKind.Refactor),Gt.set(Re.CodeActionKind.RefactorExtract,le.CodeActionKind.RefactorExtract),Gt.set(Re.CodeActionKind.RefactorInline,le.CodeActionKind.RefactorInline),Gt.set(Re.CodeActionKind.RefactorRewrite,le.CodeActionKind.RefactorRewrite),Gt.set(Re.CodeActionKind.Source,le.CodeActionKind.Source),Gt.set(Re.CodeActionKind.SourceOrganizeImports,le.CodeActionKind.SourceOrganizeImports);function mn(y){if(y==null)return;let _=Gt.get(y);if(_)return _;let ee=y.split(".");_=le.CodeActionKind.Empty;for(let me of ee)_=_.append(me);return _}function Wt(y){if(y!=null)return y.map(_=>mn(_))}async function Wn(y,_){if(y==null)return;let ee=new S9.default(y.title,y.data);return y.kind!==void 0&&(ee.kind=mn(y.kind)),y.diagnostics!==void 0&&(ee.diagnostics=c(y.diagnostics)),y.edit!==void 0&&(ee.edit=await Et(y.edit,_)),y.command!==void 0&&(ee.command=lt(y.command)),y.isPreferred!==void 0&&(ee.isPreferred=y.isPreferred),y.disabled!==void 0&&(ee.disabled={reason:y.disabled.reason}),ee}function Qn(y,_){return Ze.mapAsync(y,async ee=>Re.Command.is(ee)?lt(ee):Wn(ee,_),_)}function yn(y){if(!y)return;let _=new C9.default(d(y.range));return y.command&&(_.command=lt(y.command)),y.data!==void 0&&y.data!==null&&(_.data=y.data),_}async function Zn(y,_){if(y)return Ze.map(y,yn,_)}async function Et(y,_){if(!y)return;let ee=new Map;if(y.changeAnnotations!==void 0){let Cn=y.changeAnnotations;await Ze.forEach(Object.keys(Cn),gt=>{let mr=v(Cn[gt]);ee.set(gt,mr)},_)}let me=Cn=>{if(Cn!==void 0)return ee.get(Cn)},un=new le.WorkspaceEdit;if(y.documentChanges){let Cn=y.documentChanges;await Ze.forEach(Cn,gt=>{if(Re.CreateFile.is(gt))un.createFile(r(gt.uri),gt.options,me(gt.annotationId));else if(Re.RenameFile.is(gt))un.renameFile(r(gt.oldUri),r(gt.newUri),gt.options,me(gt.annotationId));else if(Re.DeleteFile.is(gt))un.deleteFile(r(gt.uri),gt.options,me(gt.annotationId));else if(Re.TextDocumentEdit.is(gt)){let mr=r(gt.textDocument.uri);for(let yt of gt.edits)Re.AnnotatedTextEdit.is(yt)?un.replace(mr,d(yt.range),yt.newText,me(yt.annotationId)):un.replace(mr,d(yt.range),yt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(gt,void 0,4)}`)},_)}else if(y.changes){let Cn=y.changes;await Ze.forEach(Object.keys(Cn),gt=>{un.set(r(gt),G(Cn[gt]))},_)}return un}function v(y){if(y!==void 0)return{label:y.label,needsConfirmation:!!y.needsConfirmation,description:y.description}}function P(y){let _=d(y.range),ee=y.target?s(y.target):void 0,me=new v9.default(_,ee);return y.tooltip!==void 0&&(me.tooltip=y.tooltip),y.data!==void 0&&y.data!==null&&(me.data=y.data),me}async function q(y,_){if(y)return Ze.map(y,P,_)}function z(y){return new le.Color(y.red,y.green,y.blue,y.alpha)}function Ce(y){return new le.ColorInformation(d(y.range),z(y.color))}async function ge(y,_){if(y)return Ze.map(y,Ce,_)}function we(y){let _=new le.ColorPresentation(y.label);return _.additionalTextEdits=G(y.additionalTextEdits),y.textEdit&&(_.textEdit=te(y.textEdit)),_}async function xe(y,_){if(y)return Ze.map(y,we,_)}function ue(y){if(y)switch(y){case Re.FoldingRangeKind.Comment:return le.FoldingRangeKind.Comment;case Re.FoldingRangeKind.Imports:return le.FoldingRangeKind.Imports;case Re.FoldingRangeKind.Region:return le.FoldingRangeKind.Region}}function Se(y){return new le.FoldingRange(y.startLine,y.endLine,ue(y.kind))}async function de(y,_){if(y)return Ze.map(y,Se,_)}function L(y){return new le.SelectionRange(d(y.range),y.parent?L(y.parent):void 0)}async function M(y,_){return Array.isArray(y)?Ze.map(y,L,_):[]}function Y(y){return Re.InlineValueText.is(y)?new le.InlineValueText(d(y.range),y.text):Re.InlineValueVariableLookup.is(y)?new le.InlineValueVariableLookup(d(y.range),y.variableName,y.caseSensitiveLookup):new le.InlineValueEvaluatableExpression(d(y.range),y.expression)}async function Ee(y,_){return Array.isArray(y)?Ze.map(y,Y,_):[]}async function Kt(y,_){let ee=typeof y.label=="string"?y.label:await Ze.map(y.label,b,_),me=new w9.default(l(y.position),ee);return y.kind!==void 0&&(me.kind=y.kind),y.textEdits!==void 0&&(me.textEdits=await K(y.textEdits,_)),y.tooltip!==void 0&&(me.tooltip=V(y.tooltip)),y.paddingLeft!==void 0&&(me.paddingLeft=y.paddingLeft),y.paddingRight!==void 0&&(me.paddingRight=y.paddingRight),y.data!==void 0&&(me.data=y.data),me}function b(y){let _=new le.InlayHintLabelPart(y.value);return y.location!==void 0&&(_.location=ve(y.location)),y.tooltip!==void 0&&(_.tooltip=V(y.tooltip)),y.command!==void 0&&(_.command=lt(y.command)),_}function V(y){return typeof y=="string"?y:w(y)}async function he(y,_){if(Array.isArray(y))return Ze.mapAsync(y,Kt,_)}function et(y){if(y===null)return;let _=new b9.default(nt(y.kind),y.name,y.detail||"",s(y.uri),d(y.range),d(y.selectionRange),y.data);return y.tags!==void 0&&(_.tags=Bn(y.tags)),_}async function O(y,_){if(y!==null)return Ze.map(y,et,_)}async function D(y,_){return new le.CallHierarchyIncomingCall(et(y.from),await h(y.fromRanges,_))}async function R(y,_){if(y!==null)return Ze.mapAsync(y,D,_)}async function I(y,_){return new le.CallHierarchyOutgoingCall(et(y.to),await h(y.fromRanges,_))}async function x(y,_){if(y!==null)return Ze.mapAsync(y,I,_)}async function S(y,_){if(y!=null)return new le.SemanticTokens(new Uint32Array(y.data),y.resultId)}function j(y){return new le.SemanticTokensEdit(y.start,y.deleteCount,y.data!==void 0?new Uint32Array(y.data):void 0)}async function Z(y,_){if(y!=null)return new le.SemanticTokensEdits(y.edits.map(j),y.resultId)}function Ie(y){return y}async function kt(y,_){if(y!=null)return new le.LinkedEditingRanges(await h(y.ranges,_),mt(y.wordPattern))}function mt(y){if(y!=null)return new RegExp(y)}function ei(y){if(y===null)return;let _=new D9.default(nt(y.kind),y.name,y.detail||"",s(y.uri),d(y.range),d(y.selectionRange),y.data);return y.tags!==void 0&&(_.tags=Bn(y.tags)),_}async function hi(y,_){if(y!==null)return Ze.map(y,ei,_)}function Yi(y){if(Ui.string(y))return y;if(Re.RelativePattern.is(y)){if(Re.URI.is(y.baseUri))return new le.RelativePattern(s(y.baseUri),y.pattern);if(Re.WorkspaceFolder.is(y.baseUri)){let _=le.workspace.getWorkspaceFolder(s(y.baseUri.uri));return _!==void 0?new le.RelativePattern(_,y.pattern):void 0}}}async function Ke(y,_){if(!y)return;if(Array.isArray(y))return Ze.map(y,un=>gr(un),_);let ee=y,me=await Ze.map(ee.items,un=>gr(un),_);return new le.InlineCompletionList(me)}function gr(y){let _;typeof y.insertText=="string"?_=y.insertText:_=new le.SnippetString(y.insertText.value);let ee;y.command&&(ee=lt(y.command));let me=new le.InlineCompletionItem(_,d(y.range),ee);return y.filterText&&(me.filterText=y.filterText),me}return{asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:u,asRange:d,asRanges:h,asPosition:l,asDiagnosticSeverity:m,asDiagnosticTag:p,asHover:k,asCompletionResult:A,asCompletionItem:ne,asTextEdit:te,asTextEdits:K,asSignatureHelp:Q,asSignatureInformations:ae,asSignatureInformation:se,asParameterInformations:re,asParameterInformation:ye,asDeclarationResult:$e,asDefinitionResult:ke,asLocation:ve,asReferences:Jn,asDocumentHighlights:qn,asDocumentHighlight:Un,asDocumentHighlightKind:jn,asSymbolKind:nt,asSymbolTag:pi,asSymbolTags:Bn,asSymbolInformations:Xn,asSymbolInformation:rn,asDocumentSymbols:Ri,asDocumentSymbol:cn,asCommand:lt,asCommands:xt,asCodeAction:Wn,asCodeActionKind:mn,asCodeActionKinds:Wt,asCodeActionResult:Qn,asCodeLens:yn,asCodeLenses:Zn,asWorkspaceEdit:Et,asDocumentLink:P,asDocumentLinks:q,asFoldingRangeKind:ue,asFoldingRange:Se,asFoldingRanges:de,asColor:z,asColorInformation:Ce,asColorInformations:ge,asColorPresentation:we,asColorPresentations:xe,asSelectionRange:L,asSelectionRanges:M,asInlineValue:Y,asInlineValues:Ee,asInlayHint:Kt,asInlayHints:he,asSemanticTokensLegend:Ie,asSemanticTokens:S,asSemanticTokensEdit:j,asSemanticTokensEdits:Z,asCallHierarchyItem:et,asCallHierarchyItems:O,asCallHierarchyIncomingCall:D,asCallHierarchyIncomingCalls:R,asCallHierarchyOutgoingCall:I,asCallHierarchyOutgoingCalls:x,asLinkedEditingRanges:kt,asTypeHierarchyItem:ei,asTypeHierarchyItems:hi,asGlobPattern:Yi,asInlineCompletionResult:Ke,asInlineCompletionItem:gr}}Op.createConverter=x9});var Pt=F(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.generateUuid=ji.parse=ji.isUUID=ji.v4=ji.empty=void 0;var Qu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Zu=class t extends Qu{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Zu._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Zu._timeHighBits=["8","9","a","b"];ji.empty=new Qu("00000000-0000-0000-0000-000000000000");function xN(){return new Zu}ji.v4=xN;var E9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function EN(t){return E9.test(t)}ji.isUUID=EN;function k9(t){if(!EN(t))throw new Error("invalid uuid");return new Qu(t)}ji.parse=k9;function F9(){return xN().asHex()}ji.generateUuid=F9});var Nb=F(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.ProgressPart=void 0;var kN=require("vscode"),FN=_e(),PN=Oi(),_b=class{constructor(e,n,i){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(FN.WorkDoneProgress.type,this._token,r=>{switch(r.kind){case"begin":this.begin(r);break;case"report":this.report(r);break;case"end":this.done(),i&&i(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&kN.window.withProgress({location:kN.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,i)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=i,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(FN.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((r,s)=>{this._resolve=r,this._reject=s})})}report(e){if(this._infinite&&PN.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(PN.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),i=Math.max(0,n-this._reported);this._reported+=i,this._progress!==void 0&&this._progress.report({message:e.message,increment:i})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Mp.ProgressPart=_b});var Qe=F(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.WorkspaceFeature=pn.TextDocumentLanguageFeature=pn.TextDocumentEventFeature=pn.DynamicDocumentFeature=pn.DynamicFeature=pn.StaticFeature=pn.ensure=pn.LSPCancellationError=void 0;var ko=require("vscode"),Lb=_e(),$n=Oi(),RN=Pt(),Ob=class extends ko.CancellationError{constructor(e){super(),this.data=e}};pn.LSPCancellationError=Ob;function P9(t,e){return t[e]===void 0&&(t[e]={}),t[e]}pn.ensure=P9;var AN;(function(t){function e(n){let i=n;return i!=null&&$n.func(i.fillClientCapabilities)&&$n.func(i.initialize)&&$n.func(i.getState)&&$n.func(i.clear)&&(i.fillInitializeParams===void 0||$n.func(i.fillInitializeParams))}t.is=e})(AN||(pn.StaticFeature=AN={}));var IN;(function(t){function e(n){let i=n;return i!=null&&$n.func(i.fillClientCapabilities)&&$n.func(i.initialize)&&$n.func(i.getState)&&$n.func(i.clear)&&(i.fillInitializeParams===void 0||$n.func(i.fillInitializeParams))&&$n.func(i.register)&&$n.func(i.unregister)&&i.registrationType!==void 0}t.is=e})(IN||(pn.DynamicFeature=IN={}));var el=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let r of e){n++;for(let s of ko.workspace.textDocuments)if(ko.languages.match(r,s)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let i=n>0;return{kind:"document",id:this.registrationType.method,registrations:i,matches:!1}}};pn.DynamicDocumentFeature=el;var Mb=class extends el{static textDocumentFilter(e,n){for(let i of e)if(ko.languages.match(i,n)>0)return!0;return!1}constructor(e,n,i,r,s,o,a){super(e),this._event=n,this._type=i,this._middleware=r,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new ko.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(i=>{this._client.error(`Sending document notification ${this._type.method} failed.`,i)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async i=>{let r=this._createParams(i);await this._client.sendNotification(this._type,r),this.notificationSent(this.getTextDocument(i),this._type,r)};if(this.matches(e)){let i=this._middleware();return i?i(e,r=>n(r)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,i){this._onNotificationSent.fire({textDocument:e,type:n,params:i})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(ko.languages.match(n,e)>0)return{send:i=>this.callback(i)}}};pn.TextDocumentEventFeature=Mb;var qb=class extends el{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(Lb.TextDocumentRegistrationOptions.is(n)){let i=Lb.StaticRegistrationOptions.hasId(n)?n.id:RN.generateUuid(),r=n.documentSelector??e;if(r)return[i,Object.assign({},n,{documentSelector:r})]}else if($n.boolean(n)&&n===!0||Lb.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let i=$n.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[RN.generateUuid(),i]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return $n.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let i=n.data.registerOptions.documentSelector;if(i!==null&&ko.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(i),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};pn.TextDocumentLanguageFeature=qb;var Ub=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};pn.WorkspaceFeature=Ub});var NN=F((qre,_N)=>{var R9=typeof process=="object"&&process&&process.platform==="win32";_N.exports=R9?{sep:"\\"}:{sep:"/"}});var UN=F((Ure,qN)=>{"use strict";qN.exports=ON;function ON(t,e,n){t instanceof RegExp&&(t=LN(t,n)),e instanceof RegExp&&(e=LN(e,n));var i=MN(t,e,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+t.length,i[1]),post:n.slice(i[1]+e.length)}}function LN(t,e){var n=e.match(t);return n?n[0]:null}ON.range=MN;function MN(t,e,n){var i,r,s,o,a,c=n.indexOf(t),u=n.indexOf(e,c+1),f=c;if(c>=0&&u>0){if(t===e)return[c,u];for(i=[],s=n.length;f>=0&&!a;)f==c?(i.push(f),c=n.indexOf(t,f+1)):i.length==1?a=[i.pop(),u]:(r=i.pop(),r<s&&(s=r,o=u),u=n.indexOf(e,f+1)),f=c<u&&c>=0?c:u;i.length&&(a=[s,o])}return a}});var zN=F((jre,VN)=>{var jN=UN();VN.exports=_9;var BN="\0SLASH"+Math.random()+"\0",WN="\0OPEN"+Math.random()+"\0",Bb="\0CLOSE"+Math.random()+"\0",KN="\0COMMA"+Math.random()+"\0",$N="\0PERIOD"+Math.random()+"\0";function jb(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function A9(t){return t.split("\\\\").join(BN).split("\\{").join(WN).split("\\}").join(Bb).split("\\,").join(KN).split("\\.").join($N)}function I9(t){return t.split(BN).join("\\").split(WN).join("{").split(Bb).join("}").split(KN).join(",").split($N).join(".")}function HN(t){if(!t)return[""];var e=[],n=jN("{","}",t);if(!n)return t.split(",");var i=n.pre,r=n.body,s=n.post,o=i.split(",");o[o.length-1]+="{"+r+"}";var a=HN(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function _9(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),tl(A9(t),!0).map(I9)):[]}function N9(t){return"{"+t+"}"}function L9(t){return/^-?0\d/.test(t)}function O9(t,e){return t<=e}function M9(t,e){return t>=e}function tl(t,e){var n=[],i=jN("{","}",t);if(!i)return[t];var r=i.pre,s=i.post.length?tl(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=r+"{"+i.body+"}"+s[o];n.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),f=c||u,g=i.body.indexOf(",")>=0;if(!f&&!g)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+Bb+i.post,tl(t)):[t];var p;if(f)p=i.body.split(/\.\./);else if(p=HN(i.body),p.length===1&&(p=tl(p[0],!1).map(N9),p.length===1))return s.map(function(ne){return i.pre+p[0]+ne});var l;if(f){var d=jb(p[0]),h=jb(p[1]),m=Math.max(p[0].length,p[1].length),C=p.length==3?Math.abs(jb(p[2])):1,T=O9,w=h<d;w&&(C*=-1,T=M9);var k=p.some(L9);l=[];for(var A=d;T(A,h);A+=C){var B;if(u)B=String.fromCharCode(A),B==="\\"&&(B="");else if(B=String(A),k){var W=m-B.length;if(W>0){var U=new Array(W+1).join("0");A<0?B="-"+U+B.slice(1):B=U+B}}l.push(B)}}else{l=[];for(var ie=0;ie<p.length;ie++)l.push.apply(l,tl(p[ie],!1))}for(var ie=0;ie<l.length;ie++)for(var o=0;o<s.length;o++){var a=r+l[ie]+s[o];(!e||f||a)&&n.push(a)}}return n}});var Up=F((Wre,Vb)=>{var Si=Vb.exports=(t,e,n={})=>(qp(e),!n.nocomment&&e.charAt(0)==="#"?!1:new $a(e,n).match(t));Vb.exports=Si;var $b=NN();Si.sep=$b.sep;var nr=Symbol("globstar **");Si.GLOBSTAR=nr;var q9=zN(),GN={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Hb="[^/]",Wb=Hb+"*?",U9="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",j9="(?:(?!(?:\\/|^)\\.).)*?",YN=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),JN=YN("().*{}+?[]^$\\!"),B9=YN("[.("),XN=/\/+/;Si.filter=(t,e={})=>(n,i,r)=>Si(n,t,e);var Ps=(t,e={})=>{let n={};return Object.keys(t).forEach(i=>n[i]=t[i]),Object.keys(e).forEach(i=>n[i]=e[i]),n};Si.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Si;let e=Si,n=(i,r,s)=>e(i,r,Ps(t,s));return n.Minimatch=class extends e.Minimatch{constructor(r,s){super(r,Ps(t,s))}},n.Minimatch.defaults=i=>e.defaults(Ps(t,i)).Minimatch,n.filter=(i,r)=>e.filter(i,Ps(t,r)),n.defaults=i=>e.defaults(Ps(t,i)),n.makeRe=(i,r)=>e.makeRe(i,Ps(t,r)),n.braceExpand=(i,r)=>e.braceExpand(i,Ps(t,r)),n.match=(i,r,s)=>e.match(i,r,Ps(t,s)),n};Si.braceExpand=(t,e)=>QN(t,e);var QN=(t,e={})=>(qp(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:q9(t)),W9=1024*64,qp=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>W9)throw new TypeError("pattern is too long")},Kb=Symbol("subparse");Si.makeRe=(t,e)=>new $a(t,e||{}).makeRe();Si.match=(t,e,n={})=>{let i=new $a(e,n);return t=t.filter(r=>i.match(r)),i.options.nonull&&!t.length&&t.push(e),t};var K9=t=>t.replace(/\\(.)/g,"$1"),$9=t=>t.replace(/\\([^-\]])/g,"$1"),H9=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),V9=t=>t.replace(/[[\]\\]/g,"\\$&"),$a=class{constructor(e,n){qp(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let i=this.globSet=this.braceExpand();n.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,i),i=this.globParts=i.map(r=>r.split(XN)),this.debug(this.pattern,i),i=i.map((r,s,o)=>r.map(this.parse,this)),this.debug(this.pattern,i),i=i.filter(r=>r.indexOf(!1)===-1),this.debug(this.pattern,i),this.set=i}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,i=0;for(let r=0;r<e.length&&e.charAt(r)==="!";r++)n=!n,i++;i&&(this.pattern=e.slice(i)),this.negate=n}matchOne(e,n,i){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var s=0,o=0,a=e.length,c=n.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=n[o],f=e[s];if(this.debug(n,u,f),u===!1)return!1;if(u===nr){this.debug("GLOBSTAR",[n,u,f]);var g=s,p=o+1;if(p===c){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!r.dot&&e[s].charAt(0)===".")return!1;return!0}for(;g<a;){var l=e[g];if(this.debug(`
globstar while`,e,g,n,p,l),this.matchOne(e.slice(g),n.slice(p),i))return this.debug("globstar found match!",g,a,l),!0;if(l==="."||l===".."||!r.dot&&l.charAt(0)==="."){this.debug("dot detected!",e,g,n,p);break}this.debug("globstar swallow a segment, and continue"),g++}return!!(i&&(this.debug(`
>>> no match, partial?`,e,g,n,p),g===a))}var d;if(typeof u=="string"?(d=f===u,this.debug("string match",u,f,d)):(d=f.match(u),this.debug("pattern match",u,f,d)),!d)return!1}if(s===a&&o===c)return!0;if(s===a)return i;if(o===c)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return QN(this.pattern,this.options)}parse(e,n){qp(e);let i=this.options;if(e==="**")if(i.noglobstar)e="*";else return nr;if(e==="")return"";let r="",s=!1,o=!1,a=[],c=[],u,f=!1,g=-1,p=-1,l,d,h,m=e.charAt(0)===".",C=i.dot||m,T=()=>m?"":C?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=W=>W.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",k=()=>{if(u){switch(u){case"*":r+=Wb,s=!0;break;case"?":r+=Hb,s=!0;break;default:r+="\\"+u;break}this.debug("clearStateChar %j %j",u,r),u=!1}};for(let W=0,U;W<e.length&&(U=e.charAt(W));W++){if(this.debug("%s	%s %s %j",e,W,r,U),o){if(U==="/")return!1;JN[U]&&(r+="\\"),r+=U,o=!1;continue}switch(U){case"/":return!1;case"\\":if(f&&e.charAt(W+1)==="-"){r+=U;continue}k(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,W,r,U),f){this.debug("  in class"),U==="!"&&W===p+1&&(U="^"),r+=U;continue}this.debug("call clearStateChar %j",u),k(),u=U,i.noext&&k();continue;case"(":{if(f){r+="(";continue}if(!u){r+="\\(";continue}let ie={type:u,start:W-1,reStart:r.length,open:GN[u].open,close:GN[u].close};this.debug(this.pattern,"	",ie),a.push(ie),r+=ie.open,ie.start===0&&ie.type!=="!"&&(m=!0,r+=w(e.slice(W+1))),this.debug("plType %j %j",u,r),u=!1;continue}case")":{let ie=a[a.length-1];if(f||!ie){r+="\\)";continue}a.pop(),k(),s=!0,d=ie,r+=d.close,d.type==="!"&&c.push(Object.assign(d,{reEnd:r.length}));continue}case"|":{let ie=a[a.length-1];if(f||!ie){r+="\\|";continue}k(),r+="|",ie.start===0&&ie.type!=="!"&&(m=!0,r+=w(e.slice(W+1)));continue}case"[":if(k(),f){r+="\\"+U;continue}f=!0,p=W,g=r.length,r+=U;continue;case"]":if(W===p+1||!f){r+="\\"+U;continue}l=e.substring(p+1,W);try{RegExp("["+V9($9(l))+"]"),r+=U}catch{r=r.substring(0,g)+"(?:$.)"}s=!0,f=!1;continue;default:k(),JN[U]&&!(U==="^"&&f)&&(r+="\\"),r+=U;break}}for(f&&(l=e.slice(p+1),h=this.parse(l,Kb),r=r.substring(0,g)+"\\["+h[0],s=s||h[1]),d=a.pop();d;d=a.pop()){let W;W=r.slice(d.reStart+d.open.length),this.debug("setting tail",r,d),W=W.replace(/((?:\\{2}){0,64})(\\?)\|/g,(ie,ne,$)=>($||($="\\"),ne+ne+$+"|")),this.debug(`tail=%j
   %s`,W,W,d,r);let U=d.type==="*"?Wb:d.type==="?"?Hb:"\\"+d.type;s=!0,r=r.slice(0,d.reStart)+U+"\\("+W}k(),o&&(r+="\\\\");let A=B9[r.charAt(0)];for(let W=c.length-1;W>-1;W--){let U=c[W],ie=r.slice(0,U.reStart),ne=r.slice(U.reStart,U.reEnd-8),$=r.slice(U.reEnd),N=r.slice(U.reEnd-8,U.reEnd)+$,H=ie.split(")").length,te=ie.split("(").length-H,K=$;for(let Q=0;Q<te;Q++)K=K.replace(/\)[+*?]?/,"");$=K;let G=$===""&&n!==Kb?"(?:$|\\/)":"";r=ie+ne+$+G+N}if(r!==""&&s&&(r="(?=.)"+r),A&&(r=T()+r),n===Kb)return[r,s];if(i.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return K9(e);let B=i.nocase?"i":"";try{return Object.assign(new RegExp("^"+r+"$",B),{_glob:e,_src:r})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,i=n.noglobstar?Wb:n.dot?U9:j9,r=n.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?H9(a):a===nr?nr:a._src).reduce((a,c)=>(a[a.length-1]===nr&&c===nr||a.push(c),a),[]),o.forEach((a,c)=>{a!==nr||o[c-1]===nr||(c===0?o.length>1?o[c+1]="(?:\\/|"+i+"\\/)?"+o[c+1]:o[c]=i:c===o.length-1?o[c-1]+="(?:\\/|"+i+")?":(o[c-1]+="(?:\\/|\\/"+i+"\\/)"+o[c+1],o[c+1]=nr))}),o.filter(a=>a!==nr).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let i=this.options;$b.sep!=="/"&&(e=e.split($b.sep).join("/")),e=e.split(XN),this.debug(this.pattern,"split",e);let r=this.set;this.debug(this.pattern,"set",r);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<r.length;o++){let a=r[o],c=e;if(i.matchBase&&a.length===1&&(c=[s]),this.matchOne(c,a,n))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(e){return Si.defaults(e).Minimatch}};Si.Minimatch=$a});var eD=F(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.DiagnosticFeature=Rs.DiagnosticPullMode=Rs.vsdiag=void 0;var z9=Up(),He=require("vscode"),zt=_e(),G9=Pt(),zb=Qe();function jp(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Bi;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(Bi||(Rs.vsdiag=Bi={}));var Bp;(function(t){t.onType="onType",t.onSave="onSave"})(Bp||(Rs.DiagnosticPullMode=Bp={}));var Pn;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(Pn||(Pn={}));var Gb=class t{constructor(){this.open=new Set,this._onOpen=new He.EventEmitter,this._onClose=new He.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let i=this.open,r=new Set;t.fillTabResources(r);let s=new Set,o=new Set(r);for(let a of i.values())r.has(a)?o.delete(a):s.add(a);if(this.open=r,s.size>0){let a=new Set;for(let c of s)a.add(He.Uri.parse(c));this._onClose.fire(a)}if(o.size>0){let a=new Set;for(let c of o)a.add(He.Uri.parse(c));this._onOpen.fire(a)}};He.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=He.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof He.Uri?He.window.activeTextEditor?.document.uri===e:He.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof He.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let i=e??new Set;for(let r of He.window.tabGroups.all)for(let s of r.tabs){let o=s.input,a;o instanceof He.TabInputText?a=o.uri:o instanceof He.TabInputTextDiff?a=o.modified:o instanceof He.TabInputCustom&&(a=o.uri),a!==void 0&&!i.has(a.toString())&&(i.add(a.toString()),n!==void 0&&n.add(a))}}},on;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(on||(on={}));var Vr;(function(t){function e(n){return n instanceof He.Uri?n.toString():n.uri.toString()}t.asKey=e})(Vr||(Vr={}));var Jb=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,i){let r=e===on.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=n instanceof He.Uri?[n.toString(),n,i]:[n.uri.toString(),n.uri,n.version],c=r.get(s);return c===void 0&&(c={document:o,pulledVersion:a,resultId:void 0},r.set(s,c)),c}update(e,n,i,r){let s=e===on.document?this.documentPullStates:this.workspacePullStates,[o,a,c,u]=n instanceof He.Uri?[n.toString(),n,i,r]:[n.uri.toString(),n.uri,n.version,i],f=s.get(o);f===void 0?(f={document:a,pulledVersion:c,resultId:u},s.set(o,f)):(f.pulledVersion=c,f.resultId=u)}unTrack(e,n){let i=Vr.asKey(n);(e===on.document?this.documentPullStates:this.workspacePullStates).delete(i)}tracks(e,n){let i=Vr.asKey(n);return(e===on.document?this.documentPullStates:this.workspacePullStates).has(i)}getResultId(e,n){let i=Vr.asKey(n);return(e===on.document?this.documentPullStates:this.workspacePullStates).get(i)?.resultId}getAllResultIds(){let e=[];for(let[n,i]of this.workspacePullStates)this.documentPullStates.has(n)&&(i=this.documentPullStates.get(n)),i.resultId!==void 0&&e.push({uri:n,value:i.resultId});return e}},Xb=class{constructor(e,n,i){this.client=e,this.tabs=n,this.options=i,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new He.EventEmitter,this.provider=this.createProvider(),this.diagnostics=He.languages.createDiagnosticCollection(i.identifier),this.openRequests=new Map,this.documentStates=new Jb,this.workspaceErrorCounter=0}knows(e,n){let i=n instanceof He.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(i.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let i=e instanceof He.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},r=>{this.client.error(`Document pull failed for text document ${i.toString()}`,r,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let i=e instanceof He.Uri,r=i?e:e.uri,s=r.toString();n=i?n:e.version;let o=this.openRequests.get(s),a=i?this.documentStates.track(on.document,e,n):this.documentStates.track(on.document,e);if(o===void 0){let c=new He.CancellationTokenSource;this.openRequests.set(s,{state:Pn.active,document:e,version:n,tokenSource:c});let u,f;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Bi.DocumentDiagnosticReportKind.full,items:[]}}catch(g){if(g instanceof zb.LSPCancellationError&&zt.DiagnosticServerCancellationData.is(g.data)&&g.data.retriggerRequest===!1&&(f={state:Pn.outDated,document:e}),f===void 0&&g instanceof He.CancellationError)f={state:Pn.reschedule,document:e};else throw g}if(f=f??this.openRequests.get(s),f===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(r);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(on.document,e);return}if(f.state===Pn.outDated)return;u!==void 0&&(u.kind===Bi.DocumentDiagnosticReportKind.full&&this.diagnostics.set(r,u.items),a.pulledVersion=n,a.resultId=u.resultId),f.state===Pn.reschedule&&this.pull(e)}else o.state===Pn.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:Pn.reschedule,document:o.document})):o.state===Pn.outDated&&this.openRequests.set(s,{state:Pn.reschedule,document:o.document})}forgetDocument(e){let n=e instanceof He.Uri?e:e.uri,i=n.toString(),r=this.openRequests.get(i);this.options.workspaceDiagnostics?r!==void 0?this.openRequests.set(i,{state:Pn.reschedule,document:e}):this.pull(e,()=>{this.forget(on.document,e)}):(r!==void 0&&(r.state===Pn.active&&r.tokenSource.cancel(),this.openRequests.set(i,{state:Pn.outDated,document:e})),this.diagnostics.delete(n),this.forget(on.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,zt.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof zb.LSPCancellationError)&&!zt.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,zt.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new He.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let i of n.items)i.kind===Bi.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(on.document,i.uri)||this.diagnostics.set(i.uri,i.items)),this.documentStates.update(on.workspace,i.uri,i.version??void 0,i.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,i,r)=>{let s=(a,c,u)=>{let f={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof He.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Bi.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(zt.DocumentDiagnosticRequest.type,f,u).then(async g=>g==null||this.isDisposed||u.isCancellationRequested?{kind:Bi.DocumentDiagnosticReportKind.full,items:[]}:g.kind===zt.DocumentDiagnosticReportKind.Full?{kind:Bi.DocumentDiagnosticReportKind.full,resultId:g.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(g.items,u)}:{kind:Bi.DocumentDiagnosticReportKind.unChanged,resultId:g.resultId},g=>this.client.handleFailedRequest(zt.DocumentDiagnosticRequest.type,u,g,{kind:Bi.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(n,i,r,s):s(n,i,r)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,i,r)=>{let s=async u=>u.kind===zt.DocumentDiagnosticReportKind.Full?{kind:Bi.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,i)}:{kind:Bi.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},o=u=>{let f=[];for(let g of u)f.push({uri:this.client.code2ProtocolConverter.asUri(g.uri),value:g.value});return f},a=(u,f)=>{let g=(0,G9.generateUuid)(),p=this.client.onProgress(zt.WorkspaceDiagnosticRequest.partialResult,g,async d=>{if(d==null){r(null);return}let h={items:[]};for(let m of d.items)try{h.items.push(await s(m))}catch(C){this.client.error("Converting workspace diagnostics failed.",C)}r(h)}),l={identifier:this.options.identifier,previousResultIds:o(u),partialResultToken:g};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(zt.WorkspaceDiagnosticRequest.type,l,f).then(async d=>{if(f.isCancellationRequested)return{items:[]};let h={items:[]};for(let m of d.items)h.items.push(await s(m));return p.dispose(),r(h),{items:[]}},d=>(p.dispose(),this.client.handleFailedRequest(zt.DocumentDiagnosticRequest.type,f,d,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(n,i,r,a):a(n,i,r)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===Pn.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:Pn.outDated,document:n.document});this.diagnostics.dispose()}},Yb=class{constructor(e){this.diagnosticRequestor=e,this.documents=new zt.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=Vr.asKey(e);this.documents.has(n)||(this.documents.set(n,e,zt.Touch.Last),this.trigger())}remove(e){let n=Vr.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,zt.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=Vr.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,zt.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Vr.asKey(this.endDocument):void 0}},Qb=class{constructor(e,n,i){let r=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(i.documentSelector),o=[],a=d=>{let h=i.documentSelector;if(r.match!==void 0)return r.match(h,d);for(let m of h)if(zt.TextDocumentFilter.is(m)){if(typeof m=="string"||m.language!==void 0&&m.language!=="*"||m.scheme!==void 0&&m.scheme!=="*"&&m.scheme!==d.scheme)return!1;if(m.pattern!==void 0){let C=new z9.Minimatch(m.pattern,{noext:!0});if(!C.makeRe()||!C.match(d.fsPath))return!1}}return!0},c=d=>d instanceof He.Uri?a(d):He.languages.match(s,d)>0&&n.isVisible(d),u=d=>d instanceof He.Uri?this.activeTextDocument?.uri.toString()===d.toString():this.activeTextDocument===d;this.diagnosticRequestor=new Xb(e,n,i),this.backgroundScheduler=new Yb(this.diagnosticRequestor);let f=d=>{!c(d)||!i.interFileDependencies||u(d)||this.backgroundScheduler.add(d)};this.activeTextDocument=He.window.activeTextEditor?.document,He.window.onDidChangeActiveTextEditor(d=>{let h=this.activeTextDocument;this.activeTextDocument=d?.document,h!==void 0&&f(h),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let g=e.getFeature(zt.DidOpenTextDocumentNotification.method);o.push(g.onNotificationSent(d=>{let h=d.textDocument;this.diagnosticRequestor.knows(on.document,h)||c(h)&&this.diagnosticRequestor.pull(h,()=>{f(h)})})),o.push(n.onOpen(d=>{for(let h of d){if(this.diagnosticRequestor.knows(on.document,h))continue;let m=h.toString(),C;for(let T of He.workspace.textDocuments)if(m===T.uri.toString()){C=T;break}C!==void 0&&c(C)&&this.diagnosticRequestor.pull(C,()=>{f(C)})}}));let p=new Set;for(let d of He.workspace.textDocuments)c(d)&&(this.diagnosticRequestor.pull(d,()=>{f(d)}),p.add(d.uri.toString()));if(r.onTabs===!0)for(let d of n.getTabResources())!p.has(d.toString())&&c(d)&&this.diagnosticRequestor.pull(d,()=>{f(d)});if(r.onChange===!0){let d=e.getFeature(zt.DidChangeTextDocumentNotification.method);o.push(d.onNotificationSent(async h=>{let m=h.textDocument;(r.filter===void 0||!r.filter(m,Bp.onType))&&this.diagnosticRequestor.knows(on.document,m)&&this.diagnosticRequestor.pull(m,()=>{this.backgroundScheduler.trigger()})}))}if(r.onSave===!0){let d=e.getFeature(zt.DidSaveTextDocumentNotification.method);o.push(d.onNotificationSent(h=>{let m=h.textDocument;(r.filter===void 0||!r.filter(m,Bp.onSave))&&this.diagnosticRequestor.knows(on.document,m)&&this.diagnosticRequestor.pull(h.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let l=e.getFeature(zt.DidCloseTextDocumentNotification.method);o.push(l.onNotificationSent(d=>{this.cleanUpDocument(d.textDocument)})),n.onClose(d=>{for(let h of d)this.cleanUpDocument(h)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let d of He.workspace.textDocuments)c(d)&&this.diagnosticRequestor.pull(d)}),i.workspaceDiagnostics===!0&&i.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=He.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(on.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},Zb=class extends zb.TextDocumentLanguageFeature{constructor(e){super(e,zt.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=jp(jp(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,jp(jp(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest(zt.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire()});let[r,s]=this.getRegistration(n,e.diagnosticProvider);!r||!s||this.register({id:r,registerOptions:s})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Gb);let n=new Qb(this._client,this.tabs,e);return[n.disposable,n]}};Rs.DiagnosticFeature=Zb});var tL=F(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.NotebookDocumentSyncFeature=void 0;var Rn=require("vscode"),J9=Up(),zr=_e(),X9=Pt(),ZN=Oi();function eL(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ha;(function(t){let e;(function(n){function i(p,l){return{version:p.version,uri:l.asUri(p.uri)}}n.asVersionedNotebookDocumentIdentifier=i;function r(p,l,d){let h=zr.NotebookDocument.create(d.asUri(p.uri),p.notebookType,p.version,s(l,d));return Object.keys(p.metadata).length>0&&(h.metadata=o(p.metadata)),h}n.asNotebookDocument=r;function s(p,l){return p.map(d=>a(d,l))}n.asNotebookCells=s;function o(p){return u(new Set,p)}n.asMetadata=o;function a(p,l){let d=zr.NotebookCell.create(c(p.kind),l.asUri(p.document.uri));return Object.keys(p.metadata).length>0&&(d.metadata=o(p.metadata)),p.executionSummary!==void 0&&ZN.number(p.executionSummary.executionOrder)&&ZN.boolean(p.executionSummary.success)&&(d.executionSummary={executionOrder:p.executionSummary.executionOrder,success:p.executionSummary.success}),d}n.asNotebookCell=a;function c(p){switch(p){case Rn.NotebookCellKind.Markup:return zr.NotebookCellKind.Markup;case Rn.NotebookCellKind.Code:return zr.NotebookCellKind.Code}}function u(p,l){if(p.has(l))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(l)){let d=[];for(let h of l)if(h!==null&&typeof h=="object"||Array.isArray(h))d.push(u(p,h));else{if(h instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");d.push(h)}return d}else{let d=Object.keys(l),h=Object.create(null);for(let m of d){let C=l[m];if(C!==null&&typeof C=="object"||Array.isArray(C))h[m]=u(p,C);else{if(C instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");h[m]=C}}return h}}function f(p,l){let d=l.asChangeTextDocumentParams(p,p.document.uri,p.document.version);return{document:d.textDocument,changes:d.contentChanges}}n.asTextContentChange=f;function g(p,l){let d=Object.create(null);if(p.metadata&&(d.metadata=t.c2p.asMetadata(p.metadata)),p.cells!==void 0){let h=Object.create(null),m=p.cells;m.structure&&(h.structure={array:{start:m.structure.array.start,deleteCount:m.structure.array.deleteCount,cells:m.structure.array.cells!==void 0?m.structure.array.cells.map(C=>t.c2p.asNotebookCell(C,l)):void 0},didOpen:m.structure.didOpen!==void 0?m.structure.didOpen.map(C=>l.asOpenTextDocumentParams(C.document).textDocument):void 0,didClose:m.structure.didClose!==void 0?m.structure.didClose.map(C=>l.asCloseTextDocumentParams(C.document).textDocument):void 0}),m.data!==void 0&&(h.data=m.data.map(C=>t.c2p.asNotebookCell(C,l))),m.textContent!==void 0&&(h.textContent=m.textContent.map(C=>t.c2p.asTextContentChange(C,l))),Object.keys(h).length>0&&(d.cells=h)}return d}n.asNotebookDocumentChangeEvent=g})(e=t.c2p||(t.c2p={}))})(Ha||(Ha={}));var tD;(function(t){function e(a,c,u){let f=a.length,g=c.length,p=0;for(;p<g&&p<f&&n(a[p],c[p],u);)p++;if(p<g&&p<f){let l=f-1,d=g-1;for(;l>=0&&d>=0&&n(a[l],c[d],u);)l--,d--;let h=l+1-p,m=p===d+1?void 0:c.slice(p,d+1);return m!==void 0?{start:p,deleteCount:h,cells:m}:{start:p,deleteCount:h}}else return p<g?{start:p,deleteCount:0,cells:c.slice(p)}:p<f?{start:p,deleteCount:f-p}:void 0}t.computeDiff=e;function n(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!i(a.executionSummary,c.executionSummary)?!1:!u||u&&s(a.metadata,c.metadata)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&r(a.timing,c.timing)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function s(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),f=Array.isArray(c);if(u!==f)return!1;if(u&&f){if(a.length!==c.length)return!1;for(let g=0;g<a.length;g++)if(!s(a[g],c[g]))return!1}if(o(a)&&o(c)){let g=Object.keys(a),p=Object.keys(c);if(g.length!==p.length||(g.sort(),p.sort(),!s(g,p)))return!1;for(let l=0;l<g.length;l++){let d=g[l];if(!s(a[d],c[d]))return!1}return!0}return!1}function o(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=o})(tD||(tD={}));var nD;(function(t){function e(n,i){if(typeof n=="string")return n==="*"||i.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&i.notebookType!==n.notebookType)return!1;let r=i.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&r.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let s=new J9.Minimatch(n.pattern,{noext:!0});if(!s.makeRe()||!s.match(r.fsPath))return!1}return!0}t.matchNotebook=e})(nD||(nD={}));var Wp;(function(t){function e(i){let r=i.notebookSelector,s=[];for(let o of r){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",c=typeof o.notebook=="string"?void 0:o.notebook?.scheme,u=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let f of o.cells)s.push(n(a,c,u,f.language));else s.push(n(a,c,u,void 0))}return s}t.asDocumentSelector=e;function n(i,r,s,o){return r===void 0&&s===void 0?{notebook:i,language:o}:{notebook:{notebookType:i,scheme:r,pattern:s},language:o}}})(Wp||(Wp={}));var Kp;(function(t){function e(n){return{cells:n,uris:new Set(n.map(i=>i.document.uri.toString()))}}t.create=e})(Kp||(Kp={}));var Va=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Wp.asDocumentSelector(n)),Rn.workspace.onDidOpenNotebookDocument(i=>{this.notebookDidOpen.add(i.uri.toString()),this.didOpen(i)},void 0,this.disposables);for(let i of Rn.workspace.notebookDocuments)this.notebookDidOpen.add(i.uri.toString()),this.didOpen(i);Rn.workspace.onDidChangeNotebookDocument(i=>this.didChangeNotebookDocument(i),void 0,this.disposables),this.options.save===!0&&Rn.workspace.onDidSaveNotebookDocument(i=>this.didSave(i),void 0,this.disposables),Rn.workspace.onDidCloseNotebookDocument(i=>{this.didClose(i),this.notebookDidOpen.delete(i.uri.toString())},void 0,this.disposables)}getState(){for(let e of Rn.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Rn.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(Rn.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let i=this.notebookSyncInfo.get(e.uri.toString()),r=this.cellMatches(e,n);if(i!==void 0){let s=i.uris.has(n.document.uri.toString());if(r&&s||!r&&!s)return;if(r){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,i,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{})}}}else r&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){Rn.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let i=this.notebookSyncInfo.get(e.uri.toString());if(i===void 0)return;let r=n.document.uri,s=i.cells.findIndex(o=>o.document.uri.toString()===r.toString());if(s!==-1)if(s===0&&i.cells.length===1)this.doSendClose(e,i.cells).catch(()=>{});else{let o=i.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),i=this.notebookSyncInfo.get(e.uri.toString())){if(i!==void 0)if(n!==void 0){let r=this.asNotebookDocumentChangeEvent(e,void 0,i,n);r!==void 0&&this.doSendChange(r,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,i=this.notebookSyncInfo.get(n.uri.toString());if(i===void 0){if(e.contentChanges.length===0)return;let r=this.getMatchingCells(n);if(r===void 0)return;this.didOpen(n,r,i)}else{let r=this.getMatchingCells(n);if(r===void 0){this.didClose(n,i);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,i,r);s!==void 0&&this.doSendChange(s,r).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let i=e.getCells().filter(r=>n.uris.has(r.document.uri.toString()));this.doSendClose(e,i).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let i=async(s,o)=>{let a=Ha.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),c=o.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(zr.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Kp.create(n)),r?.didOpen!==void 0?r.didOpen(e,n,i):i(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let i=async s=>{try{await this.client.sendNotification(zr.DidChangeNotebookDocumentNotification.type,{notebookDocument:Ha.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:Ha.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)})}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},r=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Kp.create(n??[])),r?.didChange!==void 0?r?.didChange(e,i):i(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async r=>{try{await this.client.sendNotification(zr.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(r.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return i?.didSave!==void 0?i.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let i=async(s,o)=>{try{await this.client.sendNotification(zr.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),r?.didClose!==void 0?r.didClose(e,n,i):i(e,n)}asNotebookDocumentChangeEvent(e,n,i,r){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};n?.metadata!==void 0&&(s.metadata=Ha.c2p.asMetadata(n.metadata));let o;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let a=[];o=new Set(r.map(c=>c.document.uri.toString()));for(let c of n.cellChanges)o.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&i!==void 0&&r!==void 0){let a=i.cells,c=r,u=tD.computeDiff(a,c,!1),f,g;if(u!==void 0){f=u.cells===void 0?new Map:new Map(u.cells.map(d=>[d.document.uri.toString(),d])),g=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(d=>[d.document.uri.toString(),d]));for(let d of Array.from(g.keys()))f.has(d)&&(g.delete(d),f.delete(d));s.cells=s.cells??{};let p=[],l=[];if(f.size>0||g.size>0){for(let d of f.values())p.push(d);for(let d of g.values())l.push(d)}s.cells.structure={array:u,didOpen:p,didClose:l}}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let i of this.options.notebookSelector)if(i.notebook===void 0||nD.matchNotebook(i.notebook,e)){let r=this.filterCells(e,n,i.cells);return r.length===0?void 0:r}}}cellMatches(e,n){let i=this.getMatchingCells(e,[n]);return i!==void 0&&i[0]===n}filterCells(e,n,i){let r=i!==void 0?n.filter(s=>{let o=s.document.languageId;return i.some(a=>a.language==="*"||o===a.language)}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,r):r}},$p=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=zr.NotebookDocumentSyncRegistrationType.type,Rn.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[i,r]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||r===void 0))for(let s of this.registrations.values())s instanceof Va&&s.didOpenNotebookCellTextDocument(i,r)}),Rn.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let i=n.document;if(i.uri.scheme!==t.CellScheme)return;let[r]=this.findNotebookDocumentAndCell(i);if(r!==void 0)for(let s of this.registrations.values())s instanceof Va&&s.didChangeNotebookCellTextDocument(r,n)}),Rn.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[i,r]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||r===void 0))for(let s of this.registrations.values())s instanceof Va&&s.didCloseNotebookCellTextDocument(i,r)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=eL(eL(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Wp.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let i=n.id??X9.generateUuid();this.register({id:i,registerOptions:n})}register(e){let n=new Va(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Rn.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let i of Rn.workspace.notebookDocuments)for(let r of i.getCells())if(r.document.uri.toString()===n)return[i,r];return[void 0,void 0]}};Hp.NotebookDocumentSyncFeature=$p;$p.CellScheme="vscode-notebook-cell"});var iL=F(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.SyncConfigurationFeature=As.toJSONObject=As.ConfigurationFeature=void 0;var za=require("vscode"),nl=_e(),Y9=Oi(),Q9=Pt(),nL=Qe(),iD=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(nl.ConfigurationRequest.type,(n,i)=>{let r=o=>{let a=[];for(let c of o.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(n,i,r):r(n,i)})}getConfiguration(e,n){let i=null;if(n){let r=n.lastIndexOf(".");if(r===-1)i=Fo(za.workspace.getConfiguration(void 0,e).get(n));else{let s=za.workspace.getConfiguration(n.substr(0,r),e);s&&(i=Fo(s.get(n.substr(r+1))))}}else{let r=za.workspace.getConfiguration(void 0,e);i={};for(let s of Object.keys(r))r.has(s)&&(i[s]=Fo(r.get(s)))}return i===void 0&&(i=null),i}clear(){}};As.ConfigurationFeature=iD;function Fo(t){if(t){if(Array.isArray(t))return t.map(Fo);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Fo(t[n]));return e}}return t}As.toJSONObject=Fo;var rD=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return nl.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,nL.ensure)((0,nL.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:Q9.generateUuid(),registerOptions:{section:e}})}register(e){let n=za.workspace.onDidChangeConfiguration(i=>{this.onDidChangeConfiguration(e.registerOptions.section,i)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,n){if(this.isCleared)return;let i;if(Y9.string(e)?i=[e]:i=e,i!==void 0&&n!==void 0&&!i.some(a=>n.affectsConfiguration(a)))return;let r=async o=>o===void 0?this._client.sendNotification(nl.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(nl.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(i,r):r(i)).catch(o=>{this._client.error(`Sending notification ${nl.DidChangeConfigurationNotification.type.method} failed`,o)})}extractSettingsInformation(e){function n(s,o){let a=s;for(let c=0;c<o.length-1;c++){let u=a[o[c]];u||(u=Object.create(null),a[o[c]]=u),a=u}return a}let i=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=za.workspace.getConfiguration(o.substr(0,a),i).get(o.substr(a+1)):c=za.workspace.getConfiguration(void 0,i).get(o),c){let u=e[s].split(".");n(r,u)[u[u.length-1]]=Fo(c)}}return r}};As.SyncConfigurationFeature=rD});var rL=F(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.DidSaveTextDocumentFeature=ai.WillSaveWaitUntilFeature=ai.WillSaveFeature=ai.DidChangeTextDocumentFeature=ai.DidCloseTextDocumentFeature=ai.DidOpenTextDocumentFeature=void 0;var bi=require("vscode"),Ct=_e(),Mt=Qe(),Ga=Pt(),sD=class extends Mt.TextDocumentEventFeature{constructor(e,n){super(e,bi.workspace.onDidOpenTextDocument,Ct.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,i=>e.code2ProtocolConverter.asOpenTextDocumentParams(i),i=>i,Mt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Mt.ensure)((0,Mt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.openClose&&this.register({id:Ga.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return Ct.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);bi.workspace.textDocuments.forEach(i=>{let r=i.uri.toString();if(!this._syncedDocuments.has(r)&&bi.languages.match(n,i)>0&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(r,i)}})}getTextDocument(e){return e}notificationSent(e,n,i){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,i)}};ai.DidOpenTextDocumentFeature=sD;var oD=class extends Mt.TextDocumentEventFeature{constructor(e,n,i){super(e,bi.workspace.onDidCloseTextDocument,Ct.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),r=>r,Mt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=i}get registrationType(){return Ct.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Mt.ensure)((0,Mt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.openClose&&this.register({id:Ga.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,i){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,i)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let i=this._selectors.values();this._syncedDocuments.forEach(r=>{if(bi.languages.match(n,r)>0&&!this._selectorFilter(i,r)&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(r.uri.toString()),(s.didClose?s.didClose(r,o):o(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};ai.DidCloseTextDocumentFeature=oD;var aD=class extends Mt.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new bi.EventEmitter,this._onPendingChangeAdded=new bi.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=Ct.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Ct.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Mt.ensure)((0,Mt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.change!==void 0&&i.change!==Ct.TextDocumentSyncKind.None&&this.register({id:Ga.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:i.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=bi.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,i=e.document.version,r=[];for(let s of this._changeData.values())if(bi.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===Ct.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,n,i);await this._client.sendNotification(Ct.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,Ct.DidChangeTextDocumentNotification.type,u)};r.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}else if(s.syncKind===Ct.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};r.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}}return Promise.all(r).then(void 0,s=>{throw this._client.error(`Sending document notification ${Ct.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,n,i){this._onNotificationSent.fire({textDocument:e,type:n,params:i})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Ct.TextDocumentSyncKind.None;else{this._syncKind=Ct.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===Ct.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Ct.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let i of this._pendingTextDocumentChanges)e.has(i[0])||(n.push(i[1]),this._pendingTextDocumentChanges.delete(i[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(bi.languages.match(n.documentSelector,e)>0)return{send:i=>this.callback(i)}}updateSyncKind(e){if(this._syncKind!==Ct.TextDocumentSyncKind.Full)switch(e){case Ct.TextDocumentSyncKind.Full:this._syncKind=e;break;case Ct.TextDocumentSyncKind.Incremental:this._syncKind===Ct.TextDocumentSyncKind.None&&(this._syncKind=Ct.TextDocumentSyncKind.Incremental);break}}};ai.DidChangeTextDocumentFeature=aD;var cD=class extends Mt.TextDocumentEventFeature{constructor(e){super(e,bi.workspace.onWillSaveTextDocument,Ct.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,i)=>Mt.TextDocumentEventFeature.textDocumentFilter(n,i.document))}get registrationType(){return Ct.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,Mt.ensure)((0,Mt.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.willSave&&this.register({id:Ga.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};ai.WillSaveFeature=cD;var uD=class extends Mt.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Ct.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,Mt.ensure)((0,Mt.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.willSaveWaitUntil&&this.register({id:Ga.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=bi.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Mt.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,i=r=>this._client.sendRequest(Ct.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(r)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,i):i(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};ai.WillSaveWaitUntilFeature=uD;var lD=class extends Mt.TextDocumentEventFeature{constructor(e){super(e,bi.workspace.onDidSaveTextDocument,Ct.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,Mt.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Ct.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Mt.ensure)((0,Mt.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;if(n&&i&&i.save){let r=typeof i.save=="boolean"?{includeText:!1}:{includeText:!!i.save.includeText};this.register({id:Ga.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},r)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};ai.DidSaveTextDocumentFeature=lD});var sL=F(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.CompletionItemFeature=void 0;var Z9=require("vscode"),Ve=_e(),dD=Qe(),e4=Pt(),t4=[Ve.CompletionItemKind.Text,Ve.CompletionItemKind.Method,Ve.CompletionItemKind.Function,Ve.CompletionItemKind.Constructor,Ve.CompletionItemKind.Field,Ve.CompletionItemKind.Variable,Ve.CompletionItemKind.Class,Ve.CompletionItemKind.Interface,Ve.CompletionItemKind.Module,Ve.CompletionItemKind.Property,Ve.CompletionItemKind.Unit,Ve.CompletionItemKind.Value,Ve.CompletionItemKind.Enum,Ve.CompletionItemKind.Keyword,Ve.CompletionItemKind.Snippet,Ve.CompletionItemKind.Color,Ve.CompletionItemKind.File,Ve.CompletionItemKind.Reference,Ve.CompletionItemKind.Folder,Ve.CompletionItemKind.EnumMember,Ve.CompletionItemKind.Constant,Ve.CompletionItemKind.Struct,Ve.CompletionItemKind.Event,Ve.CompletionItemKind.Operator,Ve.CompletionItemKind.TypeParameter],fD=class extends dD.TextDocumentLanguageFeature{constructor(e){super(e,Ve.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,dD.ensure)((0,dD.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Ve.MarkupKind.Markdown,Ve.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Ve.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Ve.InsertTextMode.asIs,Ve.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=Ve.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:t4},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,n){let i=this.getRegistrationOptions(n,e.completionProvider);i&&this.register({id:e4.generateUuid(),registerOptions:i})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let i=e.triggerCharacters??[],r=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,c,u,f)=>{let g=this._client,p=this._client.middleware,l=(d,h,m,C)=>g.sendRequest(Ve.CompletionRequest.type,g.code2ProtocolConverter.asCompletionParams(d,h,m),C).then(T=>C.isCancellationRequested?null:g.protocol2CodeConverter.asCompletionResult(T,r,C),T=>g.handleFailedRequest(Ve.CompletionRequest.type,C,T,null));return p.provideCompletionItem?p.provideCompletionItem(a,c,f,u,l):l(a,c,f,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,f=this._client.middleware,g=(p,l)=>u.sendRequest(Ve.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(p,!!this.labelDetailsSupport.get(n)),l).then(d=>l.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(d),d=>u.handleFailedRequest(Ve.CompletionResolveRequest.type,l,d,p));return f.resolveCompletionItem?f.resolveCompletionItem(a,c,g):g(a,c)}:void 0};return[Z9.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...i),o]}};Vp.CompletionItemFeature=fD});var oL=F(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.HoverFeature=void 0;var n4=require("vscode"),il=_e(),pD=Qe(),i4=Pt(),hD=class extends pD.TextDocumentLanguageFeature{constructor(e){super(e,il.HoverRequest.type)}fillClientCapabilities(e){let n=(0,pD.ensure)((0,pD.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[il.MarkupKind.Markdown,il.MarkupKind.PlainText]}initialize(e,n){let i=this.getRegistrationOptions(n,e.hoverProvider);i&&this.register({id:i4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideHover:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(il.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asHover(l),l=>a.handleFailedRequest(il.HoverRequest.type,p,l,null)),u=a.middleware;return u.provideHover?u.provideHover(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return n4.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};zp.HoverFeature=hD});var aL=F(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.DefinitionFeature=void 0;var r4=require("vscode"),gD=_e(),mD=Qe(),s4=Pt(),yD=class extends mD.TextDocumentLanguageFeature{constructor(e){super(e,gD.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,mD.ensure)((0,mD.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.definitionProvider);i&&this.register({id:s4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDefinition:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(gD.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(gD.DefinitionRequest.type,p,l,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return r4.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Gp.DefinitionFeature=yD});var uL=F(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.SignatureHelpFeature=void 0;var cL=require("vscode"),rl=_e(),CD=Qe(),o4=Pt(),vD=class extends CD.TextDocumentLanguageFeature{constructor(e){super(e,rl.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,CD.ensure)((0,CD.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[rl.MarkupKind.Markdown,rl.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.signatureHelpProvider);i&&this.register({id:o4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,r,s,o)=>{let a=this._client,c=(f,g,p,l)=>a.sendRequest(rl.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(f,g,p),l).then(d=>l.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(d,l),d=>a.handleFailedRequest(rl.SignatureHelpRequest.type,l,d,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(i,r,o,s,c):c(i,r,o,s)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let i=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let r=e.triggerCharacters||[];return cL.languages.registerSignatureHelpProvider(i,n,...r)}else{let r={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return cL.languages.registerSignatureHelpProvider(i,n,r)}}};Jp.SignatureHelpFeature=vD});var lL=F(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.DocumentHighlightFeature=void 0;var a4=require("vscode"),SD=_e(),bD=Qe(),c4=Pt(),DD=class extends bD.TextDocumentLanguageFeature{constructor(e){super(e,SD.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,bD.ensure)((0,bD.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentHighlightProvider);i&&this.register({id:c4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentHighlights:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(SD.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(l,p),l=>a.handleFailedRequest(SD.DocumentHighlightRequest.type,p,l,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(r,s,o,c):c(r,s,o)}};return[a4.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Xp.DocumentHighlightFeature=DD});var xD=F(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.DocumentSymbolFeature=Rr.SupportedSymbolTags=Rr.SupportedSymbolKinds=void 0;var u4=require("vscode"),ot=_e(),TD=Qe(),l4=Pt();Rr.SupportedSymbolKinds=[ot.SymbolKind.File,ot.SymbolKind.Module,ot.SymbolKind.Namespace,ot.SymbolKind.Package,ot.SymbolKind.Class,ot.SymbolKind.Method,ot.SymbolKind.Property,ot.SymbolKind.Field,ot.SymbolKind.Constructor,ot.SymbolKind.Enum,ot.SymbolKind.Interface,ot.SymbolKind.Function,ot.SymbolKind.Variable,ot.SymbolKind.Constant,ot.SymbolKind.String,ot.SymbolKind.Number,ot.SymbolKind.Boolean,ot.SymbolKind.Array,ot.SymbolKind.Object,ot.SymbolKind.Key,ot.SymbolKind.Null,ot.SymbolKind.EnumMember,ot.SymbolKind.Struct,ot.SymbolKind.Event,ot.SymbolKind.Operator,ot.SymbolKind.TypeParameter];Rr.SupportedSymbolTags=[ot.SymbolTag.Deprecated];var wD=class extends TD.TextDocumentLanguageFeature{constructor(e){super(e,ot.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,TD.ensure)((0,TD.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:Rr.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:Rr.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentSymbolProvider);i&&this.register({id:l4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentSymbols:(s,o)=>{let a=this._client,c=async(f,g)=>{try{let p=await a.sendRequest(ot.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(f),g);if(g.isCancellationRequested||p===void 0||p===null)return null;if(p.length===0)return[];{let l=p[0];return ot.DocumentSymbol.is(l)?await a.protocol2CodeConverter.asDocumentSymbols(p,g):await a.protocol2CodeConverter.asSymbolInformations(p,g)}}catch(p){return a.handleFailedRequest(ot.DocumentSymbolRequest.type,g,p,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(s,o,c):c(s,o)}},r=e.label!==void 0?{label:e.label}:void 0;return[u4.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,r),i]}};Rr.DocumentSymbolFeature=wD});var fL=F(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.WorkspaceSymbolFeature=void 0;var d4=require("vscode"),sl=_e(),ED=Qe(),dL=xD(),f4=Pt(),kD=class extends ED.WorkspaceFeature{constructor(e){super(e,sl.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,ED.ensure)((0,ED.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:dL.SupportedSymbolKinds},n.tagSupport={valueSet:dL.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:f4.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(i,r)=>{let s=this._client,o=(c,u)=>s.sendRequest(sl.WorkspaceSymbolRequest.type,{query:c},u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(f,u),f=>s.handleFailedRequest(sl.WorkspaceSymbolRequest.type,u,f,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(i,r,o):o(i,r)},resolveWorkspaceSymbol:e.resolveProvider===!0?(i,r)=>{let s=this._client,o=(c,u)=>s.sendRequest(sl.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(f),f=>s.handleFailedRequest(sl.WorkspaceSymbolResolveRequest.type,u,f,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(i,r,o):o(i,r)}:void 0};return[d4.languages.registerWorkspaceSymbolProvider(n),n]}};Yp.WorkspaceSymbolFeature=kD});var pL=F(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.ReferencesFeature=void 0;var p4=require("vscode"),FD=_e(),PD=Qe(),h4=Pt(),RD=class extends PD.TextDocumentLanguageFeature{constructor(e){super(e,FD.ReferencesRequest.type)}fillClientCapabilities(e){(0,PD.ensure)((0,PD.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.referencesProvider);i&&this.register({id:h4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideReferences:(r,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>c.sendRequest(FD.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(g,p,l),d).then(h=>d.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(h,d),h=>c.handleFailedRequest(FD.ReferencesRequest.type,d,h,null)),f=c.middleware;return f.provideReferences?f.provideReferences(r,s,o,a,u):u(r,s,o,a)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return p4.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Qp.ReferencesFeature=RD});var hL=F(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.CodeActionFeature=void 0;var g4=require("vscode"),Di=_e(),m4=Pt(),AD=Qe(),ID=class extends AD.TextDocumentLanguageFeature{constructor(e){super(e,Di.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,AD.ensure)((0,AD.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[Di.CodeActionKind.Empty,Di.CodeActionKind.QuickFix,Di.CodeActionKind.Refactor,Di.CodeActionKind.RefactorExtract,Di.CodeActionKind.RefactorInline,Di.CodeActionKind.RefactorRewrite,Di.CodeActionKind.Source,Di.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.codeActionProvider);i&&this.register({id:m4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideCodeActions:(r,s,o,a)=>{let c=this._client,u=async(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p),context:c.code2ProtocolConverter.asCodeActionContextSync(l)};return c.sendRequest(Di.CodeActionRequest.type,h,d).then(m=>d.isCancellationRequested||m===null||m===void 0?null:c.protocol2CodeConverter.asCodeActionResult(m,d),m=>c.handleFailedRequest(Di.CodeActionRequest.type,d,m,null))},f=c.middleware;return f.provideCodeActions?f.provideCodeActions(r,s,o,a,u):u(r,s,o,a)},resolveCodeAction:e.resolveProvider?(r,s)=>{let o=this._client,a=this._client.middleware,c=async(u,f)=>o.sendRequest(Di.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeActionSync(u),f).then(g=>f.isCancellationRequested?u:o.protocol2CodeConverter.asCodeAction(g,f),g=>o.handleFailedRequest(Di.CodeActionResolveRequest.type,f,g,u));return a.resolveCodeAction?a.resolveCodeAction(r,s,c):c(r,s)}:void 0};return[g4.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),i]}};Zp.CodeActionFeature=ID});var mL=F(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.CodeLensFeature=void 0;var gL=require("vscode"),Ja=_e(),y4=Pt(),ol=Qe(),_D=class extends ol.TextDocumentLanguageFeature{constructor(e){super(e,Ja.CodeLensRequest.type)}fillClientCapabilities(e){(0,ol.ensure)((0,ol.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,ol.ensure)((0,ol.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Ja.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let r=this.getRegistrationOptions(n,e.codeLensProvider);r&&this.register({id:y4.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new gL.EventEmitter,r={onDidChangeCodeLenses:i.event,provideCodeLenses:(s,o)=>{let a=this._client,c=(f,g)=>a.sendRequest(Ja.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(f),g).then(p=>g.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(p,g),p=>a.handleFailedRequest(Ja.CodeLensRequest.type,g,p,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(s,o,c):c(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,c=(f,g)=>a.sendRequest(Ja.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(f),g).then(p=>g.isCancellationRequested?f:a.protocol2CodeConverter.asCodeLens(p),p=>a.handleFailedRequest(Ja.CodeLensResolveRequest.type,g,p,f)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(s,o,c):c(s,o)}:void 0};return[gL.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),{provider:r,onDidChangeCodeLensEmitter:i}]}};eh.CodeLensFeature=_D});var yL=F(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.DocumentOnTypeFormattingFeature=Is.DocumentRangeFormattingFeature=Is.DocumentFormattingFeature=void 0;var th=require("vscode"),ir=_e(),MD=Pt(),Gr=Qe(),Xa;(function(t){function e(n){let i=th.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:i.get("trimTrailingWhitespace"),trimFinalNewlines:i.get("trimFinalNewlines"),insertFinalNewline:i.get("insertFinalNewline")}}t.fromConfiguration=e})(Xa||(Xa={}));var ND=class extends Gr.TextDocumentLanguageFeature{constructor(e){super(e,ir.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Gr.ensure)((0,Gr.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentFormattingProvider);i&&this.register({id:MD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentFormattingEdits:(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),options:a.code2ProtocolConverter.asFormattingOptions(g,Xa.fromConfiguration(f))};return a.sendRequest(ir.DocumentFormattingRequest.type,l,p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(d,p),d=>a.handleFailedRequest(ir.DocumentFormattingRequest.type,p,d,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(r,s,o,c):c(r,s,o)}};return[th.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Is.DocumentFormattingFeature=ND;var LD=class extends Gr.TextDocumentLanguageFeature{constructor(e){super(e,ir.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let n=(0,Gr.ensure)((0,Gr.ensure)(e,"textDocument"),"rangeFormatting");n.dynamicRegistration=!0,n.rangesSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);i&&this.register({id:MD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentRangeFormattingEdits:(r,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p),options:c.code2ProtocolConverter.asFormattingOptions(l,Xa.fromConfiguration(g))};return c.sendRequest(ir.DocumentRangeFormattingRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,d),m=>c.handleFailedRequest(ir.DocumentRangeFormattingRequest.type,d,m,null))},f=c.middleware;return f.provideDocumentRangeFormattingEdits?f.provideDocumentRangeFormattingEdits(r,s,o,a,u):u(r,s,o,a)}};return e.rangesSupport&&(i.provideDocumentRangesFormattingEdits=(r,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),ranges:c.code2ProtocolConverter.asRanges(p),options:c.code2ProtocolConverter.asFormattingOptions(l,Xa.fromConfiguration(g))};return c.sendRequest(ir.DocumentRangesFormattingRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,d),m=>c.handleFailedRequest(ir.DocumentRangesFormattingRequest.type,d,m,null))},f=c.middleware;return f.provideDocumentRangesFormattingEdits?f.provideDocumentRangesFormattingEdits(r,s,o,a,u):u(r,s,o,a)}),[th.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Is.DocumentRangeFormattingFeature=LD;var OD=class extends Gr.TextDocumentLanguageFeature{constructor(e){super(e,ir.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Gr.ensure)((0,Gr.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);i&&this.register({id:MD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideOnTypeFormattingEdits:(s,o,a,c,u)=>{let f=this._client,g=(l,d,h,m,C)=>{let T={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(l),position:f.code2ProtocolConverter.asPosition(d),ch:h,options:f.code2ProtocolConverter.asFormattingOptions(m,Xa.fromConfiguration(l))};return f.sendRequest(ir.DocumentOnTypeFormattingRequest.type,T,C).then(w=>C.isCancellationRequested?null:f.protocol2CodeConverter.asTextEdits(w,C),w=>f.handleFailedRequest(ir.DocumentOnTypeFormattingRequest.type,C,w,null))},p=f.middleware;return p.provideOnTypeFormattingEdits?p.provideOnTypeFormattingEdits(s,o,a,c,u,g):g(s,o,a,c,u)}},r=e.moreTriggerCharacter||[];return[th.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,e.firstTriggerCharacter,...r),i]}};Is.DocumentOnTypeFormattingFeature=OD});var vL=F(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.RenameFeature=void 0;var C4=require("vscode"),Po=_e(),v4=Pt(),CL=Oi(),qD=Qe(),UD=class extends qD.TextDocumentLanguageFeature{constructor(e){super(e,Po.RenameRequest.type)}fillClientCapabilities(e){let n=(0,qD.ensure)((0,qD.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=Po.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.renameProvider);i&&(CL.boolean(e.renameProvider)&&(i.prepareProvider=!1),this.register({id:v4.generateUuid(),registerOptions:i}))}registerLanguageProvider(e){let n=e.documentSelector,i={provideRenameEdits:(r,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),position:c.code2ProtocolConverter.asPosition(p),newName:l};return c.sendRequest(Po.RenameRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(m,d),m=>c.handleFailedRequest(Po.RenameRequest.type,d,m,null,!1))},f=c.middleware;return f.provideRenameEdits?f.provideRenameEdits(r,s,o,a,u):u(r,s,o,a)},prepareRename:e.prepareProvider?(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),position:a.code2ProtocolConverter.asPosition(g)};return a.sendRequest(Po.PrepareRenameRequest.type,l,p).then(d=>p.isCancellationRequested?null:Po.Range.is(d)?a.protocol2CodeConverter.asRange(d):this.isDefaultBehavior(d)?d.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):d&&Po.Range.is(d.range)?{range:a.protocol2CodeConverter.asRange(d.range),placeholder:d.placeholder}:Promise.reject(new Error("The element can't be renamed.")),d=>{throw typeof d.message=="string"?new Error(d.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(r,s,o,c):c(r,s,o)}:void 0};return[this.registerProvider(n,i),i]}registerProvider(e,n){return C4.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&CL.boolean(n.defaultBehavior)}};nh.RenameFeature=UD});var SL=F(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.DocumentLinkFeature=void 0;var S4=require("vscode"),al=_e(),jD=Qe(),b4=Pt(),BD=class extends jD.TextDocumentLanguageFeature{constructor(e){super(e,al.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,jD.ensure)((0,jD.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentLinkProvider);i&&this.register({id:b4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentLinks:(r,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(al.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(u),f).then(g=>f.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(g,f),g=>o.handleFailedRequest(al.DocumentLinkRequest.type,f,g,null)),c=o.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(r,s,a):a(r,s)},resolveDocumentLink:e.resolveProvider?(r,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(al.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(u),f).then(g=>f.isCancellationRequested?u:o.protocol2CodeConverter.asDocumentLink(g),g=>o.handleFailedRequest(al.DocumentLinkResolveRequest.type,f,g,u)),c=o.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(r,s,a):a(r,s)}:void 0};return[S4.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};ih.DocumentLinkFeature=BD});var DL=F(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.ExecuteCommandFeature=void 0;var D4=require("vscode"),WD=_e(),T4=Pt(),bL=Qe(),KD=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return WD.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,bL.ensure)((0,bL.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:T4.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,i=n.middleware,r=(s,o)=>{let a={command:s,arguments:o};return n.sendRequest(WD.ExecuteCommandRequest.type,a).then(void 0,c=>n.handleFailedRequest(WD.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(D4.commands.registerCommand(o,(...a)=>i.executeCommand?i.executeCommand(o,a,r):r(o,a)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(i=>i.dispose())}clear(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};rh.ExecuteCommandFeature=KD});var TL=F(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.FileSystemWatcherFeature=void 0;var w4=require("vscode"),Ro=_e(),sh=Qe(),$D=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Ro.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,sh.ensure)((0,sh.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,sh.ensure)((0,sh.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let i of e.registerOptions.watchers){let r=this._client.protocol2CodeConverter.asGlobPattern(i.globPattern);if(r===void 0)continue;let s=!0,o=!0,a=!0;i.kind!==void 0&&i.kind!==null&&(s=(i.kind&Ro.WatchKind.Create)!==0,o=(i.kind&Ro.WatchKind.Change)!==0,a=(i.kind&Ro.WatchKind.Delete)!==0);let c=w4.workspace.createFileSystemWatcher(r,!s,!o,!a);this.hookListeners(c,s,o,a,n),n.push(c)}this._watchers.set(e.id,n)}registerRaw(e,n){let i=[];for(let r of n)this.hookListeners(r,!0,!0,!0,i);this._watchers.set(e,i)}hookListeners(e,n,i,r,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ro.FileChangeType.Created}),null,s),i&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ro.FileChangeType.Changed}),null,s),r&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ro.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let i of n)i.dispose()}clear(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};oh.FileSystemWatcherFeature=$D});var wL=F(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.ColorProviderFeature=void 0;var x4=require("vscode"),cl=_e(),HD=Qe(),VD=class extends HD.TextDocumentLanguageFeature{constructor(e){super(e,cl.DocumentColorRequest.type)}fillClientCapabilities(e){(0,HD.ensure)((0,HD.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.colorProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideColorPresentations:(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={color:f,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g.document),range:a.code2ProtocolConverter.asRange(g.range)};return a.sendRequest(cl.ColorPresentationRequest.type,l,p).then(d=>p.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(d,p),d=>a.handleFailedRequest(cl.ColorPresentationRequest.type,p,d,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(r,s,o,c):c(r,s,o)},provideDocumentColors:(r,s)=>{let o=this._client,a=(u,f)=>{let g={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(u)};return o.sendRequest(cl.DocumentColorRequest.type,g,f).then(p=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(p,f),p=>o.handleFailedRequest(cl.DocumentColorRequest.type,f,p,null))},c=o.middleware;return c.provideDocumentColors?c.provideDocumentColors(r,s,a):a(r,s)}};return[x4.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};ah.ColorProviderFeature=VD});var xL=F(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.ImplementationFeature=void 0;var E4=require("vscode"),zD=_e(),GD=Qe(),JD=class extends GD.TextDocumentLanguageFeature{constructor(e){super(e,zD.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,GD.ensure)((0,GD.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.implementationProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideImplementation:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(zD.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(zD.ImplementationRequest.type,p,l,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return E4.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};ch.ImplementationFeature=JD});var EL=F(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.TypeDefinitionFeature=void 0;var k4=require("vscode"),XD=_e(),ul=Qe(),YD=class extends ul.TextDocumentLanguageFeature{constructor(e){super(e,XD.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,ul.ensure)((0,ul.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,ul.ensure)((0,ul.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.typeDefinitionProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideTypeDefinition:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(XD.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(XD.TypeDefinitionRequest.type,p,l,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return k4.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};uh.TypeDefinitionFeature=YD});var kL=F(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.WorkspaceFoldersFeature=Ya.arrayDiff=void 0;var F4=Pt(),lh=require("vscode"),ll=_e();function QD(t,e){if(t!=null)return t[e]}function ZD(t,e){return t.filter(n=>e.indexOf(n)<0)}Ya.arrayDiff=ZD;var eT=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return ll.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=lh.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(i=>this.asProtocol(i))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(ll.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=lh.workspace.workspaceFolders;return c===void 0?null:c.map(f=>this.asProtocol(f))},a=n.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let i=QD(QD(QD(e,"workspace"),"workspaceFolders"),"changeNotifications"),r;typeof i=="string"?r=i:i===!0&&(r=F4.generateUuid()),r&&this.register({id:r,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let i=ZD(this._initialFolders,e),r=ZD(e,this._initialFolders);(r.length>0||i.length>0)&&(n=this.doSendEvent(r,i))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(i=>{this._client.error(`Sending notification ${ll.DidChangeWorkspaceFoldersNotification.type.method} failed`,i)})}doSendEvent(e,n){let i={event:{added:e.map(r=>this.asProtocol(r)),removed:n.map(r=>this.asProtocol(r))}};return this._client.sendNotification(ll.DidChangeWorkspaceFoldersNotification.type,i)}register(e){let n=e.id,i=this._client,r=lh.workspace.onDidChangeWorkspaceFolders(s=>{let o=u=>this.doSendEvent(u.added,u.removed),a=i.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(u=>{this._client.error(`Sending notification ${ll.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(n,r),this.sendInitialEvent(lh.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Ya.WorkspaceFoldersFeature=eT});var PL=F(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.FoldingRangeFeature=void 0;var FL=require("vscode"),Ao=_e(),dl=Qe(),tT=class extends dl.TextDocumentLanguageFeature{constructor(e){super(e,Ao.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,dl.ensure)((0,dl.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[Ao.FoldingRangeKind.Comment,Ao.FoldingRangeKind.Imports,Ao.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1},(0,dl.ensure)((0,dl.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,n){this._client.onRequest(Ao.FoldingRangeRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeFoldingRange.fire()});let[i,r]=this.getRegistration(n,e.foldingRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new FL.EventEmitter,r={onDidChangeFoldingRanges:i.event,provideFoldingRanges:(s,o,a)=>{let c=this._client,u=(g,p,l)=>{let d={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g)};return c.sendRequest(Ao.FoldingRangeRequest.type,d,l).then(h=>l.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(h,l),h=>c.handleFailedRequest(Ao.FoldingRangeRequest.type,l,h,null))},f=c.middleware;return f.provideFoldingRanges?f.provideFoldingRanges(s,o,a,u):u(s,o,a)}};return[FL.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),{provider:r,onDidChangeFoldingRange:i}]}};dh.FoldingRangeFeature=tT});var RL=F(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.DeclarationFeature=void 0;var P4=require("vscode"),nT=_e(),iT=Qe(),rT=class extends iT.TextDocumentLanguageFeature{constructor(e){super(e,nT.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,iT.ensure)((0,iT.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.declarationProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDeclaration:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(nT.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(l,p),l=>a.handleFailedRequest(nT.DeclarationRequest.type,p,l,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return P4.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};fh.DeclarationFeature=rT});var AL=F(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.SelectionRangeFeature=void 0;var R4=require("vscode"),sT=_e(),oT=Qe(),aT=class extends oT.TextDocumentLanguageFeature{constructor(e){super(e,sT.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,oT.ensure)((0,oT.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.selectionRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideSelectionRanges:(r,s,o)=>{let a=this._client,c=async(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),positions:a.code2ProtocolConverter.asPositionsSync(g,p)};return a.sendRequest(sT.SelectionRangeRequest.type,l,p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(d,p),d=>a.handleFailedRequest(sT.SelectionRangeRequest.type,p,d,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return R4.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};ph.SelectionRangeFeature=aT});var _L=F(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.ProgressFeature=void 0;var IL=_e(),A4=Nb();function I4(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var cT=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:IL.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){I4(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=r=>{this.activeParts.delete(r)},i=r=>{this.activeParts.add(new A4.ProgressPart(this._client,r.token,n))};e.onRequest(IL.WorkDoneProgressCreateRequest.type,i)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};hh.ProgressFeature=cT});var NL=F(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.CallHierarchyFeature=void 0;var _4=require("vscode"),Io=_e(),uT=Qe(),lT=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,i){let r=this.client,s=this.middleware,o=(a,c,u)=>{let f=r.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return r.sendRequest(Io.CallHierarchyPrepareRequest.type,f,u).then(g=>u.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(g,u),g=>r.handleFailedRequest(Io.CallHierarchyPrepareRequest.type,u,g,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,i,o):o(e,n,i)}provideCallHierarchyIncomingCalls(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asCallHierarchyItem(o)};return i.sendRequest(Io.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>i.handleFailedRequest(Io.CallHierarchyIncomingCallsRequest.type,a,u,null))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asCallHierarchyItem(o)};return i.sendRequest(Io.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>i.handleFailedRequest(Io.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},dT=class extends uT.TextDocumentLanguageFeature{constructor(e){super(e,Io.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,i=(0,uT.ensure)((0,uT.ensure)(n,"textDocument"),"callHierarchy");i.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.callHierarchyProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=this._client,i=new lT(n);return[_4.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),i),i]}};gh.CallHierarchyFeature=dT});var LL=F(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.SemanticTokensFeature=void 0;var mh=require("vscode"),Oe=_e(),fl=Qe(),N4=Oi(),fT=class extends fl.TextDocumentLanguageFeature{constructor(e){super(e,Oe.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,fl.ensure)((0,fl.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[Oe.SemanticTokenTypes.namespace,Oe.SemanticTokenTypes.type,Oe.SemanticTokenTypes.class,Oe.SemanticTokenTypes.enum,Oe.SemanticTokenTypes.interface,Oe.SemanticTokenTypes.struct,Oe.SemanticTokenTypes.typeParameter,Oe.SemanticTokenTypes.parameter,Oe.SemanticTokenTypes.variable,Oe.SemanticTokenTypes.property,Oe.SemanticTokenTypes.enumMember,Oe.SemanticTokenTypes.event,Oe.SemanticTokenTypes.function,Oe.SemanticTokenTypes.method,Oe.SemanticTokenTypes.macro,Oe.SemanticTokenTypes.keyword,Oe.SemanticTokenTypes.modifier,Oe.SemanticTokenTypes.comment,Oe.SemanticTokenTypes.string,Oe.SemanticTokenTypes.number,Oe.SemanticTokenTypes.regexp,Oe.SemanticTokenTypes.operator,Oe.SemanticTokenTypes.decorator],n.tokenModifiers=[Oe.SemanticTokenModifiers.declaration,Oe.SemanticTokenModifiers.definition,Oe.SemanticTokenModifiers.readonly,Oe.SemanticTokenModifiers.static,Oe.SemanticTokenModifiers.deprecated,Oe.SemanticTokenModifiers.abstract,Oe.SemanticTokenModifiers.async,Oe.SemanticTokenModifiers.modification,Oe.SemanticTokenModifiers.documentation,Oe.SemanticTokenModifiers.defaultLibrary],n.formats=[Oe.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,fl.ensure)((0,fl.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Oe.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[r,s]=this.getRegistration(n,e.semanticTokensProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,i=N4.boolean(e.full)?e.full:e.full!==void 0,r=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new mh.EventEmitter,o=i?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(l,d)=>{let h=this._client,m=h.middleware,C=(T,w)=>{let k={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(T)};return h.sendRequest(Oe.SemanticTokensRequest.type,k,w).then(A=>w.isCancellationRequested?null:h.protocol2CodeConverter.asSemanticTokens(A,w),A=>h.handleFailedRequest(Oe.SemanticTokensRequest.type,w,A,null))};return m.provideDocumentSemanticTokens?m.provideDocumentSemanticTokens(l,d,C):C(l,d)},provideDocumentSemanticTokensEdits:r?(l,d,h)=>{let m=this._client,C=m.middleware,T=(w,k,A)=>{let B={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(w),previousResultId:k};return m.sendRequest(Oe.SemanticTokensDeltaRequest.type,B,A).then(async W=>A.isCancellationRequested?null:Oe.SemanticTokens.is(W)?await m.protocol2CodeConverter.asSemanticTokens(W,A):await m.protocol2CodeConverter.asSemanticTokensEdits(W,A),W=>m.handleFailedRequest(Oe.SemanticTokensDeltaRequest.type,A,W,null))};return C.provideDocumentSemanticTokensEdits?C.provideDocumentSemanticTokensEdits(l,d,h,T):T(l,d,h)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(l,d,h)=>{let m=this._client,C=m.middleware,T=(w,k,A)=>{let B={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(w),range:m.code2ProtocolConverter.asRange(k)};return m.sendRequest(Oe.SemanticTokensRangeRequest.type,B,A).then(W=>A.isCancellationRequested?null:m.protocol2CodeConverter.asSemanticTokens(W,A),W=>m.handleFailedRequest(Oe.SemanticTokensRangeRequest.type,A,W,null))};return C.provideDocumentRangeSemanticTokens?C.provideDocumentRangeSemanticTokens(l,d,h,T):T(l,d,h)}}:void 0,u=[],f=this._client,g=f.protocol2CodeConverter.asSemanticTokensLegend(e.legend),p=f.protocol2CodeConverter.asDocumentSelector(n);return o!==void 0&&u.push(mh.languages.registerDocumentSemanticTokensProvider(p,o,g)),c!==void 0&&u.push(mh.languages.registerDocumentRangeSemanticTokensProvider(p,c,g)),[new mh.Disposable(()=>u.forEach(l=>l.dispose())),{range:c,full:o,onDidChangeSemanticTokensEmitter:s}]}};yh.SemanticTokensFeature=fT});var qL=F(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.WillDeleteFilesFeature=ci.WillRenameFilesFeature=ci.WillCreateFilesFeature=ci.DidDeleteFilesFeature=ci.DidRenameFilesFeature=ci.DidCreateFilesFeature=void 0;var Wi=require("vscode"),L4=Up(),Jr=_e(),O4=Pt();function OL(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function M4(t,e){return t[e]}function ML(t,e,n){t[e]=n}var pl=class t{constructor(e,n,i,r,s){this._client=e,this._event=n,this._registrationType=i,this._clientCapability=r,this._serverCapability=s,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=OL(OL(e,"workspace"),"fileOperations");ML(n,"dynamicRegistration",!0),ML(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,i=n!==void 0?M4(n,this._serverCapability):void 0;if(i?.filters!==void 0)try{this.register({id:O4.generateUuid(),registerOptions:{filters:i.filters}})}catch(r){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${r}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(i=>{let r=new L4.Minimatch(i.pattern.glob,t.asMinimatchOptions(i.pattern.options));if(!r.makeRe())throw new Error(`Invalid pattern ${i.pattern.glob}!`);return{scheme:i.scheme,matcher:r,kind:i.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let i=await Promise.all(e.files.map(async s=>{let o=n(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==o.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let f=await this.getFileType(o);if(f===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(f===Wi.FileType.File&&u.kind===Jr.FileOperationPatternKind.file||f===Wi.FileType.Directory&&u.kind===Jr.FileOperationPatternKind.folder)return!0}else if(u.kind===Jr.FileOperationPatternKind.folder&&await t.getFileType(o)===Wi.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),r=e.files.filter((s,o)=>i[o]);return{...e,files:r}}static async getFileType(e){try{return(await Wi.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let n={dot:!0};return e?.ignoreCase===!0&&(n.nocase=!0),n}},Ch=class extends pl{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s),this._notificationType=i,this._accessUri=o,this._createParams=a}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let i=async r=>this._client.sendNotification(this._notificationType,this._createParams(r));return this.doSend(n,i)}}},vh=class extends Ch{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let i=await pl.getFileType(e);return i&&this._fsPathFileTypes.set(n,i),i}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},pT=class extends Ch{constructor(e){super(e,Wi.workspace.onDidCreateFiles,Jr.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.didCreateFiles?i.didCreateFiles(e,n):n(e)}};ci.DidCreateFilesFeature=pT;var hT=class extends vh{constructor(e){super(e,Wi.workspace.onDidRenameFiles,Jr.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Wi.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let i=this._client.middleware.workspace;return i?.didRenameFiles?i.didRenameFiles(e,n):n(e)}};ci.DidRenameFilesFeature=hT;var gT=class extends vh{constructor(e){super(e,Wi.workspace.onDidDeleteFiles,Jr.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Wi.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let i=this._client.middleware.workspace;return i?.didDeleteFiles?i.didDeleteFiles(e,n):n(e)}};ci.DidDeleteFilesFeature=gT;var hl=class extends pl{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s),this._requestType=i,this._accessUri=o,this._createParams=a}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let i=r=>this._client.sendRequest(this._requestType,this._createParams(r),r.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,i)}else return}},mT=class extends hl{constructor(e){super(e,Wi.workspace.onWillCreateFiles,Jr.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willCreateFiles?i.willCreateFiles(e,n):n(e)}};ci.WillCreateFilesFeature=mT;var yT=class extends hl{constructor(e){super(e,Wi.workspace.onWillRenameFiles,Jr.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willRenameFiles?i.willRenameFiles(e,n):n(e)}};ci.WillRenameFilesFeature=yT;var CT=class extends hl{constructor(e){super(e,Wi.workspace.onWillDeleteFiles,Jr.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willDeleteFiles?i.willDeleteFiles(e,n):n(e)}};ci.WillDeleteFilesFeature=CT});var UL=F(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.LinkedEditingFeature=void 0;var q4=require("vscode"),vT=_e(),ST=Qe(),bT=class extends ST.TextDocumentLanguageFeature{constructor(e){super(e,vT.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,ST.ensure)((0,ST.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.linkedEditingRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideLinkedEditingRanges:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(vT.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(l,p),l=>a.handleFailedRequest(vT.LinkedEditingRangeRequest.type,p,l,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return q4.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Sh.LinkedEditingFeature=bT});var jL=F(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.TypeHierarchyFeature=void 0;var U4=require("vscode"),_o=_e(),DT=Qe(),TT=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,i){let r=this.client,s=this.middleware,o=(a,c,u)=>{let f=r.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return r.sendRequest(_o.TypeHierarchyPrepareRequest.type,f,u).then(g=>u.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(g,u),g=>r.handleFailedRequest(_o.TypeHierarchyPrepareRequest.type,u,g,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,n,i,o):o(e,n,i)}provideTypeHierarchySupertypes(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asTypeHierarchyItem(o)};return i.sendRequest(_o.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>i.handleFailedRequest(_o.TypeHierarchySupertypesRequest.type,a,u,null))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,n,s):s(e,n)}provideTypeHierarchySubtypes(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asTypeHierarchyItem(o)};return i.sendRequest(_o.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>i.handleFailedRequest(_o.TypeHierarchySubtypesRequest.type,a,u,null))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,n,s):s(e,n)}},wT=class extends DT.TextDocumentLanguageFeature{constructor(e){super(e,_o.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,DT.ensure)((0,DT.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.typeHierarchyProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=this._client,i=new TT(n);return[U4.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),i),i]}};bh.TypeHierarchyFeature=wT});var WL=F(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.InlineValueFeature=void 0;var BL=require("vscode"),Dh=_e(),gl=Qe(),xT=class extends gl.TextDocumentLanguageFeature{constructor(e){super(e,Dh.InlineValueRequest.type)}fillClientCapabilities(e){(0,gl.ensure)((0,gl.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,gl.ensure)((0,gl.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(Dh.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire()});let[i,r]=this.getRegistration(n,e.inlineValueProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new BL.EventEmitter,r={onDidChangeInlineValues:i.event,provideInlineValues:(s,o,a,c)=>{let u=this._client,f=(p,l,d,h)=>{let m={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(p),range:u.code2ProtocolConverter.asRange(l),context:u.code2ProtocolConverter.asInlineValueContext(d)};return u.sendRequest(Dh.InlineValueRequest.type,m,h).then(C=>h.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(C,h),C=>u.handleFailedRequest(Dh.InlineValueRequest.type,h,C,null))},g=u.middleware;return g.provideInlineValues?g.provideInlineValues(s,o,a,c,f):f(s,o,a,c)}};return[this.registerProvider(n,r),{provider:r,onDidChangeInlineValues:i}]}registerProvider(e,n){return BL.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Th.InlineValueFeature=xT});var $L=F(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.InlayHintsFeature=void 0;var KL=require("vscode"),Qa=_e(),ml=Qe(),ET=class extends ml.TextDocumentLanguageFeature{constructor(e){super(e,Qa.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,ml.ensure)((0,ml.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,ml.ensure)((0,ml.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest(Qa.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire()});let[i,r]=this.getRegistration(n,e.inlayHintProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new KL.EventEmitter,r={onDidChangeInlayHints:i.event,provideInlayHints:(s,o,a)=>{let c=this._client,u=async(g,p,l)=>{let d={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p)};try{let h=await c.sendRequest(Qa.InlayHintRequest.type,d,l);return l.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(h,l)}catch(h){return c.handleFailedRequest(Qa.InlayHintRequest.type,l,h,null)}},f=c.middleware;return f.provideInlayHints?f.provideInlayHints(s,o,a,u):u(s,o,a)}};return r.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,c=async(f,g)=>{try{let p=await a.sendRequest(Qa.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(f),g);if(g.isCancellationRequested)return null;let l=a.protocol2CodeConverter.asInlayHint(p,g);return g.isCancellationRequested?null:l}catch(p){return a.handleFailedRequest(Qa.InlayHintResolveRequest.type,g,p,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(s,o,c):c(s,o)}:void 0,[this.registerProvider(n,r),{provider:r,onDidChangeInlayHints:i}]}registerProvider(e,n){return KL.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};wh.InlayHintsFeature=ET});var HL=F(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.InlineCompletionItemFeature=void 0;var j4=require("vscode"),kT=_e(),FT=Qe(),B4=Pt(),PT=class extends FT.TextDocumentLanguageFeature{constructor(e){super(e,kT.InlineCompletionRequest.type)}fillClientCapabilities(e){let n=(0,FT.ensure)((0,FT.ensure)(e,"textDocument"),"inlineCompletion");n.dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.inlineCompletionProvider);i&&this.register({id:B4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideInlineCompletionItems:(r,s,o,a)=>{let c=this._client,u=this._client.middleware,f=(g,p,l,d)=>c.sendRequest(kT.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(g,p,l),d).then(h=>d.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(h,d),h=>c.handleFailedRequest(kT.InlineCompletionRequest.type,d,h,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(r,s,o,a,f):f(r,s,o,a)}};return[j4.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};xh.InlineCompletionItemFeature=PT});var LT=F(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.ProposedFeatures=hn.BaseLanguageClient=hn.MessageTransports=hn.SuspendMode=hn.State=hn.CloseAction=hn.ErrorAction=hn.RevealOutputChannelOn=void 0;var ft=require("vscode"),oe=_e(),W4=bN(),K4=wN(),sr=Oi(),Eh=Ip(),VL=Pt(),$4=Nb(),rr=Qe(),H4=eD(),zL=tL(),GL=iL(),Za=rL(),V4=sL(),z4=oL(),G4=aL(),J4=uL(),X4=lL(),Y4=xD(),Q4=fL(),Z4=pL(),eG=hL(),tG=mL(),RT=yL(),nG=vL(),iG=SL(),rG=DL(),sG=TL(),oG=wL(),aG=xL(),cG=EL(),uG=kL(),lG=PL(),dG=RL(),fG=AL(),pG=_L(),hG=NL(),gG=LL(),ec=qL(),mG=UL(),yG=jL(),CG=WL(),vG=$L(),SG=HL(),No;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(No||(hn.RevealOutputChannelOn=No={}));var Cl;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(Cl||(hn.ErrorAction=Cl={}));var _s;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(_s||(hn.CloseAction=_s={}));var yl;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(yl||(hn.State=yl={}));var JL;(function(t){t.off="off",t.on="on"})(JL||(hn.SuspendMode=JL={}));var AT;(function(t){function e(n){return n==null?!1:typeof n=="boolean"||typeof n=="object"&&n!==null&&sr.stringArray(n.enabledCommands)?n:!1}t.sanitizeIsTrusted=e})(AT||(AT={}));var IT=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,i){return i&&i<=3?{action:Cl.Continue}:{action:Cl.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:_s.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:_s.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:_s.Restart})}},We;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(We||(We={}));var XL;(function(t){function e(n){return n&&oe.MessageReader.is(n.reader)&&oe.MessageWriter.is(n.writer)}t.is=e})(XL||(hn.MessageTransports=XL={}));var vl=class t{constructor(e,n,i){this._traceFormat=oe.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new Eh.Semaphore(1),this._id=e,this._name=n,i=i||{};let r={isTrusted:!1,supportHtml:!1};i.markdown!==void 0&&(r.isTrusted=AT.sanitizeIsTrusted(i.markdown.isTrusted),r.supportHtml=i.markdown.supportHtml===!0),this._clientOptions={documentSelector:i.documentSelector??[],synchronize:i.synchronize??{},diagnosticCollectionName:i.diagnosticCollectionName,outputChannelName:i.outputChannelName??this._name,revealOutputChannelOn:i.revealOutputChannelOn??No.Error,stdioEncoding:i.stdioEncoding??"utf8",initializationOptions:i.initializationOptions,initializationFailedHandler:i.initializationFailedHandler,progressOnInitialization:!!i.progressOnInitialization,errorHandler:i.errorHandler??this.createDefaultErrorHandler(i.connectionOptions?.maxRestartCount),middleware:i.middleware??{},uriConverters:i.uriConverters,workspaceFolder:i.workspaceFolder,connectionOptions:i.connectionOptions,markdown:r,diagnosticPullOptions:i.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:i.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=We.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,i.outputChannel?(this._outputChannel=i.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=i.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new Eh.Semaphore(1),this._pendingChangeDelayer=new Eh.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new Eh.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new oe.Emitter,this._stateChangeEmitter=new oe.Emitter,this._trace=oe.Trace.Off,this._tracer={log:(s,o)=>{sr.string(s)?this.logTrace(s,o):this.logObjectTrace(s)}},this._c2p=W4.createConverter(i.uriConverters?i.uriConverters.code2Protocol:void 0),this._p2c=K4.createConverter(i.uriConverters?i.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=ft.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let i=this.getPublicState();i!==n&&this._stateChangeEmitter.fire({oldState:n,newState:i})}getPublicState(){switch(this.$state){case We.Starting:return yl.Starting;case We.Running:return yl.Running;default:return yl.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));let i=await this.$start();this._didChangeTextDocumentFeature.syncKind===oe.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(i);let r=this._clientOptions.middleware?.sendRequest;if(r!==void 0){let s,o;return n.length===1?oe.CancellationToken.is(n[0])?o=n[0]:s=n[0]:n.length===2&&(s=n[0],o=n[1]),r(e,s,o,(a,c,u)=>{let f=[];return c!==void 0&&f.push(c),u!==void 0&&f.push(u),i.sendRequest(a,...f)})}else return i.sendRequest(e,...n)}onRequest(e,n){let i=typeof e=="string"?e:e.method;this._requestHandlers.set(i,n);let r=this.activeConnection(),s;return r!==void 0?(this._requestDisposables.set(i,r.onRequest(e,n)),s={dispose:()=>{let o=this._requestDisposables.get(i);o!==void 0&&(o.dispose(),this._requestDisposables.delete(i))}}):(this._pendingRequestHandlers.set(i,n),s={dispose:()=>{this._pendingRequestHandlers.delete(i);let o=this._requestDisposables.get(i);o!==void 0&&(o.dispose(),this._requestDisposables.delete(i))}}),{dispose:()=>{this._requestHandlers.delete(i),s.dispose()}}}async sendNotification(e,n){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));let i=this._didChangeTextDocumentFeature.syncKind===oe.TextDocumentSyncKind.Full,r;i&&typeof e!="string"&&e.method===oe.DidOpenTextDocumentNotification.method&&(r=n?.textDocument.uri,this._pendingOpenNotifications.add(r));let s=await this.$start();i&&await this.sendPendingFullTextDocumentChanges(s),r!==void 0&&this._pendingOpenNotifications.delete(r);let o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),n):s.sendNotification(e,n)}onNotification(e,n){let i=typeof e=="string"?e:e.method;this._notificationHandlers.set(i,n);let r=this.activeConnection(),s;return r!==void 0?(this._notificationDisposables.set(i,r.onNotification(e,n)),s={dispose:()=>{let o=this._notificationDisposables.get(i);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(i))}}):(this._pendingNotificationHandlers.set(i,n),s={dispose:()=>{this._pendingNotificationHandlers.delete(i);let o=this._notificationDisposables.get(i);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(i))}}),{dispose:()=>{this._notificationHandlers.delete(i),s.dispose()}}}async sendProgress(e,n,i){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,i)}catch(r){throw this.error(`Sending progress for token ${n} failed.`,r),r}}onProgress(e,n,i){this._progressHandlers.set(n,{type:e,handler:i});let r=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=oe.WorkDoneProgress.is(e)&&o!==void 0?c=>{o(n,c,()=>i(c))}:i;return r!==void 0?(this._progressDisposables.set(n,r.onProgress(e,n,a)),s={dispose:()=>{let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:i}),s={dispose:()=>{this._pendingProgressHandlers.delete(n);let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),s.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new IT(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof oe.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?sr.string(e.stack)?e.stack:e.message:sr.string(e)?e:e.toString()}debug(e,n,i=!0){this.logOutputMessage(oe.MessageType.Debug,No.Debug,"Debug",e,n,i)}info(e,n,i=!0){this.logOutputMessage(oe.MessageType.Info,No.Info,"Info",e,n,i)}warn(e,n,i=!0){this.logOutputMessage(oe.MessageType.Warning,No.Warn,"Warn",e,n,i)}error(e,n,i=!0){this.logOutputMessage(oe.MessageType.Error,No.Error,"Error",e,n,i)}logOutputMessage(e,n,i,r,s,o){this.outputChannel.appendLine(`[${i.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${r}`),s!=null&&this.outputChannel.appendLine(this.data2String(s)),(o==="force"||o&&this._clientOptions.revealOutputChannelOn<=n)&&this.showNotificationMessage(e,r)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===oe.MessageType.Error?ft.window.showErrorMessage:e===oe.MessageType.Warning?ft.window.showWarningMessage:ft.window.showInformationMessage)(n,"Go to output").then(r=>{r!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===We.Initial||this.$state===We.Stopping||this.$state===We.Stopped}needsStop(){return this.$state===We.Starting||this.$state===We.Running}activeConnection(){return this.$state===We.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===We.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===We.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,i]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?ft.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):ft.languages.createDiagnosticCollection());for(let[r,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(r)||this._pendingNotificationHandlers.set(r,s);for(let[r,s]of this._requestHandlers)this._pendingRequestHandlers.has(r)||this._pendingRequestHandlers.set(r,s);for(let[r,s]of this._progressHandlers)this._pendingProgressHandlers.has(r)||this._pendingProgressHandlers.set(r,s);this.$state=We.Starting;try{let r=await this.createConnection();r.onNotification(oe.LogMessageNotification.type,s=>{switch(s.type){case oe.MessageType.Error:this.error(s.message,void 0,!1);break;case oe.MessageType.Warning:this.warn(s.message,void 0,!1);break;case oe.MessageType.Info:this.info(s.message,void 0,!1);break;case oe.MessageType.Debug:this.debug(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message)}}),r.onNotification(oe.ShowMessageNotification.type,s=>{switch(s.type){case oe.MessageType.Error:ft.window.showErrorMessage(s.message);break;case oe.MessageType.Warning:ft.window.showWarningMessage(s.message);break;case oe.MessageType.Info:ft.window.showInformationMessage(s.message);break;default:ft.window.showInformationMessage(s.message)}}),r.onRequest(oe.ShowMessageRequest.type,s=>{let o;switch(s.type){case oe.MessageType.Error:o=ft.window.showErrorMessage;break;case oe.MessageType.Warning:o=ft.window.showWarningMessage;break;case oe.MessageType.Info:o=ft.window.showInformationMessage;break;default:o=ft.window.showInformationMessage}let a=s.actions||[];return o(s.message,...a)}),r.onNotification(oe.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s)}),r.onRequest(oe.ShowDocumentRequest.type,async s=>{let o=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await ft.env.openExternal(u)};{let f={};return c.selection!==void 0&&(f.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?f.preserveFocus=!0:c.takeFocus===!0&&(f.preserveFocus=!1),await ft.window.showTextDocument(u,f),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),r.listen(),await this.initialize(r),n()}catch(r){this.$state=We.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,r,"force"),i(r)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((r,s)=>{e=r,n=s}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[i,r]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:ft.env.appName,version:ft.version},locale:this.getLocale(),rootPath:i||null,rootUri:i?this._c2p.asUri(ft.Uri.file(i)):null,capabilities:this.computeClientCapabilities(),initializationOptions:sr.func(n)?n():n,trace:oe.Trace.toString(this._trace),workspaceFolders:r};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=VL.generateUuid(),a=new $4.ProgressPart(e,o);s.workDoneToken=o;try{let c=await this.doInitialize(e,s);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,s)}async doInitialize(e,n){try{let i=await e.initialize(n);if(i.capabilities.positionEncoding!==void 0&&i.capabilities.positionEncoding!==oe.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${i.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=i,this.$state=We.Running;let r;sr.number(i.capabilities.textDocumentSync)?i.capabilities.textDocumentSync===oe.TextDocumentSyncKind.None?r={openClose:!1,change:oe.TextDocumentSyncKind.None,save:void 0}:r={openClose:!0,change:i.capabilities.textDocumentSync,save:{includeText:!1}}:i.capabilities.textDocumentSync!==void 0&&i.capabilities.textDocumentSync!==null&&(r=i.capabilities.textDocumentSync),this._capabilities=Object.assign({},i.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(oe.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest(oe.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(oe.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(oe.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(oe.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),i}catch(i){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(i)?this.initialize(e):this.stop():i instanceof oe.ResponseError&&i.data&&i.data.retry?ft.window.showErrorMessage(i.message,{title:"Retry",id:"retry"}).then(r=>{r&&r.id==="retry"?this.initialize(e):this.stop()}):(i&&i.message&&ft.window.showErrorMessage(i.message),this.error("Server initialization failed.",i),this.stop()),i}}_clientGetRootPath(){let e=ft.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===We.Stopped||this.$state===We.Initial)return;if(this.$state===We.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let i=this.activeConnection();if(i===void 0||this.$state!==We.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=We.Stopping,this.cleanUp(e);let r=new Promise(o=>{(0,oe.RAL)().timer.setTimeout(o,n)}),s=(async o=>(await o.shutdown(),await o.exit(),o))(i);return this._onStop=Promise.race([r,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=We.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let i of n)i.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let i of Array.from(this._features.entries()).map(r=>r[1]).reverse())i.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function i(s){return n._fileEvents.push(s),n._fileEventDelayer.trigger(async()=>{await n.sendNotification(oe.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,i):i(e)).catch(s=>{n.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let i of n){let r=this.code2ProtocolConverter.asChangeTextDocumentParams(i);await e.sendNotification(oe.DidChangeTextDocumentNotification.type,r),this._didChangeTextDocumentFeature.notificationSent(i,oe.DidChangeTextDocumentNotification.type,r)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,oe.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,i]=e.value;this._diagnosticQueue.delete(n);let r=new ft.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:r},this._p2c.asDiagnostics(i,r.token).then(s=>{if(!r.token.isCancellationRequested){let o=this._p2c.asUri(n),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(o,s)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return ft.env.language}async $start(){if(this.$state===We.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(r,s,o)=>{this.handleConnectionError(r,s,o).catch(a=>this.error("Handling connection error failed",a))},n=()=>{this.handleConnectionClosed().catch(r=>this.error("Handling connection close failed",r))},i=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=bG(i.reader,i.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===We.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:_s.DoNotRestart};if(this.$state!==We.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===_s.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===We.Starting?this.$state=We.StartFailed:this.$state=We.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===_s.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=We.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,i){let r=await this._clientOptions.errorHandler.error(e,n,i);r.action===Cl.Shutdown?(this.error(r.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,r.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1)})):this.error(r.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,r.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(ft.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let i=ft.workspace.getConfiguration(this._id),r=oe.Trace.Off,s=oe.TraceFormat.Text;if(i){let o=i.get("trace.server","off");typeof o=="string"?r=oe.Trace.fromString(o):(r=oe.Trace.fromString(i.get("trace.server.verbosity","off")),s=oe.TraceFormat.fromString(i.get("trace.server.format","text")))}this._trace=r,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let i;sr.array(n)?i=n:i=[n],i&&this._dynamicFeatures.get(oe.DidChangeWatchedFilesNotification.type.method).registerRaw(VL.generateUuid(),i)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),rr.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature(oe.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof zL.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new GL.ConfigurationFeature(this)),this.registerFeature(new Za.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new Za.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new Za.WillSaveFeature(this)),this.registerFeature(new Za.WillSaveWaitUntilFeature(this)),this.registerFeature(new Za.DidSaveTextDocumentFeature(this)),this.registerFeature(new Za.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new sG.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new V4.CompletionItemFeature(this)),this.registerFeature(new z4.HoverFeature(this)),this.registerFeature(new J4.SignatureHelpFeature(this)),this.registerFeature(new G4.DefinitionFeature(this)),this.registerFeature(new Z4.ReferencesFeature(this)),this.registerFeature(new X4.DocumentHighlightFeature(this)),this.registerFeature(new Y4.DocumentSymbolFeature(this)),this.registerFeature(new Q4.WorkspaceSymbolFeature(this)),this.registerFeature(new eG.CodeActionFeature(this)),this.registerFeature(new tG.CodeLensFeature(this)),this.registerFeature(new RT.DocumentFormattingFeature(this)),this.registerFeature(new RT.DocumentRangeFormattingFeature(this)),this.registerFeature(new RT.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new nG.RenameFeature(this)),this.registerFeature(new iG.DocumentLinkFeature(this)),this.registerFeature(new rG.ExecuteCommandFeature(this)),this.registerFeature(new GL.SyncConfigurationFeature(this)),this.registerFeature(new cG.TypeDefinitionFeature(this)),this.registerFeature(new aG.ImplementationFeature(this)),this.registerFeature(new oG.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new uG.WorkspaceFoldersFeature(this)),this.registerFeature(new lG.FoldingRangeFeature(this)),this.registerFeature(new dG.DeclarationFeature(this)),this.registerFeature(new fG.SelectionRangeFeature(this)),this.registerFeature(new pG.ProgressFeature(this)),this.registerFeature(new hG.CallHierarchyFeature(this)),this.registerFeature(new gG.SemanticTokensFeature(this)),this.registerFeature(new mG.LinkedEditingFeature(this)),this.registerFeature(new ec.DidCreateFilesFeature(this)),this.registerFeature(new ec.DidRenameFilesFeature(this)),this.registerFeature(new ec.DidDeleteFilesFeature(this)),this.registerFeature(new ec.WillCreateFilesFeature(this)),this.registerFeature(new ec.WillRenameFilesFeature(this)),this.registerFeature(new ec.WillDeleteFilesFeature(this)),this.registerFeature(new yG.TypeHierarchyFeature(this)),this.registerFeature(new CG.InlineValueFeature(this)),this.registerFeature(new vG.InlayHintsFeature(this)),this.registerFeature(new H4.DiagnosticFeature(this)),this.registerFeature(new zL.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(NT.createAll(this))}fillInitializeParams(e){for(let n of this._features)sr.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,rr.ensure)(e,"workspace").applyEdit=!0;let n=(0,rr.ensure)((0,rr.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[oe.ResourceOperationKind.Create,oe.ResourceOperationKind.Rename,oe.ResourceOperationKind.Delete],n.failureHandling=oe.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let i=(0,rr.ensure)((0,rr.ensure)(e,"textDocument"),"publishDiagnostics");i.relatedInformation=!0,i.versionSupport=!1,i.tagSupport={valueSet:[oe.DiagnosticTag.Unnecessary,oe.DiagnosticTag.Deprecated]},i.codeDescriptionSupport=!0,i.dataSupport=!0;let r=(0,rr.ensure)(e,"window"),s=(0,rr.ensure)(r,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0,rr.ensure)(r,"showDocument");o.support=!0;let a=(0,rr.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let i of this._features)sr.func(i.preInitialize)&&i.preInitialize(this._capabilities,n);for(let i of this._features)i.initialize(this._capabilities,n)}async handleRegistrationRequest(e){let n=this.clientOptions.middleware?.handleRegisterCapability;return n?n(e,i=>this.doRegisterCapability(i)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let i=this._dynamicFeatures.get(n.method);if(i===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let r=n.registerOptions??{};r.documentSelector=r.documentSelector??this._clientOptions.documentSelector;let s={id:n.id,registerOptions:r};try{i.register(s)}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){let n=this.clientOptions.middleware?.handleUnregisterCapability;return n?n(e,i=>this.doUnregisterCapability(i)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let i=this._dynamicFeatures.get(n.method);if(!i)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));i.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,i=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),r=new Map;ft.workspace.textDocuments.forEach(o=>r.set(o.uri.toString(),o));let s=!1;if(n.documentChanges){for(let o of n.documentChanges)if(oe.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),c=r.get(a);if(c&&c.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):sr.asPromise(ft.workspace.applyEdit(i).then(o=>({applied:o})))}handleFailedRequest(e,n,i,r,s=!0){if(i instanceof oe.ResponseError){if(i.code===oe.ErrorCodes.PendingResponseRejected||i.code===oe.ErrorCodes.ConnectionInactive)return r;if(i.code===oe.LSPErrorCodes.RequestCancelled||i.code===oe.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return r;throw i.data!==void 0?new rr.LSPCancellationError(i.data):new ft.CancellationError}else if(i.code===oe.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new ft.CancellationError;return r}}throw this.error(`Request ${e.method} failed.`,i,s),i}};hn.BaseLanguageClient=vl;vl.RequestsToCancelOnContentModified=new Set([oe.SemanticTokensRequest.method,oe.SemanticTokensRangeRequest.method,oe.SemanticTokensDeltaRequest.method]);vl.CancellableResolveCalls=new Set([oe.CompletionResolveRequest.method,oe.CodeLensResolveRequest.method,oe.CodeActionResolveRequest.method,oe.InlayHintResolveRequest.method,oe.DocumentLinkResolveRequest.method,oe.WorkspaceSymbolResolveRequest.method]);var _T=class{error(e){(0,oe.RAL)().console.error(e)}warn(e){(0,oe.RAL)().console.warn(e)}info(e){(0,oe.RAL)().console.info(e)}log(e){(0,oe.RAL)().console.log(e)}};function bG(t,e,n,i,r){let s=new _T,o=(0,oe.createProtocolConnection)(t,e,s,r);return o.onError(c=>{n(c[0],c[1],c[2])}),o.onClose(i),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,u,f)=>{let g={sendNotification:!1,traceFormat:oe.TraceFormat.Text};return f===void 0?o.trace(c,u,g):(sr.boolean(f),o.trace(c,u,f))},initialize:c=>o.sendRequest(oe.InitializeRequest.type,c),shutdown:()=>o.sendRequest(oe.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(oe.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var NT;(function(t){function e(n){return[new SG.InlineCompletionItemFeature(n)]}t.createAll=e})(NT||(hn.ProposedFeatures=NT={}))});var QL=F(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.terminate=void 0;var YL=require("child_process"),DG=require("path"),TG=process.platform==="win32",wG=process.platform==="darwin",xG=process.platform==="linux";function EG(t,e){if(TG)try{let r={stdio:["pipe","pipe","ignore"]};return e&&(r.cwd=e),YL.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],r),!0}catch{return!1}else if(xG||wG)try{var n=(0,DG.join)(__dirname,"terminateProcess.sh"),i=YL.spawnSync(n,[t.pid.toString()]);return!i.error}catch{return!1}else return t.kill("SIGKILL"),!0}kh.terminate=EG});var OT=F((Ese,ZL)=>{"use strict";ZL.exports=_e()});var Sl=F((kse,eO)=>{var kG=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};eO.exports=kG});var Fh=F((Fse,tO)=>{var FG="2.0.0",PG=Number.MAX_SAFE_INTEGER||9007199254740991,RG=16,AG=250,IG=["major","premajor","minor","preminor","patch","prepatch","prerelease"];tO.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:RG,MAX_SAFE_BUILD_LENGTH:AG,MAX_SAFE_INTEGER:PG,RELEASE_TYPES:IG,SEMVER_SPEC_VERSION:FG,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ph=F((Ar,nO)=>{var{MAX_SAFE_COMPONENT_LENGTH:MT,MAX_SAFE_BUILD_LENGTH:_G,MAX_LENGTH:NG}=Fh(),LG=Sl();Ar=nO.exports={};var OG=Ar.re=[],MG=Ar.safeRe=[],fe=Ar.src=[],qG=Ar.safeSrc=[],pe=Ar.t={},UG=0,qT="[a-zA-Z0-9-]",jG=[["\\s",1],["\\d",NG],[qT,_G]],BG=t=>{for(let[e,n]of jG)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Me=(t,e,n)=>{let i=BG(e),r=UG++;LG(t,r,e),pe[t]=r,fe[r]=e,qG[r]=i,OG[r]=new RegExp(e,n?"g":void 0),MG[r]=new RegExp(i,n?"g":void 0)};Me("NUMERICIDENTIFIER","0|[1-9]\\d*");Me("NUMERICIDENTIFIERLOOSE","\\d+");Me("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${qT}*`);Me("MAINVERSION",`(${fe[pe.NUMERICIDENTIFIER]})\\.(${fe[pe.NUMERICIDENTIFIER]})\\.(${fe[pe.NUMERICIDENTIFIER]})`);Me("MAINVERSIONLOOSE",`(${fe[pe.NUMERICIDENTIFIERLOOSE]})\\.(${fe[pe.NUMERICIDENTIFIERLOOSE]})\\.(${fe[pe.NUMERICIDENTIFIERLOOSE]})`);Me("PRERELEASEIDENTIFIER",`(?:${fe[pe.NUMERICIDENTIFIER]}|${fe[pe.NONNUMERICIDENTIFIER]})`);Me("PRERELEASEIDENTIFIERLOOSE",`(?:${fe[pe.NUMERICIDENTIFIERLOOSE]}|${fe[pe.NONNUMERICIDENTIFIER]})`);Me("PRERELEASE",`(?:-(${fe[pe.PRERELEASEIDENTIFIER]}(?:\\.${fe[pe.PRERELEASEIDENTIFIER]})*))`);Me("PRERELEASELOOSE",`(?:-?(${fe[pe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fe[pe.PRERELEASEIDENTIFIERLOOSE]})*))`);Me("BUILDIDENTIFIER",`${qT}+`);Me("BUILD",`(?:\\+(${fe[pe.BUILDIDENTIFIER]}(?:\\.${fe[pe.BUILDIDENTIFIER]})*))`);Me("FULLPLAIN",`v?${fe[pe.MAINVERSION]}${fe[pe.PRERELEASE]}?${fe[pe.BUILD]}?`);Me("FULL",`^${fe[pe.FULLPLAIN]}$`);Me("LOOSEPLAIN",`[v=\\s]*${fe[pe.MAINVERSIONLOOSE]}${fe[pe.PRERELEASELOOSE]}?${fe[pe.BUILD]}?`);Me("LOOSE",`^${fe[pe.LOOSEPLAIN]}$`);Me("GTLT","((?:<|>)?=?)");Me("XRANGEIDENTIFIERLOOSE",`${fe[pe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Me("XRANGEIDENTIFIER",`${fe[pe.NUMERICIDENTIFIER]}|x|X|\\*`);Me("XRANGEPLAIN",`[v=\\s]*(${fe[pe.XRANGEIDENTIFIER]})(?:\\.(${fe[pe.XRANGEIDENTIFIER]})(?:\\.(${fe[pe.XRANGEIDENTIFIER]})(?:${fe[pe.PRERELEASE]})?${fe[pe.BUILD]}?)?)?`);Me("XRANGEPLAINLOOSE",`[v=\\s]*(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:${fe[pe.PRERELEASELOOSE]})?${fe[pe.BUILD]}?)?)?`);Me("XRANGE",`^${fe[pe.GTLT]}\\s*${fe[pe.XRANGEPLAIN]}$`);Me("XRANGELOOSE",`^${fe[pe.GTLT]}\\s*${fe[pe.XRANGEPLAINLOOSE]}$`);Me("COERCEPLAIN",`(^|[^\\d])(\\d{1,${MT}})(?:\\.(\\d{1,${MT}}))?(?:\\.(\\d{1,${MT}}))?`);Me("COERCE",`${fe[pe.COERCEPLAIN]}(?:$|[^\\d])`);Me("COERCEFULL",fe[pe.COERCEPLAIN]+`(?:${fe[pe.PRERELEASE]})?(?:${fe[pe.BUILD]})?(?:$|[^\\d])`);Me("COERCERTL",fe[pe.COERCE],!0);Me("COERCERTLFULL",fe[pe.COERCEFULL],!0);Me("LONETILDE","(?:~>?)");Me("TILDETRIM",`(\\s*)${fe[pe.LONETILDE]}\\s+`,!0);Ar.tildeTrimReplace="$1~";Me("TILDE",`^${fe[pe.LONETILDE]}${fe[pe.XRANGEPLAIN]}$`);Me("TILDELOOSE",`^${fe[pe.LONETILDE]}${fe[pe.XRANGEPLAINLOOSE]}$`);Me("LONECARET","(?:\\^)");Me("CARETTRIM",`(\\s*)${fe[pe.LONECARET]}\\s+`,!0);Ar.caretTrimReplace="$1^";Me("CARET",`^${fe[pe.LONECARET]}${fe[pe.XRANGEPLAIN]}$`);Me("CARETLOOSE",`^${fe[pe.LONECARET]}${fe[pe.XRANGEPLAINLOOSE]}$`);Me("COMPARATORLOOSE",`^${fe[pe.GTLT]}\\s*(${fe[pe.LOOSEPLAIN]})$|^$`);Me("COMPARATOR",`^${fe[pe.GTLT]}\\s*(${fe[pe.FULLPLAIN]})$|^$`);Me("COMPARATORTRIM",`(\\s*)${fe[pe.GTLT]}\\s*(${fe[pe.LOOSEPLAIN]}|${fe[pe.XRANGEPLAIN]})`,!0);Ar.comparatorTrimReplace="$1$2$3";Me("HYPHENRANGE",`^\\s*(${fe[pe.XRANGEPLAIN]})\\s+-\\s+(${fe[pe.XRANGEPLAIN]})\\s*$`);Me("HYPHENRANGELOOSE",`^\\s*(${fe[pe.XRANGEPLAINLOOSE]})\\s+-\\s+(${fe[pe.XRANGEPLAINLOOSE]})\\s*$`);Me("STAR","(<|>)?=?\\s*\\*");Me("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Me("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Rh=F((Pse,iO)=>{var WG=Object.freeze({loose:!0}),KG=Object.freeze({}),$G=t=>t?typeof t!="object"?WG:t:KG;iO.exports=$G});var aO=F((Rse,oO)=>{var rO=/^[0-9]+$/,sO=(t,e)=>{let n=rO.test(t),i=rO.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},HG=(t,e)=>sO(e,t);oO.exports={compareIdentifiers:sO,rcompareIdentifiers:HG}});var bl=F((Ase,dO)=>{var Ah=Sl(),{MAX_LENGTH:cO,MAX_SAFE_INTEGER:Ih}=Fh(),{safeRe:uO,safeSrc:lO,t:_h}=Ph(),VG=Rh(),{compareIdentifiers:tc}=aO(),UT=class t{constructor(e,n){if(n=VG(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>cO)throw new TypeError(`version is longer than ${cO} characters`);Ah("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let i=e.trim().match(n.loose?uO[_h.LOOSE]:uO[_h.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>Ih||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ih||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ih||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){let s=+r;if(s>=0&&s<Ih)return s}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ah("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),tc(this.major,e.major)||tc(this.minor,e.minor)||tc(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let i=this.prerelease[n],r=e.prerelease[n];if(Ah("prerelease compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return tc(i,r)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let i=this.build[n],r=e.build[n];if(Ah("build compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return tc(i,r)}while(++n)}inc(e,n,i){if(e.startsWith("pre")){if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let r=new RegExp(`^${this.options.loose?lO[_h.PRERELEASELOOSE]:lO[_h.PRERELEASE]}$`),s=`-${n}`.match(r);if(!s||s[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let r=Number(i)?1:0;if(this.prerelease.length===0)this.prerelease=[r];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(n){let s=[n,r];i===!1&&(s=[n]),tc(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};dO.exports=UT});var hO=F((Ise,pO)=>{var fO=bl(),zG=(t,e,n=!1)=>{if(t instanceof fO)return t;try{return new fO(t,e)}catch(i){if(!n)return null;throw i}};pO.exports=zG});var mO=F((_se,gO)=>{var jT=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let r=this.map.keys().next().value;this.delete(r)}this.map.set(e,n)}return this}};gO.exports=jT});var Lo=F((Nse,CO)=>{var yO=bl(),GG=(t,e,n)=>new yO(t,n).compare(new yO(e,n));CO.exports=GG});var SO=F((Lse,vO)=>{var JG=Lo(),XG=(t,e,n)=>JG(t,e,n)===0;vO.exports=XG});var DO=F((Ose,bO)=>{var YG=Lo(),QG=(t,e,n)=>YG(t,e,n)!==0;bO.exports=QG});var wO=F((Mse,TO)=>{var ZG=Lo(),e6=(t,e,n)=>ZG(t,e,n)>0;TO.exports=e6});var EO=F((qse,xO)=>{var t6=Lo(),n6=(t,e,n)=>t6(t,e,n)>=0;xO.exports=n6});var FO=F((Use,kO)=>{var i6=Lo(),r6=(t,e,n)=>i6(t,e,n)<0;kO.exports=r6});var RO=F((jse,PO)=>{var s6=Lo(),o6=(t,e,n)=>s6(t,e,n)<=0;PO.exports=o6});var IO=F((Bse,AO)=>{var a6=SO(),c6=DO(),u6=wO(),l6=EO(),d6=FO(),f6=RO(),p6=(t,e,n,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return a6(t,n,i);case"!=":return c6(t,n,i);case">":return u6(t,n,i);case">=":return l6(t,n,i);case"<":return d6(t,n,i);case"<=":return f6(t,n,i);default:throw new TypeError(`Invalid operator: ${e}`)}};AO.exports=p6});var UO=F((Wse,qO)=>{var Dl=Symbol("SemVer ANY"),KT=class t{static get ANY(){return Dl}constructor(e,n){if(n=_O(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),WT("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Dl?this.value="":this.value=this.operator+this.semver.version,WT("comp",this)}parse(e){let n=this.options.loose?NO[LO.COMPARATORLOOSE]:NO[LO.COMPARATOR],i=e.match(n);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new OO(i[2],this.options.loose):this.semver=Dl}toString(){return this.value}test(e){if(WT("Comparator.test",e,this.options.loose),this.semver===Dl||e===Dl)return!0;if(typeof e=="string")try{e=new OO(e,this.options)}catch{return!1}return BT(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new MO(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new MO(this.value,n).test(e.semver):(n=_O(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||BT(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||BT(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};qO.exports=KT;var _O=Rh(),{safeRe:NO,t:LO}=Ph(),BT=IO(),WT=Sl(),OO=bl(),MO=$T()});var $T=F((Kse,KO)=>{var h6=/\s+/g,HT=class t{constructor(e,n){if(n=m6(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof VT)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(h6," "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(r=>!BO(r[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let r of this.set)if(r.length===1&&T6(r[0])){this.set=[r];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let i=0;i<n.length;i++)i>0&&(this.formatted+=" "),this.formatted+=n[i].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let i=((this.options.includePrerelease&&b6)|(this.options.loose&&D6))+":"+e,r=jO.get(i);if(r)return r;let s=this.options.loose,o=s?ui[Hn.HYPHENRANGELOOSE]:ui[Hn.HYPHENRANGE];e=e.replace(o,_6(this.options.includePrerelease)),Dt("hyphen replace",e),e=e.replace(ui[Hn.COMPARATORTRIM],C6),Dt("comparator trim",e),e=e.replace(ui[Hn.TILDETRIM],v6),Dt("tilde trim",e),e=e.replace(ui[Hn.CARETTRIM],S6),Dt("caret trim",e);let a=e.split(" ").map(g=>w6(g,this.options)).join(" ").split(/\s+/).map(g=>I6(g,this.options));s&&(a=a.filter(g=>(Dt("loose invalid filter",g,this.options),!!g.match(ui[Hn.COMPARATORLOOSE])))),Dt("range list",a);let c=new Map,u=a.map(g=>new VT(g,this.options));for(let g of u){if(BO(g))return[g];c.set(g.value,g)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return jO.set(i,f),f}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(i=>WO(i,n)&&e.set.some(r=>WO(r,n)&&i.every(s=>r.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new y6(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(N6(this.set[n],e,this.options))return!0;return!1}};KO.exports=HT;var g6=mO(),jO=new g6,m6=Rh(),VT=UO(),Dt=Sl(),y6=bl(),{safeRe:ui,t:Hn,comparatorTrimReplace:C6,tildeTrimReplace:v6,caretTrimReplace:S6}=Ph(),{FLAG_INCLUDE_PRERELEASE:b6,FLAG_LOOSE:D6}=Fh(),BO=t=>t.value==="<0.0.0-0",T6=t=>t.value==="",WO=(t,e)=>{let n=!0,i=t.slice(),r=i.pop();for(;n&&i.length;)n=i.every(s=>r.intersects(s,e)),r=i.pop();return n},w6=(t,e)=>(Dt("comp",t,e),t=k6(t,e),Dt("caret",t),t=x6(t,e),Dt("tildes",t),t=P6(t,e),Dt("xrange",t),t=A6(t,e),Dt("stars",t),t),Vn=t=>!t||t.toLowerCase()==="x"||t==="*",x6=(t,e)=>t.trim().split(/\s+/).map(n=>E6(n,e)).join(" "),E6=(t,e)=>{let n=e.loose?ui[Hn.TILDELOOSE]:ui[Hn.TILDE];return t.replace(n,(i,r,s,o,a)=>{Dt("tilde",t,i,r,s,o,a);let c;return Vn(r)?c="":Vn(s)?c=`>=${r}.0.0 <${+r+1}.0.0-0`:Vn(o)?c=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:a?(Dt("replaceTilde pr",a),c=`>=${r}.${s}.${o}-${a} <${r}.${+s+1}.0-0`):c=`>=${r}.${s}.${o} <${r}.${+s+1}.0-0`,Dt("tilde return",c),c})},k6=(t,e)=>t.trim().split(/\s+/).map(n=>F6(n,e)).join(" "),F6=(t,e)=>{Dt("caret",t,e);let n=e.loose?ui[Hn.CARETLOOSE]:ui[Hn.CARET],i=e.includePrerelease?"-0":"";return t.replace(n,(r,s,o,a,c)=>{Dt("caret",t,r,s,o,a,c);let u;return Vn(s)?u="":Vn(o)?u=`>=${s}.0.0${i} <${+s+1}.0.0-0`:Vn(a)?s==="0"?u=`>=${s}.${o}.0${i} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${i} <${+s+1}.0.0-0`:c?(Dt("replaceCaret pr",c),s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(Dt("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${a}${i} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${i} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Dt("caret return",u),u})},P6=(t,e)=>(Dt("replaceXRanges",t,e),t.split(/\s+/).map(n=>R6(n,e)).join(" ")),R6=(t,e)=>{t=t.trim();let n=e.loose?ui[Hn.XRANGELOOSE]:ui[Hn.XRANGE];return t.replace(n,(i,r,s,o,a,c)=>{Dt("xRange",t,i,r,s,o,a,c);let u=Vn(s),f=u||Vn(o),g=f||Vn(a),p=g;return r==="="&&p&&(r=""),c=e.includePrerelease?"-0":"",u?r===">"||r==="<"?i="<0.0.0-0":i="*":r&&p?(f&&(o=0),a=0,r===">"?(r=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):r==="<="&&(r="<",f?s=+s+1:o=+o+1),r==="<"&&(c="-0"),i=`${r+s}.${o}.${a}${c}`):f?i=`>=${s}.0.0${c} <${+s+1}.0.0-0`:g&&(i=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),Dt("xRange return",i),i})},A6=(t,e)=>(Dt("replaceStars",t,e),t.trim().replace(ui[Hn.STAR],"")),I6=(t,e)=>(Dt("replaceGTE0",t,e),t.trim().replace(ui[e.includePrerelease?Hn.GTE0PRE:Hn.GTE0],"")),_6=t=>(e,n,i,r,s,o,a,c,u,f,g,p)=>(Vn(i)?n="":Vn(r)?n=`>=${i}.0.0${t?"-0":""}`:Vn(s)?n=`>=${i}.${r}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Vn(u)?c="":Vn(f)?c=`<${+u+1}.0.0-0`:Vn(g)?c=`<${u}.${+f+1}.0-0`:p?c=`<=${u}.${f}.${g}-${p}`:t?c=`<${u}.${f}.${+g+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),N6=(t,e,n)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let i=0;i<t.length;i++)if(Dt(t[i].semver),t[i].semver!==VT.ANY&&t[i].semver.prerelease.length>0){let r=t[i].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}});var HO=F(($se,$O)=>{var L6=$T(),O6=(t,e,n)=>{try{e=new L6(e,n)}catch{return!1}return e.test(t)};$O.exports=O6});var zO=F(Ti=>{"use strict";var M6=Ti&&Ti.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),zT=Ti&&Ti.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&M6(e,t,n)};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.DiagnosticPullMode=Ti.vsdiag=void 0;zT(_e(),Ti);zT(Qe(),Ti);var VO=eD();Object.defineProperty(Ti,"vsdiag",{enumerable:!0,get:function(){return VO.vsdiag}});Object.defineProperty(Ti,"DiagnosticPullMode",{enumerable:!0,get:function(){return VO.DiagnosticPullMode}});zT(LT(),Ti)});var YO=F(li=>{"use strict";var q6=li&&li.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),XO=li&&li.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&q6(e,t,n)};Object.defineProperty(li,"__esModule",{value:!0});li.SettingMonitor=li.LanguageClient=li.TransportKind=void 0;var Xr=require("child_process"),GT=require("fs"),JT=require("path"),Ls=require("vscode"),Rt=Oi(),GO=LT(),U6=QL(),qt=OT(),j6=hO(),B6=HO();XO(OT(),li);XO(zO(),li);var JO="^1.82.0",Ut;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Ut||(li.TransportKind=Ut={}));var Ns;(function(t){function e(n){let i=n;return i&&i.kind===Ut.socket&&Rt.number(i.port)}t.isSocket=e})(Ns||(Ns={}));var XT;(function(t){function e(n){return Rt.string(n.command)}t.is=e})(XT||(XT={}));var YT;(function(t){function e(n){return Rt.string(n.module)}t.is=e})(YT||(YT={}));var QT;(function(t){function e(n){let i=n;return i&&i.writer!==void 0&&i.reader!==void 0}t.is=e})(QT||(QT={}));var ZT;(function(t){function e(n){let i=n;return i&&i.process!==void 0&&typeof i.detached=="boolean"}t.is=e})(ZT||(ZT={}));var ew=class extends GO.BaseLanguageClient{constructor(e,n,i,r,s){let o,a,c,u,f;Rt.string(n)?(o=e,a=n,c=i,u=r,f=!!s):(o=e.toLowerCase(),a=e,c=n,u=i,f=r),f===void 0&&(f=!1),super(o,a,u),this._serverOptions=c,this._forceDebug=f,this._isInDebugMode=f;try{this.checkVersion()}catch(g){throw Rt.string(g.message)&&this.outputChannel.appendLine(g.message),g}}checkVersion(){let e=j6(Ls.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Ls.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!B6(e,JO))throw new Error(`The language client requires VS Code version ${JO} but received version ${Ls.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,U6.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(f,g){if(!f&&!g)return;let p=Object.create(null);return Object.keys(process.env).forEach(l=>p[l]=process.env[l]),g&&(p.ELECTRON_RUN_AS_NODE="1",p.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(l=>p[l]=f[l]),p}let i=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let f=process.execArgv;return f?f.some(g=>i.some(p=>g.startsWith(p))||r.some(p=>g===p)):!1}function o(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(Rt.func(a))return a().then(f=>{if(GO.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(QT.is(f))return this._isDetached=!!f.detached,{reader:new qt.StreamMessageReader(f.reader),writer:new qt.StreamMessageWriter(f.writer)};{let g;return ZT.is(f)?(g=f.process,this._isDetached=f.detached):(g=f,this._isDetached=!1),g.stderr.on("data",p=>this.outputChannel.append(Rt.string(p)?p:p.toString(e))),{reader:new qt.StreamMessageReader(g.stdout),writer:new qt.StreamMessageWriter(g.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||s()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(f=>{if(YT.is(c)&&c.module){let g=c,p=g.transport||Ut.stdio;if(g.runtime){let l=[],d=g.options??Object.create(null);d.execArgv&&d.execArgv.forEach(T=>l.push(T)),l.push(g.module),g.args&&g.args.forEach(T=>l.push(T));let h=Object.create(null);h.cwd=f,h.env=n(d.env,!1);let m=this._getRuntimePath(g.runtime,f),C;if(p===Ut.ipc?(h.stdio=[null,null,null,"ipc"],l.push("--node-ipc")):p===Ut.stdio?l.push("--stdio"):p===Ut.pipe?(C=(0,qt.generateRandomPipeName)(),l.push(`--pipe=${C}`)):Ns.isSocket(p)&&l.push(`--socket=${p.port}`),l.push(`--clientProcessId=${process.pid.toString()}`),p===Ut.ipc||p===Ut.stdio){let T=Xr.spawn(m,l,h);return!T||!T.pid?nc(T,`Launching server using runtime ${m} failed.`):(this._serverProcess=T,T.stderr.on("data",w=>this.outputChannel.append(Rt.string(w)?w:w.toString(e))),p===Ut.ipc?(T.stdout.on("data",w=>this.outputChannel.append(Rt.string(w)?w:w.toString(e))),Promise.resolve({reader:new qt.IPCMessageReader(T),writer:new qt.IPCMessageWriter(T)})):Promise.resolve({reader:new qt.StreamMessageReader(T.stdout),writer:new qt.StreamMessageWriter(T.stdin)}))}else{if(p===Ut.pipe)return(0,qt.createClientPipeTransport)(C).then(T=>{let w=Xr.spawn(m,l,h);return!w||!w.pid?nc(w,`Launching server using runtime ${m} failed.`):(this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),T.onConnected().then(k=>({reader:k[0],writer:k[1]})))});if(Ns.isSocket(p))return(0,qt.createClientSocketTransport)(p.port).then(T=>{let w=Xr.spawn(m,l,h);return!w||!w.pid?nc(w,`Launching server using runtime ${m} failed.`):(this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),T.onConnected().then(k=>({reader:k[0],writer:k[1]})))})}}else{let l;return new Promise((d,h)=>{let m=(g.args&&g.args.slice())??[];p===Ut.ipc?m.push("--node-ipc"):p===Ut.stdio?m.push("--stdio"):p===Ut.pipe?(l=(0,qt.generateRandomPipeName)(),m.push(`--pipe=${l}`)):Ns.isSocket(p)&&m.push(`--socket=${p.port}`),m.push(`--clientProcessId=${process.pid.toString()}`);let C=g.options??Object.create(null);if(C.env=n(C.env,!0),C.execArgv=C.execArgv||[],C.cwd=f,C.silent=!0,p===Ut.ipc||p===Ut.stdio){let T=Xr.fork(g.module,m||[],C);o(T),this._serverProcess=T,T.stderr.on("data",w=>this.outputChannel.append(Rt.string(w)?w:w.toString(e))),p===Ut.ipc?(T.stdout.on("data",w=>this.outputChannel.append(Rt.string(w)?w:w.toString(e))),d({reader:new qt.IPCMessageReader(this._serverProcess),writer:new qt.IPCMessageWriter(this._serverProcess)})):d({reader:new qt.StreamMessageReader(T.stdout),writer:new qt.StreamMessageWriter(T.stdin)})}else p===Ut.pipe?(0,qt.createClientPipeTransport)(l).then(T=>{let w=Xr.fork(g.module,m||[],C);o(w),this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),T.onConnected().then(k=>{d({reader:k[0],writer:k[1]})},h)},h):Ns.isSocket(p)&&(0,qt.createClientSocketTransport)(p.port).then(T=>{let w=Xr.fork(g.module,m||[],C);o(w),this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),T.onConnected().then(k=>{d({reader:k[0],writer:k[1]})},h)},h)})}}else if(XT.is(c)&&c.command){let g=c,p=c.args!==void 0?c.args.slice(0):[],l,d=c.transport;if(d===Ut.stdio)p.push("--stdio");else if(d===Ut.pipe)l=(0,qt.generateRandomPipeName)(),p.push(`--pipe=${l}`);else if(Ns.isSocket(d))p.push(`--socket=${d.port}`);else if(d===Ut.ipc)throw new Error("Transport kind ipc is not support for command executable");let h=Object.assign({},g.options);if(h.cwd=h.cwd||f,d===void 0||d===Ut.stdio){let m=Xr.spawn(g.command,p,h);return!m||!m.pid?nc(m,`Launching server using command ${g.command} failed.`):(m.stderr.on("data",C=>this.outputChannel.append(Rt.string(C)?C:C.toString(e))),this._serverProcess=m,this._isDetached=!!h.detached,Promise.resolve({reader:new qt.StreamMessageReader(m.stdout),writer:new qt.StreamMessageWriter(m.stdin)}))}else{if(d===Ut.pipe)return(0,qt.createClientPipeTransport)(l).then(m=>{let C=Xr.spawn(g.command,p,h);return!C||!C.pid?nc(C,`Launching server using command ${g.command} failed.`):(this._serverProcess=C,this._isDetached=!!h.detached,C.stderr.on("data",T=>this.outputChannel.append(Rt.string(T)?T:T.toString(e))),C.stdout.on("data",T=>this.outputChannel.append(Rt.string(T)?T:T.toString(e))),m.onConnected().then(T=>({reader:T[0],writer:T[1]})))});if(Ns.isSocket(d))return(0,qt.createClientSocketTransport)(d.port).then(m=>{let C=Xr.spawn(g.command,p,h);return!C||!C.pid?nc(C,`Launching server using command ${g.command} failed.`):(this._serverProcess=C,this._isDetached=!!h.detached,C.stderr.on("data",T=>this.outputChannel.append(Rt.string(T)?T:T.toString(e))),C.stdout.on("data",T=>this.outputChannel.append(Rt.string(T)?T:T.toString(e))),m.onConnected().then(T=>({reader:T[0],writer:T[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,g)=>{f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),g!==null&&this.error(`Server process exited with signal ${g}.`,void 0,!1)})})}_getRuntimePath(e,n){if(JT.isAbsolute(e))return e;let i=this._mainGetRootPath();if(i!==void 0){let r=JT.join(i,e);if(GT.existsSync(r))return r}if(n!==void 0){let r=JT.join(n,e);if(GT.existsSync(r))return r}return e}_mainGetRootPath(){let e=Ls.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(i=>{GT.lstat(n,(r,s)=>{i(!r&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};li.LanguageClient=ew;var tw=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return Ls.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Ls.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,i=e>=0?this._setting.substr(e+1):void 0,r=i?Ls.workspace.getConfiguration(n).get(i,!1):Ls.workspace.getConfiguration(n);r&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!r&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"))}};li.SettingMonitor=tw;function nc(t,e){return t===null?Promise.reject(e):new Promise((n,i)=>{t.on("error",r=>{i(`${e} ${r}`)}),setImmediate(()=>i(e))})}});var ic=F((zse,QO)=>{"use strict";QO.exports=YO()});var yM=F(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.codes=void 0;Uh.codes=[["af","Afrikaans"],["af-NA","Afrikaans","Namibia"],["af-ZA","Afrikaans","South Africa"],["ak","Akan"],["ak-GH","Akan","Ghana"],["am","Amharic"],["am-ET","Amharic","Ethiopia"],["ar","Arabic"],["ar-1","Arabic"],["ar-AE","Arabic","United Arab Emirates"],["ar-BH","Arabic","Bahrain"],["ar-DJ","Arabic","Djibouti"],["ar-DZ","Arabic","Algeria"],["ar-EG","Arabic","Egypt"],["ar-EH","Arabic"],["ar-ER","Arabic","Eritrea"],["ar-IL","Arabic","Israel"],["ar-IQ","Arabic","Iraq"],["ar-JO","Arabic","Jordan"],["ar-KM","Arabic","Comoros"],["ar-KW","Arabic","Kuwait"],["ar-LB","Arabic","Lebanon"],["ar-LY","Arabic","Libya"],["ar-MA","Arabic","Morocco"],["ar-MR","Arabic","Mauritania"],["ar-OM","Arabic","Oman"],["ar-PS","Arabic"],["ar-QA","Arabic","Qatar"],["ar-SA","Arabic","Saudi Arabia"],["ar-SD","Arabic","Sudan"],["ar-SO","Arabic","Somalia"],["ar-SS","Arabic"],["ar-SY","Arabic","Syria"],["ar-TD","Arabic","Chad"],["ar-TN","Arabic","Tunisia"],["ar-YE","Arabic","Yemen"],["as","Assamese"],["as-IN","Assamese","India"],["az","Azerbaijani"],["az-AZ","Azerbaijani","Azerbaijan"],["be","Belarusian"],["be-BY","Belarusian","Belarus"],["bg","Bulgarian"],["bg-BG","Bulgarian","Bulgaria"],["bm","Bambara"],["bm-ML","Bambara","Mali"],["bn","Bengali"],["bn-BD","Bengali","Bangladesh"],["bn-IN","Bengali","India"],["bo","Tibetan"],["bo-CN","Tibetan","China"],["bo-IN","Tibetan","India"],["br","Breton"],["br-FR","Breton","France"],["bs","Bosnian"],["bs-BA","Bosnian","Bosnia and Herzegovina"],["ca","Catalan"],["ca-AD","Catalan","Andorra"],["ca-ES","Catalan","Spain"],["ca-FR","Catalan","France"],["ca-IT","Catalan","Italy"],["ce","Chechen"],["ce-RU","Chechen","Russia"],["cs","Czech"],["cs-CZ","Czech","Czech Republic"],["cu","Old Slavonic"],["cu-RU","Old Slavonic","Russia"],["cy","Welsh"],["cy-GB","Welsh","United Kingdom"],["da","Danish"],["da-DK","Danish","Denmark"],["da-GL","Danish","Greenland"],["de","German"],["de-AT","German","Austria"],["de-BE","German","Belgium"],["de-CH","German","Switzerland"],["de-DE","German","Germany"],["de-IT","German","Italy"],["de-LI","German","Liechtenstein"],["de-LU","German","Luxembourg"],["dz","Dzongkha"],["dz-BT","Dzongkha","Bhutan"],["ee","Ewe"],["ee-GH","Ewe","Ghana"],["ee-TG","Ewe","Togo"],["el","Greek","Modern (1453-)"],["el-CY","Greek","Cyprus"],["el-GR","Greek","Greece"],["en","English"],["en-AG","English","Antigua and Barbuda"],["en-AI","English","Anguilla"],["en-AS","English","American Samoa"],["en-AT","English","Austria"],["en-AU","English","Australia"],["en-BB","English","Barbados"],["en-BE","English","Belgium"],["en-BI","English","Burundi"],["en-BM","English","Bermuda"],["en-BS","English","Bahamas"],["en-BW","English","Botswana"],["en-BZ","English","Belize"],["en-CA","English","Canada"],["en-CC","English","Cocos (Keeling) Islands"],["en-CH","English","Switzerland"],["en-CK","English","Cook Islands"],["en-CM","English","Cameroon"],["en-CX","English","Christmas Island"],["en-CY","English","Cyprus"],["en-DE","English","Germany"],["en-DG","English"],["en-DK","English","Denmark"],["en-DM","English","Dominica"],["en-ER","English","Eritrea"],["en-FI","English","Finland"],["en-FJ","English","Fiji"],["en-FK","English","Falkland Islands (Islas Malvinas)"],["en-FM","English","Micronesia"],["en-GB","English","United Kingdom"],["en-GD","English","Grenada"],["en-GG","English","Guernsey"],["en-GH","English","Ghana"],["en-GI","English","Gibraltar"],["en-GM","English","Gambia"],["en-GU","English","Guam"],["en-GY","English","Guyana"],["en-HK","English","Hong Kong"],["en-IE","English","Ireland"],["en-IL","English","Israel"],["en-IM","English","Isle of Man"],["en-IN","English","India"],["en-IO","English","British Indian Ocean Territory"],["en-JE","English","Jersey"],["en-JM","English","Jamaica"],["en-KE","English","Kenya"],["en-KI","English","Kiribati"],["en-KN","English","Saint Kitts and Nevis"],["en-KY","English","Cayman Islands"],["en-LC","English","Saint Lucia"],["en-LR","English","Liberia"],["en-LS","English","Lesotho"],["en-MG","English","Madagascar"],["en-MH","English","Marshall Islands"],["en-MO","English","Macau"],["en-MP","English","Northern Mariana Islands"],["en-MS","English","Montserrat"],["en-MT","English","Malta"],["en-MU","English","Mauritius"],["en-MW","English","Malawi"],["en-MY","English","Malaysia"],["en-NA","English","Namibia"],["en-NF","English","Norfolk Island"],["en-NG","English","Nigeria"],["en-NL","English","Netherlands"],["en-NR","English","Nauru"],["en-NU","English","Niue"],["en-NZ","English","New Zealand"],["en-PG","English","Papua New Guinea"],["en-PH","English","Philippines"],["en-PK","English","Pakistan"],["en-PN","English","Pitcairn Islands"],["en-PR","English","Puerto Rico"],["en-PW","English","Palau"],["en-RW","English","Rwanda"],["en-SB","English","Solomon Islands"],["en-SC","English","Seychelles"],["en-SD","English","Sudan"],["en-SE","English","Sweden"],["en-SG","English","Singapore"],["en-SH","English","Saint Helena"],["en-SI","English","Slovenia"],["en-SL","English","Sierra Leone"],["en-SS","English"],["en-SX","English"],["en-SZ","English","Swaziland"],["en-TC","English","Turks and Caicos Islands"],["en-TK","English","Tokelau"],["en-TO","English","Tonga"],["en-TT","English","Trinidad and Tobago"],["en-TV","English","Tuvalu"],["en-TZ","English","Tanzania"],["en-UG","English","Uganda"],["en-UM","English","Baker Island"],["en-US","English","United States"],["en-VC","English","Saint Vincent and the Grenadines"],["en-VG","English","British Virgin Islands"],["en-VI","English","U.S. Virgin Islands"],["en-VU","English","Vanuatu"],["en-WS","English","Samoa"],["en-ZA","English","South Africa"],["en-ZM","English","Zambia"],["en-ZW","English","Zimbabwe"],["eo","Esperanto"],["es","Spanish"],["es-AR","Spanish","Argentina"],["es-BO","Spanish","Bolivia"],["es-BR","Spanish","Brazil"],["es-BZ","Spanish","Belize"],["es-CL","Spanish","Chile"],["es-CO","Spanish","Colombia"],["es-CR","Spanish","Costa Rica"],["es-CU","Spanish","Cuba"],["es-DO","Spanish","Dominican Republic"],["es-EA","Spanish"],["es-EC","Spanish","Ecuador"],["es-ES","Spanish","Spain"],["es-GQ","Spanish","Equatorial Guinea"],["es-GT","Spanish","Guatemala"],["es-HN","Spanish","Honduras"],["es-IC","Spanish"],["es-MX","Spanish","Mexico"],["es-NI","Spanish","Nicaragua"],["es-PA","Spanish","Panama"],["es-PE","Spanish","Peru"],["es-PH","Spanish","Philippines"],["es-PR","Spanish","Puerto Rico"],["es-PY","Spanish","Paraguay"],["es-SV","Spanish","El Salvador"],["es-US","Spanish","United States"],["es-UY","Spanish","Uruguay"],["es-VE","Spanish","Venezuela"],["et","Estonian"],["et-EE","Estonian","Estonia"],["eu","Basque"],["eu-ES","Basque","Spain"],["fa","Persian"],["fa-AF","Persian","Afghanistan"],["fa-IR","Persian","Iran"],["ff","Fulah"],["ff-CM","Fulah","Cameroon"],["ff-GN","Fulah","Guinea"],["ff-MR","Fulah","Mauritania"],["ff-SN","Fulah","Senegal"],["fi","Finnish"],["fi-FI","Finnish","Finland"],["fo","Faroese"],["fo-DK","Faroese","Denmark"],["fo-FO","Faroese","Faroe Islands"],["fr","French"],["fr-BE","French","Belgium"],["fr-BF","French","Burkina Faso"],["fr-BI","French","Burundi"],["fr-BJ","French","Benin"],["fr-BL","French"],["fr-CA","French","Canada"],["fr-CD","French","Congo"],["fr-CF","French","Central African Republic"],["fr-CG","French","Congo"],["fr-CH","French","Switzerland"],["fr-CI","French, Cote d'Ivoire (Ivory Coast)"],["fr-CM","French","Cameroon"],["fr-DJ","French","Djibouti"],["fr-DZ","French","Algeria"],["fr-FR","French","France"],["fr-GA","French","Gabon"],["fr-GF","French","French Guiana"],["fr-GN","French","Guinea"],["fr-GP","French","Saint Barthelemy"],["fr-GQ","French","Equatorial Guinea"],["fr-HT","French","Haiti"],["fr-KM","French","Comoros"],["fr-LU","French","Luxembourg"],["fr-MA","French","Morocco"],["fr-MC","French","Monaco"],["fr-MF","French"],["fr-MG","French","Madagascar"],["fr-ML","French","Mali"],["fr-MQ","French","Martinique"],["fr-MR","French","Mauritania"],["fr-MU","French","Mauritius"],["fr-NC","French","New Caledonia"],["fr-NE","French","Niger"],["fr-PF","French","French Polynesia"],["fr-PM","French","Saint Pierre and Miquelon"],["fr-RE","French","Reunion"],["fr-RW","French","Rwanda"],["fr-SC","French","Seychelles"],["fr-SN","French","Senegal"],["fr-SY","French","Syria"],["fr-TD","French","Chad"],["fr-TG","French","Togo"],["fr-TN","French","Tunisia"],["fr-VU","French","Vanuatu"],["fr-WF","French","Wallis and Futuna"],["fr-YT","French","Mayotte"],["fy","Western Frisian"],["fy-NL","Western Frisian","Netherlands"],["ga","Irish"],["ga-IE","Irish","Ireland"],["gd","Gaelic"],["gd-GB","Gaelic","United Kingdom"],["gl","Galician"],["gl-ES","Galician","Spain"],["gu","Gujarati"],["gu-IN","Gujarati","India"],["gv","Manx"],["gv-IM","Manx","Isle of Man"],["ha","Hausa"],["ha-GH","Hausa","Ghana"],["ha-NE","Hausa","Niger"],["ha-NG","Hausa","Nigeria"],["he","Hebrew"],["he-IL","Hebrew","Israel"],["hi","Hindi"],["hi-IN","Hindi","India"],["hr","Croatian"],["hr-BA","Croatian","Bosnia and Herzegovina"],["hr-HR","Croatian","Croatia"],["hu","Hungarian"],["hu-HU","Hungarian","Hungary"],["hy","Armenian"],["hy-AM","Armenian","Armenia"],["id","Indonesian"],["id-ID","Indonesian","Indonesia"],["ig","Igbo"],["ig-NG","Igbo","Nigeria"],["ii","Sichuan Yi"],["ii-CN","Sichuan Yi","China"],["is","Icelandic"],["is-IS","Icelandic","Iceland"],["it","Italian"],["it-CH","Italian","Switzerland"],["it-IT","Italian","Italy"],["it-SM","Italian","San Marino"],["it-VA","Italian","Vatican City"],["ja","Japanese"],["ja-JP","Japanese","Japan"],["ka","Georgian"],["ka-GE","Georgian","Georgia"],["ki","Kikuyu"],["ki-KE","Kikuyu","Kenya"],["kk","Kazakh"],["kk-KZ","Kazakh","Kazakhstan"],["kl","Kalaallisut"],["kl-GL","Kalaallisut","Greenland"],["km","Central Khmer"],["km-KH","Central Khmer","Cambodia"],["kn","Kannada"],["kn-IN","Kannada","India"],["ko","Korean"],["ko-KP","Korean","Korea"],["ko-KR","Korean","Korea"],["ks","Kashmiri"],["ks-IN","Kashmiri","India"],["kw","Cornish"],["kw-GB","Cornish","United Kingdom"],["ky","Kirghiz"],["ky-KG","Kirghiz","Kyrgyzstan"],["lb","Luxembourgish"],["lb-LU","Luxembourgish","Luxembourg"],["lg","Ganda"],["lg-UG","Ganda","Uganda"],["li","Limburgan"],["ln","Lingala"],["ln-AO","Lingala","Angola"],["ln-CD","Lingala","Congo"],["ln-CF","Lingala","Central African Republic"],["ln-CG","Lingala","Congo"],["lo","Lao"],["lo-LA","Lao","Laos"],["lorem","Lorem-Ipsum"],["lorem-ipsum","Lorem-Ipsum"],["lt","Lithuanian"],["lt-LT","Lithuanian","Lithuania"],["lu","Luba-Katanga"],["lu-CD","Luba-Katanga","Congo"],["lv","Latvian"],["lv-LV","Latvian","Latvia"],["mg","Malagasy"],["mg-MG","Malagasy","Madagascar"],["mk","Macedonian"],["mk-MK","Macedonian","Macedonia"],["ml","Malayalam"],["ml-IN","Malayalam","India"],["mn","Mongolian"],["mn-MN","Mongolian","Mongolia"],["mr","Marathi"],["mr-IN","Marathi","India"],["ms","Malay"],["ms-BN","Malay","Brunei"],["ms-MY","Malay","Malaysia"],["ms-SG","Malay","Singapore"],["mt","Maltese"],["mt-MT","Maltese","Malta"],["my","Burmese"],["my-MM","Burmese","Myanmar (Burma)"],["nb","Bokm\xE5l Norwegian"],["nb-NO","Bokm\xE5l Norwegian","Norway"],["nb-SJ","Bokm\xE5l Norwegian","Svalbard"],["nd","Ndebele, North"],["nd-ZW","Ndebele, North","Zimbabwe"],["ne","Nepali"],["ne-IN","Nepali","India"],["ne-NP","Nepali","Nepal"],["nl","Dutch"],["nl-AW","Dutch","Aruba"],["nl-BE","Dutch","Belgium"],["nl-BQ","Dutch"],["nl-CW","Dutch"],["nl-NL","Dutch","Netherlands"],["nl-SR","Dutch","Suriname"],["nl-SX","Dutch"],["nn","Norwegian Nynorsk"],["nn-NO","Norwegian Nynorsk","Norway"],["om","Oromo"],["om-ET","Oromo","Ethiopia"],["om-KE","Oromo","Kenya"],["or","Oriya"],["or-IN","Oriya","India"],["os","Ossetian"],["os-GE","Ossetian","Georgia"],["os-RU","Ossetian","Russia"],["pa","Panjabi"],["pa-IN","Panjabi","India"],["pa-PK","Panjabi","Pakistan"],["pl","Polish"],["pl-PL","Polish","Poland"],["ps","Pushto"],["ps-AF","Pushto","Afghanistan"],["pt","Portuguese"],["pt-AO","Portuguese","Angola"],["pt-BR","Portuguese","Brazil"],["pt-CH","Portuguese","Switzerland"],["pt-CV","Portuguese","Cape Verde"],["pt-GQ","Portuguese","Equatorial Guinea"],["pt-GW","Portuguese","Guinea-Bissau"],["pt-LU","Portuguese","Luxembourg"],["pt-MO","Portuguese","Macau"],["pt-MZ","Portuguese","Mozambique"],["pt-PT","Portuguese","Portugal"],["pt-ST","Portuguese","Sao Tome and Principe"],["pt-TL","Portuguese","Timor-Leste (East Timor)"],["qu","Quechua"],["qu-BO","Quechua","Bolivia"],["qu-EC","Quechua","Ecuador"],["qu-PE","Quechua","Peru"],["rm","Romansh"],["rm-CH","Romansh","Switzerland"],["rn","Rundi"],["rn-BI","Rundi","Burundi"],["ro","Romanian"],["ro-MD","Romanian","Moldova"],["ro-RO","Romanian","Romania"],["ru","Russian"],["ru-BY","Russian","Belarus"],["ru-KG","Russian","Kyrgyzstan"],["ru-KZ","Russian","Kazakhstan"],["ru-MD","Russian","Moldova"],["ru-RU","Russian","Russia"],["ru-UA","Russian","Ukraine"],["rw","Kinyarwanda"],["rw-RW","Kinyarwanda","Rwanda"],["se","Northern Sami"],["se-FI","Northern Sami","Finland"],["se-NO","Northern Sami","Norway"],["se-SE","Northern Sami","Sweden"],["sg","Sango"],["sg-CF","Sango","Central African Republic"],["si","Sinhala"],["si-LK","Sinhala","Sri Lanka"],["sk","Slovak"],["sk-SK","Slovak","Slovakia"],["sl","Slovenian"],["sl-SI","Slovenian","Slovenia"],["sn","Shona"],["sn-ZW","Shona","Zimbabwe"],["so","Somali"],["so-DJ","Somali","Djibouti"],["so-ET","Somali","Ethiopia"],["so-KE","Somali","Kenya"],["so-SO","Somali","Somalia"],["sq","Albanian"],["sq-AL","Albanian","Albania"],["sq-MK","Albanian","Macedonia"],["sq-XK","Albanian"],["sr","Serbian"],["sr-BA","Serbian","Bosnia and Herzegovina"],["sr-ME","Serbian","Montenegro"],["sr-RS","Serbian","Serbia"],["sr-XK","Serbian"],["sv","Swedish"],["sv-AX","Swedish","Aland"],["sv-FI","Swedish","Finland"],["sv-SE","Swedish","Sweden"],["sw","Swahili"],["sw-CD","Swahili","Congo"],["sw-KE","Swahili","Kenya"],["sw-TZ","Swahili","Tanzania"],["sw-UG","Swahili","Uganda"],["ta","Tamil"],["ta-IN","Tamil","India"],["ta-LK","Tamil","Sri Lanka"],["ta-MY","Tamil","Malaysia"],["ta-SG","Tamil","Singapore"],["te","Telugu"],["te-IN","Telugu","India"],["th","Thai"],["th-TH","Thai","Thailand"],["ti","Tigrinya"],["ti-ER","Tigrinya","Eritrea"],["ti-ET","Tigrinya","Ethiopia"],["tk","Turkmen"],["tk-TM","Turkmen","Turkmenistan"],["to","Tonga (Tonga Islands)"],["to-TO","Tonga (Tonga Islands)","Tonga"],["tr","Turkish"],["tr-CY","Turkish","Cyprus"],["tr-TR","Turkish","Turkey"],["ug","Uighur"],["ug-CN","Uighur","China"],["uk","Ukrainian"],["uk-UA","Ukrainian","Ukraine"],["ur","Urdu"],["ur-IN","Urdu","India"],["ur-PK","Urdu","Pakistan"],["uz","Uzbek"],["uz-AF","Uzbek","Afghanistan"],["uz-UZ","Uzbek","Uzbekistan"],["vi","Vietnamese"],["vi-VN","Vietnamese","Vietnam"],["vo","Volap\xFCk"],["yi","Yiddish"],["yi-1","Yiddish"],["yo","Yoruba"],["yo-BJ","Yoruba","Benin"],["yo-NG","Yoruba","Nigeria"],["zh","Chinese"],["zh-CN","Chinese","China"],["zh-HK","Chinese","Hong Kong"],["zh-MO","Chinese","Macau"],["zh-SG","Chinese","Singapore"],["zh-TW","Chinese","China"],["zu","Zulu"],["zu-ZA","Zulu","South Africa"]]});var CM=F(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.scriptCodes=void 0;var s5=`Code	ISO formal name
Adlm	Adlam
Afak	Afaka
Aghb	Caucasian Albanian
Ahom	Ahom, Tai Ahom
Arab	Arabic
Aran	Arabic (Nastaliq variant)
Armi	Imperial Aramaic
Armn	Armenian
Avst	Avestan
Bali	Balinese
Bamu	Bamum
Bass	Bassa Vah
Batk	Batak
Beng	Bengali (Bangla)
Bhks	Bhaiksuki
Blis	Blissymbols
Bopo	Bopomofo
Brah	Brahmi
Brai	Braille
Bugi	Buginese
Buhd	Buhid
Cakm	Chakma
Cans	Unified Canadian Aboriginal Syllabics
Cari	Carian
Cham	Cham
Cher	Cherokee
Chrs	Chorasmian
Cirt	Cirth
Copt	Coptic
Cpmn	Cypro-Minoan
Cprt	Cypriot syllabary
Cyrl	Cyrillic
Cyrs	Cyrillic (Old Church Slavonic variant)
Deva	Devanagari (Nagari)
Diak	Dives Akuru
Dogr	Dogra
Dsrt	Deseret (Mormon)
Dupl	Duployan shorthand, Duployan stenography
Egyd	Egyptian demotic
Egyh	Egyptian hieratic
Egyp	Egyptian hieroglyphs
Elba	Elbasan
Elym	Elymaic
Ethi	Ethiopic (Ge\u02BBez)
Geok	Khutsuri (Asomtavruli and Nuskhuri)
Geor	Georgian (Mkhedruli and Mtavruli)
Glag	Glagolitic
Gong	Gunjala Gondi
Gonm	Masaram Gondi
Goth	Gothic
Gran	Grantha
Grek	Greek
Gujr	Gujarati
Guru	Gurmukhi
Hanb	Han with Bopomofo (alias for Han + Bopomofo)
Hang	Hangul (Hang\u016Dl, Hangeul)
Hani	Han (Hanzi, Kanji, Hanja)
Hano	Hanunoo (Hanun\xF3o)
Hans	Han (Simplified variant)
Hant	Han (Traditional variant)
Hatr	Hatran
Hebr	Hebrew
Hira	Hiragana
Hluw	Anatolian Hieroglyphs (Luwian Hieroglyphs, Hittite Hieroglyphs)
Hmng	Pahawh Hmong
Hmnp	Nyiakeng Puachue Hmong
Hrkt	Japanese syllabaries (alias for Hiragana + Katakana)
Hung	Old Hungarian (Hungarian Runic)
Inds	Indus (Harappan)
Ital	Old Italic (Etruscan, Oscan, etc.)
Jamo	Jamo (alias for Jamo subset of Hangul)
Java	Javanese
Jpan	Japanese (alias for Han + Hiragana + Katakana)
Jurc	Jurchen
Kali	Kayah Li
Kana	Katakana
Kawi	Kawi
Khar	Kharoshthi
Khmr	Khmer
Khoj	Khojki
Kitl	Khitan large script
Kits	Khitan small script
Knda	Kannada
Kore	Korean (alias for Hangul + Han)
Kpel	Kpelle
Kthi	Kaithi
Lana	Tai Tham (Lanna)
Laoo	Lao
Latf	Latin (Fraktur variant)
Latg	Latin (Gaelic variant)
Latn	Latin
Leke	Leke
Lepc	Lepcha (R\xF3ng)
Limb	Limbu
Lina	Linear A
Linb	Linear B
Lisu	Lisu (Fraser)
Loma	Loma
Lyci	Lycian
Lydi	Lydian
Mahj	Mahajani
Maka	Makasar
Mand	Mandaic, Mandaean
Mani	Manichaean
Marc	Marchen
Maya	Mayan hieroglyphs
Medf	Medefaidrin (Oberi Okaime, Oberi \u0186kaim\u025B)
Mend	Mende Kikakui
Merc	Meroitic Cursive
Mero	Meroitic Hieroglyphs
Mlym	Malayalam
Modi	Modi, Mo\u1E0D\u012B
Mong	Mongolian
Moon	Moon (Moon code, Moon script, Moon type)
Mroo	Mro, Mru
Mtei	Meitei Mayek (Meithei, Meetei)
Mult	Multani
Mymr	Myanmar (Burmese)
Nagm	Nag Mundari
Nand	Nandinagari
Narb	Old North Arabian (Ancient North Arabian)
Nbat	Nabataean
Newa	Newa, Newar, Newari, Nep\u0101la lipi
Nkdb	Naxi Dongba (na\xB2\xB9\u0255i\xB3\xB3 to\xB3\xB3ba\xB2\xB9, Nakhi Tomba)
Nkgb	Nakhi Geba (na\xB2\xB9\u0255i\xB3\xB3 g\u028C\xB2\xB9ba\xB2\xB9, 'Na-'Khi \xB2Gg\u014F-\xB9baw, Nakhi Geba)
Nkoo	N\u2019Ko
Nshu	N\xFCshu
Ogam	Ogham
Olck	Ol Chiki (Ol Cemet\u2019, Ol, Santali)
Orkh	Old Turkic, Orkhon Runic
Orya	Oriya (Odia)
Osge	Osage
Osma	Osmanya
Ougr	Old Uyghur
Palm	Palmyrene
Pauc	Pau Cin Hau
Pcun	Proto-Cuneiform
Pelm	Proto-Elamite
Perm	Old Permic
Phag	Phags-pa
Phli	Inscriptional Pahlavi
Phlp	Psalter Pahlavi
Phlv	Book Pahlavi
Phnx	Phoenician
Piqd	Klingon (KLI pIqaD)
Plrd	Miao (Pollard)
Prti	Inscriptional Parthian
Psin	Proto-Sinaitic
Qaaa-Qabx	Reserved for private use (range)
Ranj	Ranjana
Rjng	Rejang (Redjang, Kaganga)
Rohg	Hanifi Rohingya
Roro	Rongorongo
Runr	Runic
Samr	Samaritan
Sara	Sarati
Sarb	Old South Arabian
Saur	Saurashtra
Sgnw	SignWriting
Shaw	Shavian (Shaw)
Shrd	Sharada, \u015A\u0101rad\u0101
Shui	Shuishu
Sidd	Siddham, Siddha\u1E43, Siddham\u0101t\u1E5Bk\u0101
Sind	Khudawadi, Sindhi
Sinh	Sinhala
Sogd	Sogdian
Sogo	Old Sogdian
Sora	Sora Sompeng
Soyo	Soyombo
Sund	Sundanese
Sunu	Sunuwar
Sylo	Syloti Nagri
Syrc	Syriac
Syre	Syriac (Estrangelo variant)
Syrj	Syriac (Western variant)
Syrn	Syriac (Eastern variant)
Tagb	Tagbanwa
Takr	Takri, \u1E6C\u0101kr\u012B, \u1E6C\u0101\u1E45kr\u012B
Tale	Tai Le
Talu	New Tai Lue
Taml	Tamil
Tang	Tangut
Tavt	Tai Viet
Telu	Telugu
Teng	Tengwar
Tfng	Tifinagh (Berber)
Tglg	Tagalog (Baybayin, Alibata)
Thaa	Thaana
Thai	Thai
Tibt	Tibetan
Tirh	Tirhuta
Tnsa	Tangsa
Toto	Toto
Ugar	Ugaritic
Vaii	Vai
Visp	Visible Speech
Vith	Vithkuqi
Wara	Warang Citi (Varang Kshiti)
Wcho	Wancho
Wole	Woleai
Xpeo	Old Persian
Xsux	Cuneiform, Sumero-Akkadian
Yezi	Yezidi
Yiii	Yi
Zanb	Zanabazar Square (Zanabazarin D\xF6rb\xF6ljin Useg, Xewtee D\xF6rb\xF6ljin Bicig, Horizontal Square Script)
Zinh	Code for inherited script
Zmth	Mathematical notation
Zsym	Symbols
Zsye	Symbols (emoji variant)
Zxxx	Code for unwritten documents
Zyyy	Code for undetermined script
Zzzz	Code for uncoded script
`;jh.scriptCodes=s5.split(`
`).map(t=>t.split("	"))});var xM=F(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.normalizeCode=p5;or.isValidCode=h5;or.lookupLocaleInfo=bM;or.getLangInfo=DM;or.getCountryInfo=TM;or.getScriptInfo=wM;or.parseLocale=cw;or.formatLocale=uw;or.formatLangAndLocale=y5;var o5=yM(),vM=CM(),SM=/^(?<lang>[a-z]{2})(?:[-_]?(?<script>[a-z]{4}))?[-_]?(?<locale>[a-z0-9]{0,2})$/i,ow=new Map(o5.codes.map(t=>{let[e,n,i=""]=t,r=e.match(SM)?.groups?.locale||"",s={code:e,language:n,country:i,locale:r,lang:e.replace(/-.*/,"")};return[e,s]})),aw=new Map([...ow.values()].map(({lang:t,language:e})=>[t,{lang:t,language:e}]));aw.set("lorem",{lang:"lorem",language:"Lorem-Ipsum"});aw.set("lorem-ipsum",{lang:"lorem-ipsum",language:"Lorem-Ipsum"});var a5=new Map([...ow.values()].map(({locale:t,country:e})=>[t,{locale:t,country:e}])),c5=new Map(vM.scriptCodes.map(([t,e])=>[t,{script:t,scriptName:e}])),u5=new Map(vM.scriptCodes.map(([t])=>[t.toLowerCase(),t])),l5=Object.freeze({lang:"lorem",locale:"",script:""}),d5=Object.freeze({lang:"lorem-ipsum",locale:"",script:""}),f5=/^lorem(?:[-_]?ipsum)?$/i;function p5(t,e=!1){let n=cw(t);return n?uw(n):e?void 0:t}function h5(t){return ow.has(t)||!!bM(t)}function bM(t){let e=cw(t);if(!e)return;let n=DM(e.lang),i=e.script?wM(e.script):{},r=e.locale?TM(e.locale):{locale:"",country:""};return n!==void 0&&i!==void 0&&r!==void 0&&{...n,...i,...r,code:uw(e)}||void 0}function DM(t){return aw.get(t.toLowerCase())}function TM(t){return a5.get(t.toUpperCase())}function wM(t){let e=u5.get(t.toLowerCase());return e&&c5.get(e)||void 0}function g5(t){let e=t.slice(0,1),n=t.slice(1);return e.toUpperCase()+n.toLowerCase()}function cw(t){t=t.trim();let e=t.match(SM);if(!e)return m5(t);let{lang:n="",script:i="",locale:r=""}=e.groups||{};return{lang:n.toLowerCase(),script:g5(i),locale:r.toUpperCase()}}function m5(t){return t.toLowerCase()==="lorem"?l5:f5.test(t)?d5:void 0}function uw({lang:t,locale:e,script:n}){return t+(n&&"-"+n)+(e&&"-"+e)}function y5({lang:t,locale:e}){return t+(e&&"-"+e)}});var EM=F($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.parseLocale=$i.normalizeCode=$i.lookupLocaleInfo=$i.isValidCode=$i.formatLocale=void 0;var xl=xM();Object.defineProperty($i,"formatLocale",{enumerable:!0,get:function(){return xl.formatLocale}});Object.defineProperty($i,"isValidCode",{enumerable:!0,get:function(){return xl.isValidCode}});Object.defineProperty($i,"lookupLocaleInfo",{enumerable:!0,get:function(){return xl.lookupLocaleInfo}});Object.defineProperty($i,"normalizeCode",{enumerable:!0,get:function(){return xl.normalizeCode}});Object.defineProperty($i,"parseLocale",{enumerable:!0,get:function(){return xl.parseLocale}})});var sU=F((Lpe,rU)=>{"use strict";rU.exports=function(t){return typeof t=="string"?iU(t):Mx(t)};function Mx(t){return!t||typeof t!="object"||dY(t)||fY(t)?t:lY(t)?gY(t,Mx):mY(hY(t),function(e,n){var i=iU(n);return e[i]=Mx(t[n]),e},{})}function iU(t){return t.replace(/[_.-](\w|$)/g,function(e,n){return n.toUpperCase()})}var lY=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},dY=function(t){return Object.prototype.toString.call(t)==="[object Date]"},fY=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},pY=Object.prototype.hasOwnProperty,hY=Object.keys||function(t){var e=[];for(var n in t)pY.call(t,n)&&e.push(n);return e};function gY(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}function mY(t,e,n){if(t.reduce)return t.reduce(e,n);for(var i=0;i<t.length;i++)n=e(n,t[i],i);return n}});var BU=F((khe,Yx)=>{"use strict";var yQ=function(){function t(e,n){var i=[],r=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),c;!(r=(c=a.next()).done)&&(i.push(c.value),!(n&&i.length===n));r=!0);}catch(u){s=!0,o=u}finally{try{!r&&a.return&&a.return()}finally{if(s)throw o}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Gg="[\x1B\x9B][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]",jU="\0-\b\v-\x1B\x9B\xAD\u200B\u2028\u2029\uFEFF\uFE00-\uFE0F",Xx=`
`+jU,CQ=new RegExp("(?:"+Gg+")|["+jU+"]","g"),Gx=new RegExp("(?:"+Gg+")|["+Xx+"]","g"),Jx=new RegExp("((?:"+Gg+")|[	"+Xx+"])?([^	"+Xx+"]*)","g");Yx.exports={zeroWidthCharacters:Gx,ansiEscapeCodes:new RegExp(Gg,"g"),strlen:t=>Array.from(t.replace(Gx,"")).length,isBlank:t=>t.replace(Gx,"").replace(/\s/g,"").length===0,blank:t=>Array.from(t.replace(CQ,"")).map(e=>e==="	"||e===`
`?e:" ").join(""),partition(t){for(var e,n=[];Jx.lastIndex!==t.length&&(e=Jx.exec(t));)n.push([e[1]||"",e[2]]);return Jx.lastIndex=0,n},first(t,e){let n="",i=0;for(let s of Yx.exports.partition(t)){var r=yQ(s,2);let o=r[0],a=r[1],c=Array.from(a).slice(0,e-i);n+=o+c.join(""),i+=c.length}return n}}});var VU=F((Fhe,HU)=>{"use strict";function Dc(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var Jg=Object,KU=BU(),vQ=KU.first,Xg=KU.strlen,SQ=(t,e)=>vQ(t,e-1)+"\u2026",WU=(t,e)=>{let n=(d,h)=>d.reduce((m,C)=>C.map((T,w)=>[].concat(Dc(m[w]||[]),[T])),[]).map(m=>h.apply(void 0,Dc(m))),i=t.map(d=>d.map(h=>h.replace(/\n/g,"\\n"))),r=i.map(d=>d.map(Xg)),s=n(r,Math.max),o=Jg.assign({delimiter:"  ",minColumnWidths:s.map(d=>0),maxTotalWidth:0},e),a=Xg(o.delimiter),c=s.reduce((d,h)=>d+h,0),u=s.map(d=>d/c),f=o.maxTotalWidth-a*(s.length-1),g=Math.max(0,c-f),p=n([o.minColumnWidths,s,u],(d,h,m)=>Math.max(d,Math.floor(h-g*m))),l=r.map(d=>n([p,d],(h,m)=>h-m));return n([i,l],(d,h)=>n([d,h],(m,C)=>C>=0?o.right?" ".repeat(C)+m:m+" ".repeat(C):SQ(m,Xg(m)+C)).join(o.delimiter))},$U=t=>Jg.assign(e=>{var n;if(e[0]&&Array.isArray(e[0]))return WU(e.map(o=>o.map((a,c)=>a===void 0?"":t.print(a,c))),t).join(`
`);let i=[].concat(Dc(new Set((n=[]).concat.apply(n,Dc(e.map(Jg.keys)))))),r=[i.map(t.title)].concat(Dc(e.map(o=>i.map(a=>o[a]===void 0?"":t.print(o[a],a))))),s=WU(r,t);return(t.dash?[s[0],t.dash.repeat(Xg(s[0]))].concat(Dc(s.slice(1))):s).join(`
`)},t,{configure:e=>$U(Jg.assign({},t,e))});HU.exports=$U({maxTotalWidth:Number.MAX_SAFE_INTEGER,print:String,title:String,dash:"-",right:!1})});var a0=F(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.symbolIsDisposed=pt.symbolDisposableTs=pt.symbolDisposableName=void 0;pt.createDisposable=Tc;pt.injectDisposable=OQ;pt.createDisposableFromList=MQ;pt.createDisposeMethodFromList=u2;pt.disposeOf=l2;pt.makeDisposable=qQ;pt.setDisposableName=UQ;pt.getDisposableName=d2;pt.getDisposableTs=f2;pt.isDisposed=jQ;pt.setLogger=BQ;pt.isDisposableHybrid=p2;Symbol.dispose??=Symbol("Symbol.dispose");pt.symbolDisposableName=Symbol("Disposable Name");pt.symbolDisposableTs=Symbol("Disposable Timestamp");pt.symbolIsDisposed=Symbol("Disposable Is Disposed");var pr,Yl=0,Xl=0;function Tc(t,e,n){let i=!1,r=!1,s={dispose:o,[Symbol.dispose]:o,[pt.symbolDisposableTs]:performance.now(),[pt.symbolDisposableName]:n||void 0,[pt.symbolIsDisposed]:!1};return++Xl,pr?.debug(wc()+"Created: %s, active: %i",Zg(s),Xl),s;function o(){try{if(pr?.debug(wc()+"Dispose Start -> %s Active %i",Zg(s),Xl),++Yl,i){s[pt.symbolIsDisposed]=!0,pr?.warn("Already disposed %s",Zg(s));return}--Xl,s[pt.symbolIsDisposed]=i=!0,e?t.call(e):t()}catch(a){throw r=!0,a}finally{--Yl,pr?.debug(wc()+"Dispose End   -> %s Active %i%s",Zg(s),Xl,r?" ** with errors ** ":"")}}}function Zg(t){let e=d2(t)||"",n=f2(t)?.toFixed(4);return e+" "+n}function OQ(t,e,n){return Object.assign(t,Tc(e,t,n))}function MQ(t,e="createDisposableFromList"){return Tc(u2(t),void 0,e)}function u2(t,e=""){let n=!1,i=performance.now().toFixed(4);pr&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),pr?.debug(wc()+"Create: %s %s",e,i);let r=0;function s(){try{pr?.debug(wc()+"Dispose Start -> %s %s",e,i),++Yl;let o;if(n&&(pr?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{l2(a)}catch(c){++r,o??=c}if(o)throw pr?.warn(o),o}finally{--Yl,pr?.debug(wc()+"Dispose End   -> %s %s%s",e,i,r?` *** with ${r} errors ***`:"")}}return s}function l2(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function qQ(t,e="makeDisposable"){return p2(t)?t:Symbol.dispose in t?Tc(t[Symbol.dispose],t,e):"dispose"in t?Tc(t.dispose,t,e):Tc(t,void 0,e)}function UQ(t,e){return t[pt.symbolDisposableName]=e,t}function d2(t){return t[pt.symbolDisposableName]}function f2(t){return t[pt.symbolDisposableTs]}function jQ(t){return t[pt.symbolIsDisposed]}function BQ(t){pr=t}function p2(t){return!t||typeof t!="object"?!1:pt.symbolIsDisposed in t}function wc(){return" ".repeat(Yl)}});var h2=F(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.DisposableList=Or.InheritableDisposable=Or.noop=void 0;Or.createDisposableList=KQ;var em=a0(),WQ=()=>{};Or.noop=WQ;var tm=class{dispose;[Symbol.dispose]=Or.noop;[em.symbolIsDisposed]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let i=(0,em.createDisposeMethodFromList)(this._disposables,n),r=()=>{this.isDisposed()||(this[em.symbolIsDisposed]=!0,i(),Object.freeze(this._disposables))};this.dispose=r,this[Symbol.dispose]=r}isDisposed(){return this[em.symbolIsDisposed]}};Or.InheritableDisposable=tm;var nm=class extends tm{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let i of e)this.add(i)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};Or.DisposableList=nm;function KQ(t,e){return new nm(t,e)}});var g2=F(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.InheritableDisposable=Lt.DisposableList=Lt.createDisposableList=Lt.setLogger=Lt.makeDisposable=Lt.injectDisposable=Lt.getDisposableTs=Lt.disposeOf=Lt.createDisposeMethodFromList=Lt.createDisposableFromList=Lt.createDisposable=void 0;var Gs=a0();Object.defineProperty(Lt,"createDisposable",{enumerable:!0,get:function(){return Gs.createDisposable}});Object.defineProperty(Lt,"createDisposableFromList",{enumerable:!0,get:function(){return Gs.createDisposableFromList}});Object.defineProperty(Lt,"createDisposeMethodFromList",{enumerable:!0,get:function(){return Gs.createDisposeMethodFromList}});Object.defineProperty(Lt,"disposeOf",{enumerable:!0,get:function(){return Gs.disposeOf}});Object.defineProperty(Lt,"getDisposableTs",{enumerable:!0,get:function(){return Gs.getDisposableTs}});Object.defineProperty(Lt,"injectDisposable",{enumerable:!0,get:function(){return Gs.injectDisposable}});Object.defineProperty(Lt,"makeDisposable",{enumerable:!0,get:function(){return Gs.makeDisposable}});Object.defineProperty(Lt,"setLogger",{enumerable:!0,get:function(){return Gs.setLogger}});var c0=h2();Object.defineProperty(Lt,"createDisposableList",{enumerable:!0,get:function(){return c0.createDisposableList}});Object.defineProperty(Lt,"DisposableList",{enumerable:!0,get:function(){return c0.DisposableList}});Object.defineProperty(Lt,"InheritableDisposable",{enumerable:!0,get:function(){return c0.InheritableDisposable}})});var T2=F(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.defaultApiPrefix=void 0;Js.createServerApi=$Q;Js.createClientApi=HQ;var xc=g2();Js.defaultApiPrefix={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function $Q(t,e,n,i=Js.defaultApiPrefix){let r=[],s=S2(e.serverRequests,n),o=b2(e.serverNotifications,n);m2(t,i.serverRequests,s,r,n),y2(t,i.serverNotifications,o,r,n);let a=C2(t,i.clientRequests,e.clientRequests,n),c=v2(t,i.clientNotifications,e.clientNotifications,n);return(0,xc.injectDisposable)({clientRequest:a,clientNotification:c,serverRequest:s,serverNotification:o},(0,xc.createDisposeMethodFromList)(r))}function HQ(t,e,n,i=Js.defaultApiPrefix){let r=[],s=S2(e.clientRequests,n),o=b2(e.clientNotifications,n);m2(t,i.clientRequests,s,r,n),y2(t,i.clientNotifications,o,r,n);let a=C2(t,i.serverRequests,e.serverRequests,n),c=v2(t,i.serverNotifications,e.serverNotifications,n);return(0,xc.injectDisposable)({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},(0,xc.createDisposeMethodFromList)(r))}function m2(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;i.push(t.onRequest(c,u=>(r?.log(`handle request "${s}" %o`,u),a.publish(...u))))}}function y2(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;i.push(t.onNotification(a,u=>(r?.log(`handle notification "${s}" %o`,u),c.publish(...u))))}}function C2(t,e,n,i){let r=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...c)=>{let u=++r;return i?.log(`send request "${s}" %o: Params: %o`,u,c),t.sendRequest(o,c).then(f=>(i?.log(`send request "${s}" %o: Response: %o`,u,f),f))}]}))}function v2(t,e,n,i){return Object.fromEntries(Object.entries(n).map(([r])=>{let s=e+r;return[r,(...a)=>(i?.log(`send notification "${r}" %o`,a),t.sendNotification(s,a))]}))}function S2(t,e){function n([i,r]){if(!r)return;let s=zQ(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(D2))}function b2(t,e){function n([i,r]){if(!r)return;let s=VQ(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(D2))}function VQ(t,e){let n=new Set;async function i(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function r(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),(0,xc.createDisposable)(()=>n.delete(s))}return{publish:i,subscribe:r}}function zQ(t,e){let n;async function i(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function r(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),(0,xc.createDisposable)(()=>{n===s&&(n=void 0)})}return{publish:i,subscribe:r}}function D2(t){return t!==void 0}});var x2=F(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.createServerApi=Ec.createClientApi=void 0;var w2=T2();Object.defineProperty(Ec,"createClientApi",{enumerable:!0,get:function(){return w2.createClientApi}});Object.defineProperty(Ec,"createServerApi",{enumerable:!0,get:function(){return w2.createServerApi}})});var k2=F(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.createServerSideSpellInfoWebviewApi=GQ;im.createClientSideSpellInfoWebviewApi=JQ;var E2=x2();function GQ(t,e,n){return(0,E2.createServerApi)(t,e,n)}function JQ(t,e,n){return(0,E2.createClientApi)(t,e,n)}});var F2=F(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.supportedViewsByName=Zo.namedViews=void 0;Zo.namedViews=["todo","hello-world","cspell-info"];Zo.supportedViewsByName=Object.freeze(Object.fromEntries(Zo.namedViews.map(t=>[t,t])))});var Ql=F(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.supportedViewsByName=Xs.createServerSideSpellInfoWebviewApi=Xs.createClientSideSpellInfoWebviewApi=void 0;var P2=k2();Object.defineProperty(Xs,"createClientSideSpellInfoWebviewApi",{enumerable:!0,get:function(){return P2.createClientSideSpellInfoWebviewApi}});Object.defineProperty(Xs,"createServerSideSpellInfoWebviewApi",{enumerable:!0,get:function(){return P2.createServerSideSpellInfoWebviewApi}});var XQ=F2();Object.defineProperty(Xs,"supportedViewsByName",{enumerable:!0,get:function(){return XQ.supportedViewsByName}})});var B2=F((bge,j2)=>{"use strict";j2.exports=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}});var Fc=F(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.stringArray=On.array=On.func=On.error=On.number=On.string=On.boolean=void 0;function EZ(t){return t===!0||t===!1}On.boolean=EZ;function X2(t){return typeof t=="string"||t instanceof String}On.string=X2;function kZ(t){return typeof t=="number"||t instanceof Number}On.number=kZ;function FZ(t){return t instanceof Error}On.error=FZ;function PZ(t){return typeof t=="function"}On.func=PZ;function Y2(t){return Array.isArray(t)}On.array=Y2;function RZ(t){return Y2(t)&&t.every(e=>X2(e))}On.stringArray=RZ});var K0=F(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.Message=Te.NotificationType9=Te.NotificationType8=Te.NotificationType7=Te.NotificationType6=Te.NotificationType5=Te.NotificationType4=Te.NotificationType3=Te.NotificationType2=Te.NotificationType1=Te.NotificationType0=Te.NotificationType=Te.RequestType9=Te.RequestType8=Te.RequestType7=Te.RequestType6=Te.RequestType5=Te.RequestType4=Te.RequestType3=Te.RequestType2=Te.RequestType1=Te.RequestType=Te.RequestType0=Te.AbstractMessageSignature=Te.ParameterStructures=Te.ResponseError=Te.ErrorCodes=void 0;var ta=Fc(),v0;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(v0||(Te.ErrorCodes=v0={}));var S0=class t extends Error{constructor(e,n,i){super(n),this.code=ta.number(e)?e:v0.UnknownErrorCode,this.data=i,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Te.ResponseError=S0;var fi=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Te.ParameterStructures=fi;fi.auto=new fi("auto");fi.byPosition=new fi("byPosition");fi.byName=new fi("byName");var Tt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return fi.auto}};Te.AbstractMessageSignature=Tt;var b0=class extends Tt{constructor(e){super(e,0)}};Te.RequestType0=b0;var D0=class extends Tt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Te.RequestType=D0;var T0=class extends Tt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Te.RequestType1=T0;var w0=class extends Tt{constructor(e){super(e,2)}};Te.RequestType2=w0;var x0=class extends Tt{constructor(e){super(e,3)}};Te.RequestType3=x0;var E0=class extends Tt{constructor(e){super(e,4)}};Te.RequestType4=E0;var k0=class extends Tt{constructor(e){super(e,5)}};Te.RequestType5=k0;var F0=class extends Tt{constructor(e){super(e,6)}};Te.RequestType6=F0;var P0=class extends Tt{constructor(e){super(e,7)}};Te.RequestType7=P0;var R0=class extends Tt{constructor(e){super(e,8)}};Te.RequestType8=R0;var A0=class extends Tt{constructor(e){super(e,9)}};Te.RequestType9=A0;var I0=class extends Tt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Te.NotificationType=I0;var _0=class extends Tt{constructor(e){super(e,0)}};Te.NotificationType0=_0;var N0=class extends Tt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Te.NotificationType1=N0;var L0=class extends Tt{constructor(e){super(e,2)}};Te.NotificationType2=L0;var O0=class extends Tt{constructor(e){super(e,3)}};Te.NotificationType3=O0;var M0=class extends Tt{constructor(e){super(e,4)}};Te.NotificationType4=M0;var q0=class extends Tt{constructor(e){super(e,5)}};Te.NotificationType5=q0;var U0=class extends Tt{constructor(e){super(e,6)}};Te.NotificationType6=U0;var j0=class extends Tt{constructor(e){super(e,7)}};Te.NotificationType7=j0;var B0=class extends Tt{constructor(e){super(e,8)}};Te.NotificationType8=B0;var W0=class extends Tt{constructor(e){super(e,9)}};Te.NotificationType9=W0;var Q2;(function(t){function e(r){let s=r;return s&&ta.string(s.method)&&(ta.string(s.id)||ta.number(s.id))}t.isRequest=e;function n(r){let s=r;return s&&ta.string(s.method)&&r.id===void 0}t.isNotification=n;function i(r){let s=r;return s&&(s.result!==void 0||!!s.error)&&(ta.string(s.id)||ta.number(s.id)||s.id===null)}t.isResponse=i})(Q2||(Te.Message=Q2={}))});var H0=F(Qs=>{"use strict";var Z2;Object.defineProperty(Qs,"__esModule",{value:!0});Qs.LRUCache=Qs.LinkedMap=Qs.Touch=void 0;var Mn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Mn||(Qs.Touch=Mn={}));var sm=class{constructor(){this[Z2]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=Mn.None){let i=this._map.get(e);if(i)return n!==Mn.None&&this.touch(i,n),i.value}set(e,n,i=Mn.None){let r=this._map.get(e);if(r)r.value=n,i!==Mn.None&&this.touch(r,i);else{switch(r={key:e,value:n,next:void 0,previous:void 0},i){case Mn.None:this.addItemLast(r);break;case Mn.First:this.addItemFirst(r);break;case Mn.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let i=this._state,r=this._head;for(;r;){if(n?e.bind(n)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.key,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}values(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.value,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}entries(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:[n.key,n.value],done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}[(Z2=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,i=e.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Mn.First&&n!==Mn.Last)){if(n===Mn.First){if(e===this._head)return;let i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Mn.Last){if(e===this._tail)return;let i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,i)=>{e.push([i,n])}),e}fromJSON(e){this.clear();for(let[n,i]of e)this.set(n,i)}};Qs.LinkedMap=sm;var $0=class extends sm{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Mn.AsNew){return super.get(e,n)}peek(e){return super.get(e,Mn.None)}set(e,n){return super.set(e,n,Mn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Qs.LRUCache=$0});var tj=F(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.Disposable=void 0;var ej;(function(t){function e(n){return{dispose:n}}t.create=e})(ej||(om.Disposable=ej={}))});var Zs=F(G0=>{"use strict";Object.defineProperty(G0,"__esModule",{value:!0});var V0;function z0(){if(V0===void 0)throw new Error("No runtime abstraction layer installed");return V0}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");V0=n}t.install=e})(z0||(z0={}));G0.default=z0});var Rc=F(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.Emitter=Pc.Event=void 0;var AZ=Zs(),nj;(function(t){let e={dispose(){}};t.None=function(){return e}})(nj||(Pc.Event=nj={}));var J0=class{add(e,n=null,i){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(i)&&i.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let i=!1;for(let r=0,s=this._callbacks.length;r<s;r++)if(this._callbacks[r]===e)if(this._contexts[r]===n){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else i=!0;if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],i=this._callbacks.slice(0),r=this._contexts.slice(0);for(let s=0,o=i.length;s<o;s++)try{n.push(i[s].apply(r[s],e))}catch(a){(0,AZ.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},am=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,i)=>{this._callbacks||(this._callbacks=new J0),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),r.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Pc.Emitter=am;am._noop=function(){}});var lm=F(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.CancellationTokenSource=Ac.CancellationToken=void 0;var IZ=Zs(),_Z=Fc(),X0=Rc(),cm;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:X0.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:X0.Event.None});function e(n){let i=n;return i&&(i===t.None||i===t.Cancelled||_Z.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}t.is=e})(cm||(Ac.CancellationToken=cm={}));var NZ=Object.freeze(function(t,e){let n=(0,IZ.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),um=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?NZ:(this._emitter||(this._emitter=new X0.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Y0=class{get token(){return this._token||(this._token=new um),this._token}cancel(){this._token?this._token.cancel():this._token=cm.Cancelled}dispose(){this._token?this._token instanceof um&&this._token.dispose():this._token=cm.None}};Ac.CancellationTokenSource=Y0});var ij=F(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.SharedArrayReceiverStrategy=Ic.SharedArraySenderStrategy=void 0;var LZ=lm(),id;(function(t){t.Continue=0,t.Cancelled=1})(id||(id={}));var Q0=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),i=new Int32Array(n,0,1);i[0]=id.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let i=this.buffers.get(n);if(i===void 0)return;let r=new Int32Array(i,0,1);Atomics.store(r,0,id.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Ic.SharedArraySenderStrategy=Q0;var Z0=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===id.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},eE=class{constructor(e){this.token=new Z0(e)}cancel(){}dispose(){}},tE=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new LZ.CancellationTokenSource:new eE(n)}};Ic.SharedArrayReceiverStrategy=tE});var iE=F(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.Semaphore=void 0;var OZ=Zs(),nE=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,OZ.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};dm.Semaphore=nE});var sj=F(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.ReadableStreamMessageReader=eo.AbstractMessageReader=eo.MessageReader=void 0;var sE=Zs(),_c=Fc(),rE=Rc(),MZ=iE(),rj;(function(t){function e(n){let i=n;return i&&_c.func(i.listen)&&_c.func(i.dispose)&&_c.func(i.onError)&&_c.func(i.onClose)&&_c.func(i.onPartialMessage)}t.is=e})(rj||(eo.MessageReader=rj={}));var fm=class{constructor(){this.errorEmitter=new rE.Emitter,this.closeEmitter=new rE.Emitter,this.partialMessageEmitter=new rE.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${_c.string(e.message)?e.message:"unknown"}`)}};eo.AbstractMessageReader=fm;var oE;(function(t){function e(n){let i,r,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,sE.default)().applicationJson.decoder,c.set(a.name,a)),{charset:i,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(oE||(oE={}));var aE=class extends fm{constructor(e,n){super(),this.readable=e,this.options=oE.fromOptions(n),this.buffer=(0,sE.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new MZ.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(i=>{this.onData(i)});return this.readable.onError(i=>this.fireError(i)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders(!0);if(!i)return;let r=i.get("content-length");if(!r){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(i))}`));return}let s=parseInt(r);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${r}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let i=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,r=await this.options.contentTypeDecoder.decode(i,this.options);this.callback(r)}).catch(i=>{this.fireError(i)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,sE.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};eo.ReadableStreamMessageReader=aE});var lj=F(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.WriteableStreamMessageWriter=to.AbstractMessageWriter=to.MessageWriter=void 0;var oj=Zs(),rd=Fc(),qZ=iE(),aj=Rc(),UZ="Content-Length: ",cj=`\r
`,uj;(function(t){function e(n){let i=n;return i&&rd.func(i.dispose)&&rd.func(i.onClose)&&rd.func(i.onError)&&rd.func(i.write)}t.is=e})(uj||(to.MessageWriter=uj={}));var pm=class{constructor(){this.errorEmitter=new aj.Emitter,this.closeEmitter=new aj.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,i){this.errorEmitter.fire([this.asError(e),n,i])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${rd.string(e.message)?e.message:"unknown"}`)}};to.AbstractMessageWriter=pm;var cE;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,oj.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,oj.default)().applicationJson.encoder}}t.fromOptions=e})(cE||(cE={}));var uE=class extends pm{constructor(e,n){super(),this.writable=e,this.options=cE.fromOptions(n),this.errorCount=0,this.writeSemaphore=new qZ.Semaphore(1),this.writable.onError(i=>this.fireError(i)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(i=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(i):i).then(i=>{let r=[];return r.push(UZ,i.byteLength.toString(),cj),r.push(cj),this.doWrite(e,r,i)},i=>{throw this.fireError(i),i}))}async doWrite(e,n,i){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(i)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};to.WriteableStreamMessageWriter=uE});var dj=F(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.AbstractMessageBuffer=void 0;var jZ=13,BZ=10,WZ=`\r
`,lE=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,i=0,r=0,s=0;e:for(;i<this._chunks.length;){let u=this._chunks[i];for(r=0;r<u.length;){switch(u[r]){case jZ:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case BZ:switch(n){case 1:n=2;break;case 3:n=4,r++;break e;default:n=0}break;default:n=0}r++}s+=u.byteLength,i++}if(n!==4)return;let o=this._read(s+r),a=new Map,c=this.toString(o,"ascii").split(WZ);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let f=c[u],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,g),l=f.substr(g+1).trim();a.set(e?p.toLowerCase():p,l)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),i=0,r=0;for(;e>0;){let s=this._chunks[r];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,i),i+=e,this._chunks[r]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};hm.AbstractMessageBuffer=lE});var mj=F(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.createMessageConnection=qe.ConnectionOptions=qe.MessageStrategy=qe.CancellationStrategy=qe.CancellationSenderStrategy=qe.CancellationReceiverStrategy=qe.RequestCancellationReceiverStrategy=qe.IdCancellationReceiverStrategy=qe.ConnectionStrategy=qe.ConnectionError=qe.ConnectionErrors=qe.LogTraceNotification=qe.SetTraceNotification=qe.TraceFormat=qe.TraceValues=qe.Trace=qe.NullLogger=qe.ProgressType=qe.ProgressToken=void 0;var fj=Zs(),jt=Fc(),Ae=K0(),pj=H0(),sd=Rc(),dE=lm(),cd;(function(t){t.type=new Ae.NotificationType("$/cancelRequest")})(cd||(cd={}));var fE;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(fE||(qe.ProgressToken=fE={}));var od;(function(t){t.type=new Ae.NotificationType("$/progress")})(od||(od={}));var pE=class{constructor(){}};qe.ProgressType=pE;var hE;(function(t){function e(n){return jt.func(n)}t.is=e})(hE||(hE={}));qe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ut;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ut||(qe.Trace=ut={}));var hj;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(hj||(qe.TraceValues=hj={}));(function(t){function e(i){if(!jt.string(i))return t.Off;switch(i=i.toLowerCase(),i){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(i){switch(i){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(ut||(qe.Trace=ut={}));var Fi;(function(t){t.Text="text",t.JSON="json"})(Fi||(qe.TraceFormat=Fi={}));(function(t){function e(n){return jt.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Fi||(qe.TraceFormat=Fi={}));var gE;(function(t){t.type=new Ae.NotificationType("$/setTrace")})(gE||(qe.SetTraceNotification=gE={}));var gm;(function(t){t.type=new Ae.NotificationType("$/logTrace")})(gm||(qe.LogTraceNotification=gm={}));var ad;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(ad||(qe.ConnectionErrors=ad={}));var Nc=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};qe.ConnectionError=Nc;var mE;(function(t){function e(n){let i=n;return i&&jt.func(i.cancelUndispatched)}t.is=e})(mE||(qe.ConnectionStrategy=mE={}));var mm;(function(t){function e(n){let i=n;return i&&(i.kind===void 0||i.kind==="id")&&jt.func(i.createCancellationTokenSource)&&(i.dispose===void 0||jt.func(i.dispose))}t.is=e})(mm||(qe.IdCancellationReceiverStrategy=mm={}));var yE;(function(t){function e(n){let i=n;return i&&i.kind==="request"&&jt.func(i.createCancellationTokenSource)&&(i.dispose===void 0||jt.func(i.dispose))}t.is=e})(yE||(qe.RequestCancellationReceiverStrategy=yE={}));var ym;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new dE.CancellationTokenSource}});function e(n){return mm.is(n)||yE.is(n)}t.is=e})(ym||(qe.CancellationReceiverStrategy=ym={}));var Cm;(function(t){t.Message=Object.freeze({sendCancellation(n,i){return n.sendNotification(cd.type,{id:i})},cleanup(n){}});function e(n){let i=n;return i&&jt.func(i.sendCancellation)&&jt.func(i.cleanup)}t.is=e})(Cm||(qe.CancellationSenderStrategy=Cm={}));var vm;(function(t){t.Message=Object.freeze({receiver:ym.Message,sender:Cm.Message});function e(n){let i=n;return i&&ym.is(i.receiver)&&Cm.is(i.sender)}t.is=e})(vm||(qe.CancellationStrategy=vm={}));var Sm;(function(t){function e(n){let i=n;return i&&jt.func(i.handleMessage)}t.is=e})(Sm||(qe.MessageStrategy=Sm={}));var gj;(function(t){function e(n){let i=n;return i&&(vm.is(i.cancellationStrategy)||mE.is(i.connectionStrategy)||Sm.is(i.messageStrategy))}t.is=e})(gj||(qe.ConnectionOptions=gj={}));var hr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(hr||(hr={}));function KZ(t,e,n,i){let r=n!==void 0?n:qe.NullLogger,s=0,o=0,a=0,c="2.0",u,f=new Map,g,p=new Map,l=new Map,d,h=new pj.LinkedMap,m=new Map,C=new Set,T=new Map,w=ut.Off,k=Fi.Text,A,B=hr.New,W=new sd.Emitter,U=new sd.Emitter,ie=new sd.Emitter,ne=new sd.Emitter,$=new sd.Emitter,N=i&&i.cancellationStrategy?i.cancellationStrategy:vm.Message;function H(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function te(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function K(){return"not-"+(++o).toString()}function G(v,P){Ae.Message.isRequest(P)?v.set(H(P.id),P):Ae.Message.isResponse(P)?v.set(te(P.id),P):v.set(K(),P)}function Q(v){}function ae(){return B===hr.Listening}function se(){return B===hr.Closed}function re(){return B===hr.Disposed}function ye(){(B===hr.New||B===hr.Listening)&&(B=hr.Closed,U.fire(void 0))}function ve(v){W.fire([v,void 0,void 0])}function $e(v){W.fire(v)}t.onClose(ye),t.onError(ve),e.onClose(ye),e.onError($e);function ke(){d||h.size===0||(d=(0,fj.default)().timer.setImmediate(()=>{d=void 0,wt()}))}function ht(v){Ae.Message.isRequest(v)?qn(v):Ae.Message.isNotification(v)?jn(v):Ae.Message.isResponse(v)?Un(v):Xn(v)}function wt(){if(h.size===0)return;let v=h.shift();try{let P=i?.messageStrategy;Sm.is(P)?P.handleMessage(v,ht):ht(v)}finally{ke()}}let Jn=v=>{try{if(Ae.Message.isNotification(v)&&v.method===cd.type.method){let P=v.params.id,q=H(P),z=h.get(q);if(Ae.Message.isRequest(z)){let ge=i?.connectionStrategy,we=ge&&ge.cancelUndispatched?ge.cancelUndispatched(z,Q):void 0;if(we&&(we.error!==void 0||we.result!==void 0)){h.delete(q),T.delete(P),we.id=z.id,rn(we,v.method,Date.now()),e.write(we).catch(()=>r.error("Sending response for canceled message failed."));return}}let Ce=T.get(P);if(Ce!==void 0){Ce.cancel(),cn(v);return}else C.add(P)}G(h,v)}finally{ke()}};function qn(v){if(re())return;function P(ue,Se,de){let L={jsonrpc:c,id:v.id};ue instanceof Ae.ResponseError?L.error=ue.toJson():L.result=ue===void 0?null:ue,rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}function q(ue,Se,de){let L={jsonrpc:c,id:v.id,error:ue.toJson()};rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}function z(ue,Se,de){ue===void 0&&(ue=null);let L={jsonrpc:c,id:v.id,result:ue};rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}Ri(v);let Ce=f.get(v.method),ge,we;Ce&&(ge=Ce.type,we=Ce.handler);let xe=Date.now();if(we||u){let ue=v.id??String(Date.now()),Se=mm.is(N.receiver)?N.receiver.createCancellationTokenSource(ue):N.receiver.createCancellationTokenSource(v);v.id!==null&&C.has(v.id)&&Se.cancel(),v.id!==null&&T.set(ue,Se);try{let de;if(we)if(v.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){q(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${v.method} defines ${ge.numberOfParams} params but received none.`),v.method,xe);return}de=we(Se.token)}else if(Array.isArray(v.params)){if(ge!==void 0&&ge.parameterStructures===Ae.ParameterStructures.byName){q(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,xe);return}de=we(...v.params,Se.token)}else{if(ge!==void 0&&ge.parameterStructures===Ae.ParameterStructures.byPosition){q(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,xe);return}de=we(v.params,Se.token)}else u&&(de=u(v.method,v.params,Se.token));let L=de;de?L.then?L.then(M=>{T.delete(ue),P(M,v.method,xe)},M=>{T.delete(ue),M instanceof Ae.ResponseError?q(M,v.method,xe):M&&jt.string(M.message)?q(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${M.message}`),v.method,xe):q(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}):(T.delete(ue),P(de,v.method,xe)):(T.delete(ue),z(de,v.method,xe))}catch(de){T.delete(ue),de instanceof Ae.ResponseError?P(de,v.method,xe):de&&jt.string(de.message)?q(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${de.message}`),v.method,xe):q(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}}else q(new Ae.ResponseError(Ae.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,xe)}function Un(v){if(!re())if(v.id===null)v.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let P=v.id,q=m.get(P);if(Yn(v,q),q!==void 0){m.delete(P);try{if(v.error){let z=v.error;q.reject(new Ae.ResponseError(z.code,z.message,z.data))}else if(v.result!==void 0)q.resolve(v.result);else throw new Error("Should never happen.")}catch(z){z.message?r.error(`Response handler '${q.method}' failed with message: ${z.message}`):r.error(`Response handler '${q.method}' failed unexpectedly.`)}}}}function jn(v){if(re())return;let P,q;if(v.method===cd.type.method){let z=v.params.id;C.delete(z),cn(v);return}else{let z=p.get(v.method);z&&(q=z.handler,P=z.type)}if(q||g)try{if(cn(v),q)if(v.params===void 0)P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==Ae.ParameterStructures.byName&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received none.`),q();else if(Array.isArray(v.params)){let z=v.params;v.method===od.type.method&&z.length===2&&fE.is(z[0])?q({token:z[0],value:z[1]}):(P!==void 0&&(P.parameterStructures===Ae.ParameterStructures.byName&&r.error(`Notification ${v.method} defines parameters by name but received parameters by position`),P.numberOfParams!==v.params.length&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received ${z.length} arguments`)),q(...z))}else P!==void 0&&P.parameterStructures===Ae.ParameterStructures.byPosition&&r.error(`Notification ${v.method} defines parameters by position but received parameters by name`),q(v.params);else g&&g(v.method,v.params)}catch(z){z.message?r.error(`Notification handler '${v.method}' failed with message: ${z.message}`):r.error(`Notification handler '${v.method}' failed unexpectedly.`)}else ie.fire(v)}function Xn(v){if(!v){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let P=v;if(jt.string(P.id)||jt.number(P.id)){let q=P.id,z=m.get(q);z&&z.reject(new Error("The received response has neither a result nor an error property."))}}function nt(v){if(v!=null)switch(w){case ut.Verbose:return JSON.stringify(v,null,4);case ut.Compact:return JSON.stringify(v);default:return}}function pi(v){if(!(w===ut.Off||!A))if(k===Fi.Text){let P;(w===ut.Verbose||w===ut.Compact)&&v.params&&(P=`Params: ${nt(v.params)}

`),A.log(`Sending request '${v.method} - (${v.id})'.`,P)}else lt("send-request",v)}function Bn(v){if(!(w===ut.Off||!A))if(k===Fi.Text){let P;(w===ut.Verbose||w===ut.Compact)&&(v.params?P=`Params: ${nt(v.params)}

`:P=`No parameters provided.

`),A.log(`Sending notification '${v.method}'.`,P)}else lt("send-notification",v)}function rn(v,P,q){if(!(w===ut.Off||!A))if(k===Fi.Text){let z;(w===ut.Verbose||w===ut.Compact)&&(v.error&&v.error.data?z=`Error data: ${nt(v.error.data)}

`:v.result?z=`Result: ${nt(v.result)}

`:v.error===void 0&&(z=`No result returned.

`)),A.log(`Sending response '${P} - (${v.id})'. Processing request took ${Date.now()-q}ms`,z)}else lt("send-response",v)}function Ri(v){if(!(w===ut.Off||!A))if(k===Fi.Text){let P;(w===ut.Verbose||w===ut.Compact)&&v.params&&(P=`Params: ${nt(v.params)}

`),A.log(`Received request '${v.method} - (${v.id})'.`,P)}else lt("receive-request",v)}function cn(v){if(!(w===ut.Off||!A||v.method===gm.type.method))if(k===Fi.Text){let P;(w===ut.Verbose||w===ut.Compact)&&(v.params?P=`Params: ${nt(v.params)}

`:P=`No parameters provided.

`),A.log(`Received notification '${v.method}'.`,P)}else lt("receive-notification",v)}function Yn(v,P){if(!(w===ut.Off||!A))if(k===Fi.Text){let q;if((w===ut.Verbose||w===ut.Compact)&&(v.error&&v.error.data?q=`Error data: ${nt(v.error.data)}

`:v.result?q=`Result: ${nt(v.result)}

`:v.error===void 0&&(q=`No result returned.

`)),P){let z=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";A.log(`Received response '${P.method} - (${v.id})' in ${Date.now()-P.timerStart}ms.${z}`,q)}else A.log(`Received response ${v.id} without active response promise.`,q)}else lt("receive-response",v)}function lt(v,P){if(!A||w===ut.Off)return;let q={isLSPMessage:!0,type:v,message:P,timestamp:Date.now()};A.log(q)}function xt(){if(se())throw new Nc(ad.Closed,"Connection is closed.");if(re())throw new Nc(ad.Disposed,"Connection is disposed.")}function Gt(){if(ae())throw new Nc(ad.AlreadyListening,"Connection is already listening")}function mn(){if(!ae())throw new Error("Call listen() first.")}function Wt(v){return v===void 0?null:v}function Wn(v){if(v!==null)return v}function Qn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function yn(v,P){switch(v){case Ae.ParameterStructures.auto:return Qn(P)?Wn(P):[Wt(P)];case Ae.ParameterStructures.byName:if(!Qn(P))throw new Error("Received parameters by name but param is not an object literal.");return Wn(P);case Ae.ParameterStructures.byPosition:return[Wt(P)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Zn(v,P){let q,z=v.numberOfParams;switch(z){case 0:q=void 0;break;case 1:q=yn(v.parameterStructures,P[0]);break;default:q=[];for(let Ce=0;Ce<P.length&&Ce<z;Ce++)q.push(Wt(P[Ce]));if(P.length<z)for(let Ce=P.length;Ce<z;Ce++)q.push(null);break}return q}let Et={sendNotification:(v,...P)=>{xt();let q,z;if(jt.string(v)){q=v;let ge=P[0],we=0,xe=Ae.ParameterStructures.auto;Ae.ParameterStructures.is(ge)&&(we=1,xe=ge);let ue=P.length,Se=ue-we;switch(Se){case 0:z=void 0;break;case 1:z=yn(xe,P[we]);break;default:if(xe===Ae.ParameterStructures.byName)throw new Error(`Received ${Se} parameters for 'by Name' notification parameter structure.`);z=P.slice(we,ue).map(de=>Wt(de));break}}else{let ge=P;q=v.method,z=Zn(v,ge)}let Ce={jsonrpc:c,method:q,params:z};return Bn(Ce),e.write(Ce).catch(ge=>{throw r.error("Sending notification failed."),ge})},onNotification:(v,P)=>{xt();let q;return jt.func(v)?g=v:P&&(jt.string(v)?(q=v,p.set(v,{type:void 0,handler:P})):(q=v.method,p.set(v.method,{type:v,handler:P}))),{dispose:()=>{q!==void 0?p.delete(q):g=void 0}}},onProgress:(v,P,q)=>{if(l.has(P))throw new Error(`Progress handler for token ${P} already registered`);return l.set(P,q),{dispose:()=>{l.delete(P)}}},sendProgress:(v,P,q)=>Et.sendNotification(od.type,{token:P,value:q}),onUnhandledProgress:ne.event,sendRequest:(v,...P)=>{xt(),mn();let q,z,Ce;if(jt.string(v)){q=v;let ue=P[0],Se=P[P.length-1],de=0,L=Ae.ParameterStructures.auto;Ae.ParameterStructures.is(ue)&&(de=1,L=ue);let M=P.length;dE.CancellationToken.is(Se)&&(M=M-1,Ce=Se);let Y=M-de;switch(Y){case 0:z=void 0;break;case 1:z=yn(L,P[de]);break;default:if(L===Ae.ParameterStructures.byName)throw new Error(`Received ${Y} parameters for 'by Name' request parameter structure.`);z=P.slice(de,M).map(Ee=>Wt(Ee));break}}else{let ue=P;q=v.method,z=Zn(v,ue);let Se=v.numberOfParams;Ce=dE.CancellationToken.is(ue[Se])?ue[Se]:void 0}let ge=s++,we;Ce&&(we=Ce.onCancellationRequested(()=>{let ue=N.sender.sendCancellation(Et,ge);return ue===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):ue.catch(()=>{r.log(`Sending cancellation messages for id ${ge} failed`)})}));let xe={jsonrpc:c,id:ge,method:q,params:z};return pi(xe),typeof N.sender.enableCancellation=="function"&&N.sender.enableCancellation(xe),new Promise(async(ue,Se)=>{let de=Y=>{ue(Y),N.sender.cleanup(ge),we?.dispose()},L=Y=>{Se(Y),N.sender.cleanup(ge),we?.dispose()},M={method:q,timerStart:Date.now(),resolve:de,reject:L};try{m.set(ge,M),await e.write(xe)}catch(Y){throw m.delete(ge),M.reject(new Ae.ResponseError(Ae.ErrorCodes.MessageWriteError,Y.message?Y.message:"Unknown reason")),r.error("Sending request failed."),Y}})},onRequest:(v,P)=>{xt();let q=null;return hE.is(v)?(q=void 0,u=v):jt.string(v)?(q=null,P!==void 0&&(q=v,f.set(v,{handler:P,type:void 0}))):P!==void 0&&(q=v.method,f.set(v.method,{type:v,handler:P})),{dispose:()=>{q!==null&&(q!==void 0?f.delete(q):u=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(v,P,q)=>{let z=!1,Ce=Fi.Text;q!==void 0&&(jt.boolean(q)?z=q:(z=q.sendNotification||!1,Ce=q.traceFormat||Fi.Text)),w=v,k=Ce,w===ut.Off?A=void 0:A=P,z&&!se()&&!re()&&await Et.sendNotification(gE.type,{value:ut.toString(v)})},onError:W.event,onClose:U.event,onUnhandledNotification:ie.event,onDispose:$.event,end:()=>{e.end()},dispose:()=>{if(re())return;B=hr.Disposed,$.fire(void 0);let v=new Ae.ResponseError(Ae.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let P of m.values())P.reject(v);m=new Map,T=new Map,C=new Set,h=new pj.LinkedMap,jt.func(e.dispose)&&e.dispose(),jt.func(t.dispose)&&t.dispose()},listen:()=>{xt(),Gt(),B=hr.Listening,t.listen(Jn)},inspect:()=>{(0,fj.default)().console.log("inspect")}};return Et.onNotification(gm.type,v=>{if(w===ut.Off||!A)return;let P=w===ut.Verbose||w===ut.Compact;A.log(v.message,P?v.verbose:void 0)}),Et.onNotification(od.type,v=>{let P=l.get(v.token);P?P(v.value):ne.fire(v)}),Et}qe.createMessageConnection=KZ});var bm=F(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.ProgressType=X.ProgressToken=X.createMessageConnection=X.NullLogger=X.ConnectionOptions=X.ConnectionStrategy=X.AbstractMessageBuffer=X.WriteableStreamMessageWriter=X.AbstractMessageWriter=X.MessageWriter=X.ReadableStreamMessageReader=X.AbstractMessageReader=X.MessageReader=X.SharedArrayReceiverStrategy=X.SharedArraySenderStrategy=X.CancellationToken=X.CancellationTokenSource=X.Emitter=X.Event=X.Disposable=X.LRUCache=X.Touch=X.LinkedMap=X.ParameterStructures=X.NotificationType9=X.NotificationType8=X.NotificationType7=X.NotificationType6=X.NotificationType5=X.NotificationType4=X.NotificationType3=X.NotificationType2=X.NotificationType1=X.NotificationType0=X.NotificationType=X.ErrorCodes=X.ResponseError=X.RequestType9=X.RequestType8=X.RequestType7=X.RequestType6=X.RequestType5=X.RequestType4=X.RequestType3=X.RequestType2=X.RequestType1=X.RequestType0=X.RequestType=X.Message=X.RAL=void 0;X.MessageStrategy=X.CancellationStrategy=X.CancellationSenderStrategy=X.CancellationReceiverStrategy=X.ConnectionError=X.ConnectionErrors=X.LogTraceNotification=X.SetTraceNotification=X.TraceFormat=X.TraceValues=X.Trace=void 0;var St=K0();Object.defineProperty(X,"Message",{enumerable:!0,get:function(){return St.Message}});Object.defineProperty(X,"RequestType",{enumerable:!0,get:function(){return St.RequestType}});Object.defineProperty(X,"RequestType0",{enumerable:!0,get:function(){return St.RequestType0}});Object.defineProperty(X,"RequestType1",{enumerable:!0,get:function(){return St.RequestType1}});Object.defineProperty(X,"RequestType2",{enumerable:!0,get:function(){return St.RequestType2}});Object.defineProperty(X,"RequestType3",{enumerable:!0,get:function(){return St.RequestType3}});Object.defineProperty(X,"RequestType4",{enumerable:!0,get:function(){return St.RequestType4}});Object.defineProperty(X,"RequestType5",{enumerable:!0,get:function(){return St.RequestType5}});Object.defineProperty(X,"RequestType6",{enumerable:!0,get:function(){return St.RequestType6}});Object.defineProperty(X,"RequestType7",{enumerable:!0,get:function(){return St.RequestType7}});Object.defineProperty(X,"RequestType8",{enumerable:!0,get:function(){return St.RequestType8}});Object.defineProperty(X,"RequestType9",{enumerable:!0,get:function(){return St.RequestType9}});Object.defineProperty(X,"ResponseError",{enumerable:!0,get:function(){return St.ResponseError}});Object.defineProperty(X,"ErrorCodes",{enumerable:!0,get:function(){return St.ErrorCodes}});Object.defineProperty(X,"NotificationType",{enumerable:!0,get:function(){return St.NotificationType}});Object.defineProperty(X,"NotificationType0",{enumerable:!0,get:function(){return St.NotificationType0}});Object.defineProperty(X,"NotificationType1",{enumerable:!0,get:function(){return St.NotificationType1}});Object.defineProperty(X,"NotificationType2",{enumerable:!0,get:function(){return St.NotificationType2}});Object.defineProperty(X,"NotificationType3",{enumerable:!0,get:function(){return St.NotificationType3}});Object.defineProperty(X,"NotificationType4",{enumerable:!0,get:function(){return St.NotificationType4}});Object.defineProperty(X,"NotificationType5",{enumerable:!0,get:function(){return St.NotificationType5}});Object.defineProperty(X,"NotificationType6",{enumerable:!0,get:function(){return St.NotificationType6}});Object.defineProperty(X,"NotificationType7",{enumerable:!0,get:function(){return St.NotificationType7}});Object.defineProperty(X,"NotificationType8",{enumerable:!0,get:function(){return St.NotificationType8}});Object.defineProperty(X,"NotificationType9",{enumerable:!0,get:function(){return St.NotificationType9}});Object.defineProperty(X,"ParameterStructures",{enumerable:!0,get:function(){return St.ParameterStructures}});var CE=H0();Object.defineProperty(X,"LinkedMap",{enumerable:!0,get:function(){return CE.LinkedMap}});Object.defineProperty(X,"LRUCache",{enumerable:!0,get:function(){return CE.LRUCache}});Object.defineProperty(X,"Touch",{enumerable:!0,get:function(){return CE.Touch}});var $Z=tj();Object.defineProperty(X,"Disposable",{enumerable:!0,get:function(){return $Z.Disposable}});var yj=Rc();Object.defineProperty(X,"Event",{enumerable:!0,get:function(){return yj.Event}});Object.defineProperty(X,"Emitter",{enumerable:!0,get:function(){return yj.Emitter}});var Cj=lm();Object.defineProperty(X,"CancellationTokenSource",{enumerable:!0,get:function(){return Cj.CancellationTokenSource}});Object.defineProperty(X,"CancellationToken",{enumerable:!0,get:function(){return Cj.CancellationToken}});var vj=ij();Object.defineProperty(X,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return vj.SharedArraySenderStrategy}});Object.defineProperty(X,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return vj.SharedArrayReceiverStrategy}});var vE=sj();Object.defineProperty(X,"MessageReader",{enumerable:!0,get:function(){return vE.MessageReader}});Object.defineProperty(X,"AbstractMessageReader",{enumerable:!0,get:function(){return vE.AbstractMessageReader}});Object.defineProperty(X,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return vE.ReadableStreamMessageReader}});var SE=lj();Object.defineProperty(X,"MessageWriter",{enumerable:!0,get:function(){return SE.MessageWriter}});Object.defineProperty(X,"AbstractMessageWriter",{enumerable:!0,get:function(){return SE.AbstractMessageWriter}});Object.defineProperty(X,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return SE.WriteableStreamMessageWriter}});var HZ=dj();Object.defineProperty(X,"AbstractMessageBuffer",{enumerable:!0,get:function(){return HZ.AbstractMessageBuffer}});var Dn=mj();Object.defineProperty(X,"ConnectionStrategy",{enumerable:!0,get:function(){return Dn.ConnectionStrategy}});Object.defineProperty(X,"ConnectionOptions",{enumerable:!0,get:function(){return Dn.ConnectionOptions}});Object.defineProperty(X,"NullLogger",{enumerable:!0,get:function(){return Dn.NullLogger}});Object.defineProperty(X,"createMessageConnection",{enumerable:!0,get:function(){return Dn.createMessageConnection}});Object.defineProperty(X,"ProgressToken",{enumerable:!0,get:function(){return Dn.ProgressToken}});Object.defineProperty(X,"ProgressType",{enumerable:!0,get:function(){return Dn.ProgressType}});Object.defineProperty(X,"Trace",{enumerable:!0,get:function(){return Dn.Trace}});Object.defineProperty(X,"TraceValues",{enumerable:!0,get:function(){return Dn.TraceValues}});Object.defineProperty(X,"TraceFormat",{enumerable:!0,get:function(){return Dn.TraceFormat}});Object.defineProperty(X,"SetTraceNotification",{enumerable:!0,get:function(){return Dn.SetTraceNotification}});Object.defineProperty(X,"LogTraceNotification",{enumerable:!0,get:function(){return Dn.LogTraceNotification}});Object.defineProperty(X,"ConnectionErrors",{enumerable:!0,get:function(){return Dn.ConnectionErrors}});Object.defineProperty(X,"ConnectionError",{enumerable:!0,get:function(){return Dn.ConnectionError}});Object.defineProperty(X,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Dn.CancellationReceiverStrategy}});Object.defineProperty(X,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Dn.CancellationSenderStrategy}});Object.defineProperty(X,"CancellationStrategy",{enumerable:!0,get:function(){return Dn.CancellationStrategy}});Object.defineProperty(X,"MessageStrategy",{enumerable:!0,get:function(){return Dn.MessageStrategy}});var VZ=Zs();X.RAL=VZ.default});var Dj=F(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0});var Sj=require("util"),ns=bm(),Dm=class t extends ns.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Sj.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Dm.emptyBuffer=Buffer.allocUnsafe(0);var bE=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ns.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ns.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ns.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ns.Disposable.create(()=>this.stream.off("data",e))}},DE=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ns.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ns.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ns.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((i,r)=>{let s=o=>{o==null?i():r(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},bj=Object.freeze({messageBuffer:Object.freeze({create:t=>new Dm(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Sj.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new bE(t),asWritableStream:t=>new DE(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let i=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let i=setInterval(t,e,...n);return{dispose:()=>clearInterval(i)}}})});function TE(){return bj}(function(t){function e(){ns.RAL.install(bj)}t.install=e})(TE||(TE={}));wE.default=TE});var xj=F(Je=>{"use strict";var zZ=Je&&Je.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),GZ=Je&&Je.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&zZ(e,t,n)};Object.defineProperty(Je,"__esModule",{value:!0});Je.createMessageConnection=Je.createServerSocketTransport=Je.createClientSocketTransport=Je.createServerPipeTransport=Je.createClientPipeTransport=Je.generateRandomPipeName=Je.StreamMessageWriter=Je.StreamMessageReader=Je.SocketMessageWriter=Je.SocketMessageReader=Je.PortMessageWriter=Je.PortMessageReader=Je.IPCMessageWriter=Je.IPCMessageReader=void 0;var Lc=Dj();Lc.default.install();var Tj=require("path"),JZ=require("os"),XZ=require("crypto"),xm=require("net"),Pi=bm();GZ(bm(),Je);var xE=class extends Pi.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Pi.Disposable.create(()=>this.process.off("message",e))}};Je.IPCMessageReader=xE;var EE=class extends Pi.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Je.IPCMessageWriter=EE;var kE=class extends Pi.AbstractMessageReader{constructor(e){super(),this.onData=new Pi.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Je.PortMessageReader=kE;var FE=class extends Pi.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Je.PortMessageWriter=FE;var na=class extends Pi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Lc.default)().stream.asReadableStream(e),n)}};Je.SocketMessageReader=na;var ia=class extends Pi.WriteableStreamMessageWriter{constructor(e,n){super((0,Lc.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Je.SocketMessageWriter=ia;var Tm=class extends Pi.ReadableStreamMessageReader{constructor(e,n){super((0,Lc.default)().stream.asReadableStream(e),n)}};Je.StreamMessageReader=Tm;var wm=class extends Pi.WriteableStreamMessageWriter{constructor(e,n){super((0,Lc.default)().stream.asWritableStream(e),n)}};Je.StreamMessageWriter=wm;var wj=process.env.XDG_RUNTIME_DIR,YZ=new Map([["linux",107],["darwin",103]]);function QZ(){let t=(0,XZ.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;wj?e=Tj.join(wj,`vscode-ipc-${t}.sock`):e=Tj.join(JZ.tmpdir(),`vscode-${t}.sock`);let n=YZ.get(process.platform);return n!==void 0&&e.length>n&&(0,Lc.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Je.generateRandomPipeName=QZ;function ZZ(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,xm.createServer)(a=>{o.close(),n([new na(a,e),new ia(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Je.createClientPipeTransport=ZZ;function eee(t,e="utf-8"){let n=(0,xm.createConnection)(t);return[new na(n,e),new ia(n,e)]}Je.createServerPipeTransport=eee;function tee(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,xm.createServer)(a=>{o.close(),n([new na(a,e),new ia(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Je.createClientSocketTransport=tee;function nee(t,e="utf-8"){let n=(0,xm.createConnection)(t,"127.0.0.1");return[new na(n,e),new ia(n,e)]}Je.createServerSocketTransport=nee;function iee(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function ree(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function see(t,e,n,i){n||(n=Pi.NullLogger);let r=iee(t)?new Tm(t):t,s=ree(e)?new wm(e):e;return Pi.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,Pi.createMessageConnection)(r,s,n,i)}Je.createMessageConnection=see});var kj=F((ame,Ej)=>{"use strict";Ej.exports=xj()});var dee={};ME(dee,{activate:()=>aee});module.exports=$j(dee);function io(t,e,n){let i=t.get(e);if(i!==void 0||t.has(e))return i;let r=n(e);return t.set(e,r),r}var hd=class{map=new Map;get(e,n){return n?io(this.map,e,n):this.map.get(e)}has(e){return this.map.has(e)}set(e,n){return this.map.set(e,n),this}delete(e){return this.map.delete(e)}clear(){this.map.clear()}dispose(){this.clear()}};function _m(){return new hd}var Nm={string:!0,undefined:!0},Hj={number:!0,undefined:!0};function UE(t){return!t||typeof t!="object"?!1:typeof t.code=="string"}function jE(t){if(!t||typeof t!="object")return!1;let e=t;return typeof e.name=="string"&&typeof e.message=="string"&&typeof e.errno in Hj&&typeof e.code in Nm&&typeof e.path in Nm&&typeof e.stack in Nm}function ro(t){return new Lm(t)}var Lm=class{name;#e=new Set;#t=!1;constructor(e){this.name=e}event=e=>{Vj(!this.#t,"EventEmitter is disposed");let i={fn:e};return this.#e.add(i),{dispose:()=>{this.#e.delete(i)}}};fire=e=>{for(let n of this.#e)try{n.fn(e)}catch{}};dispose=()=>{this.#t=!0,this.#e.clear()};get isDisposed(){return this.#t}numListeners(){return this.#e.size}};function Vj(t,e="assertion failed"){if(!t)throw new Error(e)}function BE(t,e){let n,i=0,r;return s=>o=>{let a=n??=ro(),c=a.event(o);return r??=s(u=>t(u,a.fire)),++i,{dispose(){if(i&&(--i,c.dispose(),!i))try{e?.dispose(),n?.dispose(),r?.dispose()}finally{n=void 0,r=void 0}}}}}var Om=Symbol("not set");function Mm(t){let e=Om,n;function i(){e=Om,n=void 0}return BE((r,s)=>{e=r,clearTimeout(n),n=setTimeout(o,t);function o(){let a=e;i(),a!==Om&&s(a)}},{dispose(){clearTimeout(n),i()}})}function qm(t,...e){let n="event"in t?s=>t.event(s):t,i,r=()=>{if(i)return i;let s=n;for(let o of e)s=o(s);return i=s};return s=>r()(s)}function Um(t,e){let n=new Map;for(let i of t){let r=i[e],s=n.get(r)||[];s.push(i),n.set(r,s)}return n}var je;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG"})(je||(je={}));var zj=[[je[je.NONE],je.NONE],[je[je.ERROR],je.ERROR],[je[je.WARNING],je.WARNING],[je[je.INFO],je.INFO],[je[je.DEBUG],je.DEBUG],["INFORMATION",je.INFO]],Gj=new Map(zj),Mr=()=>{},gd=class{logLevel;_connection;seq=0;logs=[];loggers={[je.NONE]:Mr,[je.ERROR]:Mr,[je.WARNING]:Mr,[je.INFO]:Mr,[je.DEBUG]:Mr};logTime=!0;logSequence=!0;constructor(e=je.DEBUG,n){this.logLevel=e,n&&this.setConnection(n)}writeLog(e){if(!this._connection)this.logs.push(e);else{if(e.level>this.logLevel)return;let n=this.logSequence?`${e.seq}	`:"",i=this.logTime?`${e.ts.toISOString()}	`:"",r=`${n}${i}${e.msg}`,s=this.loggers[e.level];s?s(r):console.error(`Unknown log level: ${e.level}; msg: ${e.msg}`)}}get connection(){return this._connection}logMessage(e,n){let r={seq:++this.seq,level:e,ts:new Date,msg:n};this.writeLog(r)}set level(e){this.logLevel=Jj(e)}get level(){return this.logLevel}setConnection(e){this._connection=e,this._connection.onExit(()=>{this._connection=void 0,this.loggers[je.ERROR]=Mr,this.loggers[je.WARNING]=Mr,this.loggers[je.INFO]=Mr,this.loggers[je.DEBUG]=Mr}),this.loggers[je.ERROR]=n=>{e.console.error(n)},this.loggers[je.WARNING]=n=>{e.console.warn(n)},this.loggers[je.INFO]=n=>{e.console.info(n)},this.loggers[je.DEBUG]=n=>{e.console.log(n)},this.logs.forEach(n=>this.writeLog(n)),this.logs.length=0}error(e){this.logMessage(je.ERROR,e)}warn(e){this.logMessage(je.WARNING,e)}info(e){this.logMessage(je.INFO,e)}debug(e){this.logMessage(je.DEBUG,e)}log(e){this.debug(e)}getPendingEntries(){return this.logs}clearPendingEntries(){this.logs=[]}};function Jj(t){let e=typeof t=="string"?Gj.get(t.toUpperCase())||je.NONE:t;return typeof e!="number"||e<je.NONE||e>je.DEBUG?je.DEBUG:e}var Xj="";var gi=new gd;function Mc(t,e){gi.error(Yj(t,e))}function Yj(t,e){let n=Array.isArray(e)?e:[e];return t+"	"+n.map(Qj).join(`
			`)}function Qj(t){if(!t)return"";let e=Zj(t,Xj);return e?t.replace(e,"..."):t}function Zj(t,e){let n=eB(t,e);return t.slice(0,n)}function eB(t,e){let n="/",i=t.split(n),r=e.split(n),s=Math.min(i.length,r.length),o=0;for(;o<s&&i[o]===r[o];)++o;return i.slice(0,o).join(n).length}var HE=Fe(require("node:assert"),1),qr=Fe(require("node:path"),1),VE=require("node:url"),ra=require("node:url"),tB=/^(\w[\w-]{1,63}:\/|data:|stdin:)/i;function nB(t,e){return so(t instanceof URL?t:new URL(t,e))}function iB(t){if(t=nB(t),t.protocol==="data:")return t;let e=t.pathname.endsWith("/");if(!t.pathname.startsWith("/")){let i=t.pathname.split("/").slice(0,e?-2:-1).join("/");return i=i&&i+"/"||"",new URL(t.protocol+(t.host?"//"+t.host:"")+i+t.search+t.hash)}return new URL(e?"..":".",t)}function md(t){return t instanceof URL||tB.test(t)}function rB(t,e){return e=e.endsWith(":")?e:e+":",typeof t=="string"?t.startsWith(e):t.protocol===e}function sB(t){if(t.pathname.endsWith("/"))return t;let e=new URL(t.href);return e.pathname+="/",e}function oB(t,e){let n=t.pathname,i=e.pathname;if(n===i)return"";if(n=n.endsWith("/")?n:new URL("./",t).pathname,i.startsWith(n))return decodeURIComponent(i.slice(n.length));let r=n,s=i;if(s.startsWith(r))return decodeURIComponent(r===s?"":s.slice(r.lastIndexOf("/")+1));let o=r.split("/").slice(0,-1),a=s.split("/"),c=0;for(c=0;c<o.length&&c<a.length-1&&o[c]===a[c];++c);let u="../".repeat(o.length-c)+a.slice(c).join("/");return decodeURIComponent(u.length<s.length?u:s)}var $E=/^[\\/]([a-zA-Z]:[\\/])/,aB=/^(\/+[a-zA-Z])\$/;function so(t){if(t=typeof t=="string"?new URL(t):t,t.protocol==="file:"){let e=t.pathname.replaceAll("%3A",":").replaceAll("%3a",":").replaceAll("%24","$");if(t.host||(e=e.replace(aB,"$1:")),e=e.replace($E,n=>n.toUpperCase()),e!==t.pathname)return t=new URL(t),t.pathname=e,WE(t)}return WE(t)}function WE(t){return t.href.startsWith("file:////")?new URL(t.href.replace(/^file:\/{4}/,"file://")):t}var qc=process.platform==="win32",cB=/^\/[a-zA-Z]:\//;function zE(t){return cB.test(t)}function GE(t){return rB(t,"file:")}function uB(t){return GE(t)&&t.toString().startsWith("file:///")?lB(t):t.toString()}function lB(t){try{if(qc){let e=new URL(t);if(!zE(e.pathname)){let n=(0,ra.pathToFileURL)(process.cwd());if(n.hostname)return(0,ra.fileURLToPath)(new URL(e.pathname,n));let i=n.pathname.split("/")[1];return e.pathname=`/${i}${e.pathname}`,(0,ra.fileURLToPath)(e)}}return XE((0,ra.fileURLToPath)(t))}catch{return t.toString()}}var JE=/^([a-zA-Z]):[\\/]/;function XE(t){return t.replace(JE,e=>e.toUpperCase())}var dB=/^file:\/\/\/[a-zA-Z]:\//;function fB(t){return dB.test(t.toString())}var pB=JE,hB=$E,gB=/%/g,mB=/\\/g,yB=/\n/g,CB=/\r/g,vB=/\t/g,SB=/\?/g,bB=/#/g,KE="file:",DB=class{windows;path;cwd;constructor(t={}){let e=t.path?.sep;this.windows=t.windows??(e?e==="\\":void 0)??qc,this.path=t.path??(this.windows?qr.default.win32:qr.default.posix),this.cwd=t.cwd??this.pathToFileURL(this.path.resolve()+"/",this.rootFileURL()),(0,HE.default)(this.path.sep===(this.windows?"\\":"/"),`Path separator should match OS type Windows: ${this.windows===!0?"true":(this.windows??"undefined")||"false"}, sep: ${this.path.sep}, options: `+JSON.stringify({isWindows:qc,sep:`${e}`,windows:t.windows,pathSep:t.path?.sep,n:t.path?.normalize("path/file.txt"),cwd:t.cwd?.href,win32:this.path===qr.default.win32,posix:this.path===qr.default.posix,"win32.normalize":this.path.normalize===qr.default.win32.normalize,"posix.normalize":this.path.normalize===qr.default.posix.normalize}))}encodePathChars(t){return t=t.replaceAll(gB,"%25"),!this.windows&&!qc&&t.includes("\\")&&(t=t.replaceAll(mB,"%5C")),t=t.replaceAll(yB,"%0A"),t=t.replaceAll(CB,"%0D"),t=t.replaceAll(vB,"%09"),t}normalizeFilePathForUrl(t){return t=this.encodePathChars(t),t=t.replaceAll(SB,"%3F"),t=t.replaceAll(bB,"%23"),t.replaceAll("\\","/").replace(pB,n=>`/${n}`.toUpperCase())}toFileURL(t,e){return so(this.#e(t,e))}#e(t,e){if(typeof t!="string")return t;if(md(t))return so(new URL(t));if(e??=this.cwd,qc&&(t=t.replaceAll("\\","/")),this.isAbsolute(t)&&GE(e)){let r=this.normalizeFilePathForUrl(t);if(fB(e)&&!zE(r)){let s=e.toString().slice(0,10);return so(new URL(s+r))}return so(new URL("file://"+r))}if(md(e)){let r=this.normalizeFilePathForUrl(t);return so(new URL(r,e))}let n=t.endsWith("/")?"/":"",i=this.normalizeFilePathForUrl(this.path.resolve(e.toString(),t))+n;return so(new URL("file://"+i))}toFileDirURL(t,e){return sB(this.toFileURL(t,e))}urlToFilePathOrHref(t){return t=this.toFileURL(t),this.#t(t)}#t(t){if(t.protocol!==KE||t.hostname)return t.href;let e=this.path===qr.default?uB(t):decodeURIComponent(t.pathname.split("/").join(this.path.sep));return XE(e.replace(hB,"$1"))}relative(t,e){if(t.protocol===e.protocol&&t.protocol===KE){if(t.href===e.href)return"";t=t.pathname.endsWith("/")?t:new URL("./",t);let n=t.pathname,i=e.pathname;if(i.startsWith(n))return decodeURIComponent(i.slice(n.length));let r=this.#t(t),s=this.#t(e),o=e.pathname.endsWith("/"),a=this.normalizeFilePathForUrl(this.path.relative(r,s));return o&&!a.endsWith("/")&&(a+="/"),decodeURIComponent(a)}return decodeURIComponent(oB(t,e))}urlDirname(t){return iB(this.toFileURL(t))}pathToFileURL(t,e){return new URL(this.normalizeFilePathForUrl(t),e||this.cwd)}rootFileURL(t){let e=this.path,n=e.parse(e.normalize(e.resolve(t??".")));return new URL(this.normalizeFilePathForUrl(n.root),this.#n())}#n(){if(this.path===qr.default)return(0,VE.pathToFileURL)("/");let t=this.path.resolve("/");return new URL(this.normalizeFilePathForUrl(t),"file:///")}isAbsolute(t){return md(t)||this.path.isAbsolute(t)}isUrlLike(t){return md(t)}},TB=new DB;function YE(t,e){return TB.toFileURL(t,e)}var QE;(()=>{"use strict";var t={975:$=>{function N(K){if(typeof K!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(K))}function H(K,G){for(var Q,ae="",se=0,re=-1,ye=0,ve=0;ve<=K.length;++ve){if(ve<K.length)Q=K.charCodeAt(ve);else{if(Q===47)break;Q=47}if(Q===47){if(!(re===ve-1||ye===1))if(re!==ve-1&&ye===2){if(ae.length<2||se!==2||ae.charCodeAt(ae.length-1)!==46||ae.charCodeAt(ae.length-2)!==46){if(ae.length>2){var $e=ae.lastIndexOf("/");if($e!==ae.length-1){$e===-1?(ae="",se=0):se=(ae=ae.slice(0,$e)).length-1-ae.lastIndexOf("/"),re=ve,ye=0;continue}}else if(ae.length===2||ae.length===1){ae="",se=0,re=ve,ye=0;continue}}G&&(ae.length>0?ae+="/..":ae="..",se=2)}else ae.length>0?ae+="/"+K.slice(re+1,ve):ae=K.slice(re+1,ve),se=ve-re-1;re=ve,ye=0}else Q===46&&ye!==-1?++ye:ye=-1}return ae}var te={resolve:function(){for(var K,G="",Q=!1,ae=arguments.length-1;ae>=-1&&!Q;ae--){var se;ae>=0?se=arguments[ae]:(K===void 0&&(K=process.cwd()),se=K),N(se),se.length!==0&&(G=se+"/"+G,Q=se.charCodeAt(0)===47)}return G=H(G,!Q),Q?G.length>0?"/"+G:"/":G.length>0?G:"."},normalize:function(K){if(N(K),K.length===0)return".";var G=K.charCodeAt(0)===47,Q=K.charCodeAt(K.length-1)===47;return(K=H(K,!G)).length!==0||G||(K="."),K.length>0&&Q&&(K+="/"),G?"/"+K:K},isAbsolute:function(K){return N(K),K.length>0&&K.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var K,G=0;G<arguments.length;++G){var Q=arguments[G];N(Q),Q.length>0&&(K===void 0?K=Q:K+="/"+Q)}return K===void 0?".":te.normalize(K)},relative:function(K,G){if(N(K),N(G),K===G||(K=te.resolve(K))===(G=te.resolve(G)))return"";for(var Q=1;Q<K.length&&K.charCodeAt(Q)===47;++Q);for(var ae=K.length,se=ae-Q,re=1;re<G.length&&G.charCodeAt(re)===47;++re);for(var ye=G.length-re,ve=se<ye?se:ye,$e=-1,ke=0;ke<=ve;++ke){if(ke===ve){if(ye>ve){if(G.charCodeAt(re+ke)===47)return G.slice(re+ke+1);if(ke===0)return G.slice(re+ke)}else se>ve&&(K.charCodeAt(Q+ke)===47?$e=ke:ke===0&&($e=0));break}var ht=K.charCodeAt(Q+ke);if(ht!==G.charCodeAt(re+ke))break;ht===47&&($e=ke)}var wt="";for(ke=Q+$e+1;ke<=ae;++ke)ke!==ae&&K.charCodeAt(ke)!==47||(wt.length===0?wt+="..":wt+="/..");return wt.length>0?wt+G.slice(re+$e):(re+=$e,G.charCodeAt(re)===47&&++re,G.slice(re))},_makeLong:function(K){return K},dirname:function(K){if(N(K),K.length===0)return".";for(var G=K.charCodeAt(0),Q=G===47,ae=-1,se=!0,re=K.length-1;re>=1;--re)if((G=K.charCodeAt(re))===47){if(!se){ae=re;break}}else se=!1;return ae===-1?Q?"/":".":Q&&ae===1?"//":K.slice(0,ae)},basename:function(K,G){if(G!==void 0&&typeof G!="string")throw new TypeError('"ext" argument must be a string');N(K);var Q,ae=0,se=-1,re=!0;if(G!==void 0&&G.length>0&&G.length<=K.length){if(G.length===K.length&&G===K)return"";var ye=G.length-1,ve=-1;for(Q=K.length-1;Q>=0;--Q){var $e=K.charCodeAt(Q);if($e===47){if(!re){ae=Q+1;break}}else ve===-1&&(re=!1,ve=Q+1),ye>=0&&($e===G.charCodeAt(ye)?--ye==-1&&(se=Q):(ye=-1,se=ve))}return ae===se?se=ve:se===-1&&(se=K.length),K.slice(ae,se)}for(Q=K.length-1;Q>=0;--Q)if(K.charCodeAt(Q)===47){if(!re){ae=Q+1;break}}else se===-1&&(re=!1,se=Q+1);return se===-1?"":K.slice(ae,se)},extname:function(K){N(K);for(var G=-1,Q=0,ae=-1,se=!0,re=0,ye=K.length-1;ye>=0;--ye){var ve=K.charCodeAt(ye);if(ve!==47)ae===-1&&(se=!1,ae=ye+1),ve===46?G===-1?G=ye:re!==1&&(re=1):G!==-1&&(re=-1);else if(!se){Q=ye+1;break}}return G===-1||ae===-1||re===0||re===1&&G===ae-1&&G===Q+1?"":K.slice(G,ae)},format:function(K){if(K===null||typeof K!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof K);return function(G,Q){var ae=Q.dir||Q.root,se=Q.base||(Q.name||"")+(Q.ext||"");return ae?ae===Q.root?ae+se:ae+"/"+se:se}(0,K)},parse:function(K){N(K);var G={root:"",dir:"",base:"",ext:"",name:""};if(K.length===0)return G;var Q,ae=K.charCodeAt(0),se=ae===47;se?(G.root="/",Q=1):Q=0;for(var re=-1,ye=0,ve=-1,$e=!0,ke=K.length-1,ht=0;ke>=Q;--ke)if((ae=K.charCodeAt(ke))!==47)ve===-1&&($e=!1,ve=ke+1),ae===46?re===-1?re=ke:ht!==1&&(ht=1):re!==-1&&(ht=-1);else if(!$e){ye=ke+1;break}return re===-1||ve===-1||ht===0||ht===1&&re===ve-1&&re===ye+1?ve!==-1&&(G.base=G.name=ye===0&&se?K.slice(1,ve):K.slice(ye,ve)):(ye===0&&se?(G.name=K.slice(1,re),G.base=K.slice(1,ve)):(G.name=K.slice(ye,re),G.base=K.slice(ye,ve)),G.ext=K.slice(re,ve)),ye>0?G.dir=K.slice(0,ye-1):se&&(G.dir="/"),G},sep:"/",delimiter:":",win32:null,posix:null};te.posix=te,$.exports=te}},e={};function n($){var N=e[$];if(N!==void 0)return N.exports;var H=e[$]={exports:{}};return t[$](H,H.exports,n),H.exports}n.d=($,N)=>{for(var H in N)n.o(N,H)&&!n.o($,H)&&Object.defineProperty($,H,{enumerable:!0,get:N[H]})},n.o=($,N)=>Object.prototype.hasOwnProperty.call($,N),n.r=$=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})};var i={};let r;n.r(i),n.d(i,{URI:()=>p,Utils:()=>ne}),typeof process=="object"?r=process.platform==="win32":typeof navigator=="object"&&(r=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,o=/^\//,a=/^\/\//;function c($,N){if(!$.scheme&&N)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${$.authority}", path: "${$.path}", query: "${$.query}", fragment: "${$.fragment}"}`);if($.scheme&&!s.test($.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if($.path){if($.authority){if(!o.test($.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test($.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",f="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static isUri(N){return N instanceof p||!!N&&typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function"}scheme;authority;path;query;fragment;constructor(N,H,te,K,G,Q=!1){typeof N=="object"?(this.scheme=N.scheme||u,this.authority=N.authority||u,this.path=N.path||u,this.query=N.query||u,this.fragment=N.fragment||u):(this.scheme=function(ae,se){return ae||se?ae:"file"}(N,Q),this.authority=H||u,this.path=function(ae,se){switch(ae){case"https":case"http":case"file":se?se[0]!==f&&(se=f+se):se=f}return se}(this.scheme,te||u),this.query=K||u,this.fragment=G||u,c(this,Q))}get fsPath(){return T(this,!1)}with(N){if(!N)return this;let{scheme:H,authority:te,path:K,query:G,fragment:Q}=N;return H===void 0?H=this.scheme:H===null&&(H=u),te===void 0?te=this.authority:te===null&&(te=u),K===void 0?K=this.path:K===null&&(K=u),G===void 0?G=this.query:G===null&&(G=u),Q===void 0?Q=this.fragment:Q===null&&(Q=u),H===this.scheme&&te===this.authority&&K===this.path&&G===this.query&&Q===this.fragment?this:new d(H,te,K,G,Q)}static parse(N,H=!1){let te=g.exec(N);return te?new d(te[2]||u,B(te[4]||u),B(te[5]||u),B(te[7]||u),B(te[9]||u),H):new d(u,u,u,u,u)}static file(N){let H=u;if(r&&(N=N.replace(/\\/g,f)),N[0]===f&&N[1]===f){let te=N.indexOf(f,2);te===-1?(H=N.substring(2),N=f):(H=N.substring(2,te),N=N.substring(te)||f)}return new d("file",H,N,u,u)}static from(N){let H=new d(N.scheme,N.authority,N.path,N.query,N.fragment);return c(H,!0),H}toString(N=!1){return w(this,N)}toJSON(){return this}static revive(N){if(N){if(N instanceof p)return N;{let H=new d(N);return H._formatted=N.external,H._fsPath=N._sep===l?N.fsPath:null,H}}return N}}let l=r?1:void 0;class d extends p{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=T(this,!1)),this._fsPath}toString(N=!1){return N?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let N={$mid:1};return this._fsPath&&(N.fsPath=this._fsPath,N._sep=l),this._formatted&&(N.external=this._formatted),this.path&&(N.path=this.path),this.scheme&&(N.scheme=this.scheme),this.authority&&(N.authority=this.authority),this.query&&(N.query=this.query),this.fragment&&(N.fragment=this.fragment),N}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m($,N,H){let te,K=-1;for(let G=0;G<$.length;G++){let Q=$.charCodeAt(G);if(Q>=97&&Q<=122||Q>=65&&Q<=90||Q>=48&&Q<=57||Q===45||Q===46||Q===95||Q===126||N&&Q===47||H&&Q===91||H&&Q===93||H&&Q===58)K!==-1&&(te+=encodeURIComponent($.substring(K,G)),K=-1),te!==void 0&&(te+=$.charAt(G));else{te===void 0&&(te=$.substr(0,G));let ae=h[Q];ae!==void 0?(K!==-1&&(te+=encodeURIComponent($.substring(K,G)),K=-1),te+=ae):K===-1&&(K=G)}}return K!==-1&&(te+=encodeURIComponent($.substring(K))),te!==void 0?te:$}function C($){let N;for(let H=0;H<$.length;H++){let te=$.charCodeAt(H);te===35||te===63?(N===void 0&&(N=$.substr(0,H)),N+=h[te]):N!==void 0&&(N+=$[H])}return N!==void 0?N:$}function T($,N){let H;return H=$.authority&&$.path.length>1&&$.scheme==="file"?`//${$.authority}${$.path}`:$.path.charCodeAt(0)===47&&($.path.charCodeAt(1)>=65&&$.path.charCodeAt(1)<=90||$.path.charCodeAt(1)>=97&&$.path.charCodeAt(1)<=122)&&$.path.charCodeAt(2)===58?N?$.path.substr(1):$.path[1].toLowerCase()+$.path.substr(2):$.path,r&&(H=H.replace(/\//g,"\\")),H}function w($,N){let H=N?C:m,te="",{scheme:K,authority:G,path:Q,query:ae,fragment:se}=$;if(K&&(te+=K,te+=":"),(G||K==="file")&&(te+=f,te+=f),G){let re=G.indexOf("@");if(re!==-1){let ye=G.substr(0,re);G=G.substr(re+1),re=ye.lastIndexOf(":"),re===-1?te+=H(ye,!1,!1):(te+=H(ye.substr(0,re),!1,!1),te+=":",te+=H(ye.substr(re+1),!1,!0)),te+="@"}G=G.toLowerCase(),re=G.lastIndexOf(":"),re===-1?te+=H(G,!1,!0):(te+=H(G.substr(0,re),!1,!0),te+=G.substr(re))}if(Q){if(Q.length>=3&&Q.charCodeAt(0)===47&&Q.charCodeAt(2)===58){let re=Q.charCodeAt(1);re>=65&&re<=90&&(Q=`/${String.fromCharCode(re+32)}:${Q.substr(3)}`)}else if(Q.length>=2&&Q.charCodeAt(1)===58){let re=Q.charCodeAt(0);re>=65&&re<=90&&(Q=`${String.fromCharCode(re+32)}:${Q.substr(2)}`)}te+=H(Q,!0,!1)}return ae&&(te+="?",te+=H(ae,!1,!1)),se&&(te+="#",te+=N?se:m(se,!1,!1)),te}function k($){try{return decodeURIComponent($)}catch{return $.length>3?$.substr(0,3)+k($.substr(3)):$}}let A=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function B($){return $.match(A)?$.replace(A,N=>k(N)):$}var W=n(975);let U=W.posix||W,ie="/";var ne;(function($){$.joinPath=function(N,...H){return N.with({path:U.join(N.path,...H)})},$.resolvePath=function(N,...H){let te=N.path,K=!1;te[0]!==ie&&(te=ie+te,K=!0);let G=U.resolve(te,...H);return K&&G[0]===ie&&!N.authority&&(G=G.substring(1)),N.with({path:G})},$.dirname=function(N){if(N.path.length===0||N.path===ie)return N;let H=U.dirname(N.path);return H.length===1&&H.charCodeAt(0)===46&&(H=""),N.with({path:H})},$.basename=function(N){return U.basename(N.path)},$.extname=function(N){return U.extname(N.path)}})(ne||(ne={})),QE=i})();var{URI:Uc,Utils:yr}=QE;var Bm=["file","gist","repo","sftp","untitled","vscode-notebook-cell","vscode-scm","vscode-userdata","comment"],Wm=new Set(Bm);var ZE=/^[\w._-]{2,}:/;function yd(t){return wB(t)}function wB(t){if(typeof t=="string")return ZE.test(t)?Uc.parse(t):Uc.parse(YE(t).toString());if(t)return t instanceof URL?Uc.parse(t.toString()):t}function xB(t,e){if(t.scheme!==e.scheme)return ek(e).toString();let n=jm(t),i=jm(e),r=0;for(r=0;r<n.length&&r<i.length;++r){let o=n[r],a=i[r];if(o===a)continue;let c=decodeURIComponent(o).toLowerCase(),u=decodeURIComponent(a).toLowerCase();if(!(c.endsWith(":")&&c==u&&c.length==2))break}return("../".repeat(n.length-r)+i.slice(r).join("/")).replace(/\/$/,"")}function ek(t){return t.with({fragment:"",query:""})}function Ai(t,e={}){let{segments:n=2,relativeTo:i}=e;if(i){let s=xB(yd(i),t);if(!ZE.test(s))return decodeURIComponent(s.split("/").slice(-n).join("/"))}let r=jm(t).slice(-n);return decodeURIComponent(r.join("/"))}function jm(t){return ek(t).toString().split("/").filter(e=>!!e)}function tk(t){let e=Uc.isUri(t)?t:yd(t.toString());return e.scheme==="file"?e.fsPath:e.toString()}function Km(t){return[...new Set(t)]}function oo(t){let e=new Set;return t?n=>{let i=t(n);return!e.has(i)&&(e.add(i),!0)}:n=>!e.has(n)&&(e.add(n),!0)}function vn(t){return t!=null}function nk(t,e){let n={};for(let i of e)n[i]=t[i];return n}Symbol.dispose??=Symbol("Symbol.dispose");var ik=Symbol("Disposable Name"),rk=Symbol("Disposable Timestamp"),is=Symbol("Disposable Is Disposed"),Cr,Bc=0,jc=0;function Kn(t,e,n){let i=!1,r=!1,s={dispose:o,[Symbol.dispose]:o,[rk]:performance.now(),[ik]:n||void 0,[is]:!1};return++jc,Cr?.debug(sa()+"Created: %s, active: %i",Cd(s),jc),s;function o(){try{if(Cr?.debug(sa()+"Dispose Start -> %s Active %i",Cd(s),jc),++Bc,i){s[is]=!0,Cr?.warn("Already disposed %s",Cd(s));return}--jc,s[is]=i=!0,e?t.call(e):t()}catch(a){throw r=!0,a}finally{--Bc,Cr?.debug(sa()+"Dispose End   -> %s Active %i%s",Cd(s),jc,r?" ** with errors ** ":"")}}}function Cd(t){let e=EB(t)||"",n=sk(t)?.toFixed(4);return e+" "+n}function ao(t,e,n){return Object.assign(t,Kn(e,t,n))}function vd(t,e="createDisposableFromList"){return Kn(oa(t),void 0,e)}function oa(t,e=""){let n=!1,i=performance.now().toFixed(4);Cr&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),Cr?.debug(sa()+"Create: %s %s",e,i);let r=0;function s(){try{Cr?.debug(sa()+"Dispose Start -> %s %s",e,i),++Bc;let o;if(n&&(Cr?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{ln(a)}catch(c){++r,o??=c}if(o)throw Cr?.warn(o),o}finally{--Bc,Cr?.debug(sa()+"Dispose End   -> %s %s%s",e,i,r?` *** with ${r} errors ***`:"")}}return s}function ln(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function rs(t,e="makeDisposable"){return kB(t)?t:Symbol.dispose in t?Kn(t[Symbol.dispose],t,e):"dispose"in t?Kn(t.dispose,t,e):Kn(t,void 0,e)}function EB(t){return t[ik]}function sk(t){return t[rk]}function kB(t){return!t||typeof t!="object"?!1:is in t}function sa(){return" ".repeat(Bc)}var FB=()=>{},aa=class{dispose;[Symbol.dispose]=FB;[is]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let i=oa(this._disposables,n),r=()=>{this.isDisposed()||(this[is]=!0,i(),Object.freeze(this._disposables))};this.dispose=r,this[Symbol.dispose]=r}isDisposed(){return this[is]}},Sd=class extends aa{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let i of e)this.add(i)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};function tt(t,e){return new Sd(t,e)}var Bt=Fe(require("vscode"),1);var Wc={allowCompoundWords:"allowCompoundWords",cache:"cache",caseSensitive:"caseSensitive",description:"description",dictionaries:"dictionaries",dictionaryDefinitions:"dictionaryDefinitions",enabled:"enabled",enabledLanguageIds:"enabledLanguageIds",enableFiletypes:"enableFiletypes",enabledFileTypes:"enabledFileTypes",enableGlobDot:"enableGlobDot",failFast:"failFast",features:"features",files:"files",flagWords:"flagWords",gitignoreRoot:"gitignoreRoot",globRoot:"globRoot",ignorePaths:"ignorePaths",ignoreRegExpList:"ignoreRegExpList",ignoreWords:"ignoreWords",ignoreRandomStrings:"ignoreRandomStrings",import:"import",includeRegExpList:"includeRegExpList",language:"language",languageId:"languageId",languageSettings:"languageSettings",loadDefaultConfiguration:"loadDefaultConfiguration",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",minWordLength:"minWordLength",minRandomLength:"minRandomLength",name:"name",noConfigSearch:"noConfigSearch",noSuggestDictionaries:"noSuggestDictionaries",numSuggestions:"numSuggestions",overrides:"overrides",patterns:"patterns",pnpFiles:"pnpFiles",readonly:"readonly",reporters:"reporters",showStatus:"showStatus",spellCheckDelayMs:"spellCheckDelayMs",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",suggestWords:"suggestWords",useGitignore:"useGitignore",usePnP:"usePnP",userWords:"userWords",validateDirectives:"validateDirectives",words:"words",parser:"parser"},$m=(t=>(t[t.spelling=0]="spelling",t[t.directive=1]="directive",t))($m||{});var PB={git:!1,output:!1,debug:!1},RB={gist:!0,repo:!0,file:!0,sftp:!0,untitled:!0,"vscode-notebook-cell":!0,"vscode-vfs":!0,vsls:!0,...PB};function AB(t,e){if(e.allowedSchemas){let n=Object.fromEntries(e.allowedSchemas.map(i=>[i,!0]));t={...t,...n}}return e.enabledSchemes&&(t={...t,...e.enabledSchemes}),t}function ak(...t){let e={...RB};return t.reduce(AB,e)}function Hm(...t){let e=ak(...t);return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}function ok(t,e){if(!e)return t;let n=Object.fromEntries(NB(e).map(i=>i.startsWith("!")?[i.slice(1),!1]:[i,!0]));return t={...t,...n},t}function IB(t,e){return e?{...t,...e}:t}function _B(t,e){return t=ok(t,e.enabledLanguageIds),t=ok(t,e.enableFiletypes),t=IB(t,e.enabledFileTypes),t}function bd(t,e={}){return _B(e,t)}function Vm(t){return Object.keys(bd(t)).sort()}function NB(t){return t.map(e=>e.replace(/!/g,"~")).sort().map(e=>e.replace(/~/g,"!")).map(e=>e.replace(/^(!!)+/,""))}var Be={...Wc,"advanced.feature.useReferenceProviderRemove":"advanced.feature.useReferenceProviderRemove","advanced.feature.useReferenceProviderWithRename":"advanced.feature.useReferenceProviderWithRename","experimental.symbols":"experimental.symbols",autoFormatConfigFile:"autoFormatConfigFile",blockCheckingWhenAverageChunkSizeGreaterThan:"blockCheckingWhenAverageChunkSizeGreaterThan",blockCheckingWhenLineLengthGreaterThan:"blockCheckingWhenLineLengthGreaterThan",blockCheckingWhenTextChunkSizeGreaterThan:"blockCheckingWhenTextChunkSizeGreaterThan",checkLimit:"checkLimit",checkOnlyEnabledFileTypes:"checkOnlyEnabledFileTypes",checkVSCodeSystemFiles:"checkVSCodeSystemFiles",customDictionaries:"customDictionaries",customFolderDictionaries:"customFolderDictionaries",customUserDictionaries:"customUserDictionaries",customWorkspaceDictionaries:"customWorkspaceDictionaries",diagnosticLevel:"diagnosticLevel",diagnosticLevelFlaggedWords:"diagnosticLevelFlaggedWords",fixSpellingWithRenameProvider:"fixSpellingWithRenameProvider",hideAddToDictionaryCodeActions:"hideAddToDictionaryCodeActions",logLevel:"logLevel",logFile:"logFile",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",mergeCSpellSettings:"mergeCSpellSettings",mergeCSpellSettingsFields:"mergeCSpellSettingsFields",noSuggestDictionaries:"noSuggestDictionaries",reportUnknownWords:"reportUnknownWords",showAutocompleteDirectiveSuggestions:"showAutocompleteDirectiveSuggestions",showCommandsInEditorContextMenu:"showCommandsInEditorContextMenu",showStatus:"showStatus",showStatusAlignment:"showStatusAlignment",showSuggestionsLinkInEditorContextMenu:"showSuggestionsLinkInEditorContextMenu",spellCheckDelayMs:"spellCheckDelayMs",spellCheckOnlyWorkspaceFiles:"spellCheckOnlyWorkspaceFiles",suggestionMenuType:"suggestionMenuType",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",useLocallyInstalledCSpellDictionaries:"useLocallyInstalledCSpellDictionaries",workspaceRootPath:"workspaceRootPath",trustedWorkspace:"trustedWorkspace",allowedSchemas:"allowedSchemas",enabledFileTypes:"enabledFileTypes",enabledLanguageIds:"enabledLanguageIds",enabledSchemes:"enabledSchemes",hideIssuesWhileTyping:"hideIssuesWhileTyping",revealIssuesAfterDelayMS:"revealIssuesAfterDelayMS",useCustomDecorations:"useCustomDecorations",doNotUseCustomDecorationForScheme:"doNotUseCustomDecorationForScheme",showInRuler:"showInRuler",textDecoration:"textDecoration",textDecorationLine:"textDecorationLine",textDecorationStyle:"textDecorationStyle",textDecorationThickness:"textDecorationThickness",textDecorationColor:"textDecorationColor",textDecorationColorFlagged:"textDecorationColorFlagged",textDecorationColorSuggestion:"textDecorationColorSuggestion",overviewRulerColor:"overviewRulerColor",dark:"dark",light:"light"};var _n=Fe(require("vscode"),1);var Tq=require("util"),Ue=require("vscode");var LB={name:void 0,extensionContext:void 0,client:void 0,dictionaryHelper:void 0,issueTracker:void 0,eventLogger:void 0},OB=Object.keys(LB),ca={};function Kc(){return ca}function ck(t,e){Object.defineProperty(ca,t,{get:function(){let n=e();return Object.defineProperty(this,t,{value:n}),n}})}function it(t){if(Object.getOwnPropertyDescriptor(ca,t)===void 0)throw new Error(`Missing Dependency Resolver: '${t}'`);return ca[t]}function co(){return it("client")}function zm(){return it("extensionContext")}function Gm(){return it("issueTracker")}function $c(t,e){Object.defineProperty(ca,t,{value:e,configurable:!0,enumerable:!0})}function MB(t){Object.defineProperty(ca,t,{get:function(){throw new Error(`Missing Dependency: ${t}`)},configurable:!0,enumerable:!0})}function qB(){OB.forEach(MB)}qB();var Zm=Fe(require("vscode"),1);var Jm=require("vscode");function Xe(t){return typeof t=="string"?Jm.Uri.from(yd(t)):t&&Jm.Uri.from(t)||void 0}var Hc={Dictionary:"dictionary",Cspell:"cspell",Vscode:"vscode"};function Xm(t){return e=>typeof e=="object"&&e.kind===t}var yte=Xm(Hc.Dictionary),Cte=Xm(Hc.Cspell),vte=Xm(Hc.Vscode),Dd={user:1,workspace:2,folder:3,unknown:4};function UB(t,e){return Dd[t]-Dd[e]}function jB(t,e){return Dd[e]-Dd[t]}function Vc(t,e=!0){let n=e?jB:UB;return[...t].sort(n)}var vr=require("vscode"),uk={[vr.ConfigurationTarget.Global]:"user",[vr.ConfigurationTarget.Workspace]:"workspace",[vr.ConfigurationTarget.WorkspaceFolder]:"folder"},BB={user:vr.ConfigurationTarget.Global,workspace:vr.ConfigurationTarget.Workspace,folder:vr.ConfigurationTarget.WorkspaceFolder},Ym=[vr.ConfigurationTarget.Global,vr.ConfigurationTarget.Workspace,vr.ConfigurationTarget.WorkspaceFolder];function _i(t){return uk[t]}function Td(t){return WB(t)}function WB(t){return BB[t]}function Qm(t){return uk[t]}function lk(t){let e=[],n=Ym.indexOf(t);if(n<0)return e;for(let i=n;i<Ym.length;++i)e.push(Qm(Ym[i]));return e.push("unknown"),e}var KB={dictionary:"dictionary",cspell:"cspell",vscode:"vscode",unknown:"unknown",folder:"folder",workspace:"workspace",user:"user"};var uo={dictionary:!0,cspell:!0,vscode:!0};var $B={cspell:!0},ty={vscode:!0},HB={dictionary:!0,cspell:!1,vscode:!1};var zc={unknown:!0,folder:!0,workspace:!0,user:!0},VB={unknown:!0,folder:!0,workspace:!0,user:!1},dk={user:!0},fk={workspace:!0},pk={folder:!0};var zB=Object.freeze(Object.values(Hc)),GB=Object.freeze(Object.values(KB)),wd=ss(uo,VB),hk=ss(uo,dk),gk=ss(uo,fk),mk=ss(uo,pk),yk=ss($B,zc),Ck=ss(ty,dk),vk=ss(ty,fk),Sk=ss(ty,pk),xd=Gc(nW(HB),zc),Pte=Gc(uo,zc);function JB(t,e){let n=[];for(let i of e)if(!(!t[i.kind]||!t[i.scope])){if(n.length&&(n[0].kind!==i.kind||n[0].scope!==i.scope))break;n.push(i)}return n}function ss(...t){let e=Gc(...t);return XB(e)}function XB(t,e=!1){return async function(n){let i=JB(t,n);return Ed(i,e)}}async function Ed(t,e=!1){if(!t.length)throw new ey("No matching configuration found.");if(t.length===1)return t;let n="Choose Destination",i=t.map(o=>({label:o.name,_found:o})),r=e?await Zm.window.showQuickPick(i,{title:n,canPickMany:!0}):await Zm.window.showQuickPick(i,{title:n});return r?(Array.isArray(r)?r:[r]).map(o=>o._found):void 0}async function kd(t){let e=await Ed(t,!1);return e&&e[0]}function Fd(t,e){let n=typeof e=="function"?e:YB(e);return t.filter(n)}function bk(t,e){return t.filter(n=>n.kind!=="cspell"||e in Wc)}function YB(t){return e=>QB(e,t)}function QB(t,e){return!!e[t.kind]&&!!e[t.scope]}function Gc(...t){let e={};for(let n of t)typeof n=="string"?e[n]=!0:e=ZB(e,n,GB);return e}function ZB(t,e,n){let i=Object.assign({},t);for(let r of n){let s=e[r];s!==void 0&&(i[r]=s)}return i}function eW(t,e){let n={};for(let i of e)n[i]=tW(t[i]);return n}function tW(t){return t===void 0?void 0:!t}function nW(t){return eW(t,zB)}function Dk(t,e,n){let i=_i(t);return{kind:"vscode",scope:i,name:i,docUri:Xe(e),configScope:n}}var ey=class extends Error{};var ny=require("util"),wk=require("vscode");function Jc(t){if(t instanceof Error)return!0;if(!t||typeof t!="object")return!1;let e=t;return e.message!==void 0&&e.name!==void 0}function Xc(t,e){return!Ek(t)&&Jc(t)?(console.error(ry(t,e)),lo(wk.window.showErrorMessage(t.message),"showError Resolver showErrorMessage").then(()=>{})):Promise.resolve(void 0)}function Yc(t,e){return!Ek(t)&&Jc(t)&&console.log(ry(t,e)),Promise.resolve(void 0)}function iy(t,e){let n=ry(t,e);return Promise.resolve(void 0)}function rt(t,e,n=Xc){return(typeof t=="function"?(async()=>t())():t).catch(iW(e,n))}function Qc(t,e,n=Xc){return(...i)=>rt(()=>t(...i),e,n)}function dn(t,e){return rt(Promise.resolve(t),e,Yc)}function lo(t,e){return rt(Promise.resolve(t),e,iy)}function xk(t,e){return rt(Promise.resolve(t),e,Xc)}function iW(t,e){return n=>e(n,t)}function ry(t,e){return(0,ny.format)("Error: context (%s): %o",e,t)}var Tk="Canceled";function Ek(t){return t instanceof Error&&t.name===Tk&&t.message===Tk}function ua(t){if(Jc(t))return t;let e=new Error((0,ny.format)("Error: %o",t));return e.cause=t,e}function kk(t,e){return Ur(t,mk,e)}function Pd(t,e){return Ur(t,gk,e)}function Rd(t){return Ur(t,hk,void 0)}function Ur(t,e,n){return rt(rW(t,e,n),"addWordToTarget")}function rW(t,e,n){return n=Xe(n),it("dictionaryHelper").addWordsToTargets(t,e,n)}function Sr(t,e){return(n,i)=>t(n,e,i)}var In=require("vscode");var R8=require("vscode");var Da=Fe(IF(),1),xA=require("vscode");var jf=Fe(bA(),1);var xr=require("vscode");var Mf=require("vscode");async function DA(t){try{return!!(await Mf.workspace.fs.stat(t)).type}catch(e){if(!(e instanceof Mf.FileSystemError))throw e;return!1}}var pv=xr.workspace.fs,TA={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0},c8=xr.FileSystemError.FileNotFound().code;TA[c8]=!0;async function u8(t){return await pv.createDirectory(t)}async function l8(t,e,n="utf8"){let i=hv(t);return i?d8(i,e):f8(t,e,n)}async function d8(t,e){let n=t.getText();if(n===e)return;let i=new xr.Range(t.positionAt(0),t.positionAt(n.length)),r=new xr.WorkspaceEdit;r.replace(t.uri,i,e),await xr.workspace.applyEdit(r),await t.save()}async function f8(t,e,n){return await pv.writeFile(t,Buffer.from(e,n))}async function p8(t,e){return Buffer.from(await pv.readFile(t)).toString(e)}function h8(t){return UE(t)?t.code in TA:!1}function hv(t){let e=t.toString(!0);return xr.workspace.textDocuments.find(n=>n.uri.toString(!0)===e)}var Jt={createDirectory:u8,writeFile:l8,readFile:p8,fileExists:DA,isFileNotFoundError:h8};function gv(t,e){let n={};for(let i of e)n[i]=t[i];return n}var EA=Symbol("format"),g8=[{match:/package\.json$/i,handler:t=>new Sv(t)},{match:/\.jsonc?$/i,handler:t=>new vv(t)},{match:/\.ya?ml$/i,handler:t=>new bv(t)}],m8=4,wA=2;async function Dv(t,e){try{return await Bf(t)._read()}catch(n){return Jt.isFileNotFoundError(n)?Promise.resolve(e):Promise.reject(n)}}function Tv(t,e){return Bf(t).write(e)}function Bf(t){return y8(t)}function y8(t){let e=C8(t);if(e)return e.handler(t);throw new Uf(t)}function C8(t){let n=t.with({fragment:"",query:""}).toString();for(let i of g8)if(i.match.test(n))return i}var wv={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};function kA(t,e){return t.catch(n=>{if(!Jt.isFileNotFoundError(n))throw n;return e})}var Uf=class extends Error{constructor(e){super(`Unhandled file type: "${yr.basename(e)}"`)}},mv=class extends Error{constructor(n,i,r){super(n);this.code=i;this.errno=r}},yv=class extends Error{};function qf(t){let e=T8(t),n=(0,Da.parse)(t);if(n==null)return{};if(typeof n!="object")throw new yv("Invalid cspell JSON file.");return v8(n,e)}function Cv(t,e,n=!0){let i=S8(t);e=i?.spaces||e||m8;let r=i?.newlineAtEndOfFile??!0,s=n?(0,Da.stringify)(t,null,e):JSON.stringify(t,null,e);return r?s+`
`:s}function v8(t,e){return t==null||typeof t!="object"||(t[EA]=e),t}function S8(t){if(!(t==null||typeof t!="object"))return t[EA]}function b8(t){return/\n$/.test(t)}function D8(t){let e=t.match(/^[ \t]+(?=")/m);if(e)return e[0]}function T8(t){return{spaces:D8(t),newlineAtEndOfFile:b8(t)}}var Mu=class{constructor(e){this.uri=e}async read(e){return gv(await this._read(),e)}update(e,n){return this._update(i=>e(gv(i,n)))}async mkdir(){return await Jt.createDirectory(xA.Uri.joinPath(this.uri,".."))}},vv=class extends Mu{async _update(e){let n=await kA(this._read(),wv),i=(0,Da.assign)(n,e(n));return this.write(i)}async write(e){await this.mkdir();let n=Cv(e),i=n[n.length-1]!==`
`?n+`
`:n;return Jt.writeFile(this.uri,i)}async _read(){let e=this.uri,n=await Jt.readFile(e,"utf8");return qf(n)}},Sv=class extends Mu{async _update(e){let n=await Jt.readFile(this.uri,"utf8"),i=qf(n),r=i.cspell||{...wv};return i.cspell=Object.assign(r,e(r)),Jt.writeFile(this.uri,Cv(i,wA,!1))}async write(e){let n=await Jt.readFile(this.uri,"utf8"),i=qf(n);return i.cspell=e,Jt.writeFile(this.uri,Cv(i,wA,!1))}async _read(){let e=await Jt.readFile(this.uri,"utf8"),n=qf(e);if(!n.cspell||typeof n.cspell!="object")throw new mv("`cspell` section missing from package.json","ENOENT");return n.cspell}},bv=class extends Mu{async _update(e){let n=await kA(this._read(),wv),i=Object.assign({},n,e(n));return this.write(i)}async write(e){return await this.mkdir(),Jt.writeFile(this.uri,(0,jf.stringify)(e))}async _read(){let e=await Jt.readFile(this.uri,"utf8");return(0,jf.parse)(e)}};var FA="#";function Ev(t){return new xv(t)}var w8=new Intl.Collator;function AA(t,e){return w8.compare(t,e)}var xv=class{_entries=[];constructor(e){this._entries=e.map(PA)}get words(){return this._entries.filter(IA).map(e=>e.word)}get entries(){return this._entries}addWords(e){let n=e.map(i=>typeof i=="string"?PA(i):i);this._entries.push(...n)}removeWords(e){let n=new Set(e);this._entries=this._entries.filter(i=>!i.word||!n.has(i.word))}sort(){let e=new Set,n=RA(this._entries);for(let i of n)i.words.sort((r,s)=>AA(r.word,s.word)),i.words=i.words.filter(r=>e.has(r.word)&&!r.comment?!1:(e.add(r.word),!0));this._entries=x8(n)}toString(){let n=RA(this._entries).map(i=>k8(i)).join("");return n.endsWith(`

`)?n.slice(0,-1):n}};function PA(t){let e=t.split("#",2);return e.length===1?{word:e[0].trim()}:e[0]?{word:e[0].trim()||" ",comment:FA+e[1].trimEnd()}:{comment:FA+e[1].trimEnd()}}function RA(t){let e=[],n={header:void 0,words:[],hasEmptyLines:!1};for(let i of t){if(E8(i)){n.header&&e.push(n),n={header:i,words:[],hasEmptyLines:!1};continue}if(!IA(i)){n.hasEmptyLines=!0;continue}n.words.push(i)}return e.push(n),e}function x8(t){return t.flatMap(e=>e.header?[e.header,...e.words,...e.hasEmptyLines?[{word:""}]:[]]:e.words)}function E8(t){return!!t.comment&&!t.word}function IA(t){return!!t.word}function k8(t){let e=F8(t.header),n=t.words.map(r=>P8(r)).join(""),i=t.hasEmptyLines||t.words.length?`
`:"";return e+n+i}function F8(t){return t?.comment?t.comment+`
`:""}function P8(t){return t.word+(t.comment?" "+t.comment:"")+`
`}var A8="0.2";var I8=[".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.yaml","cspell.yml","package.json","cspell.config.js","cspell.config.cjs","cspell.config.mjs",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.yaml",".config/cspell.yml",".config/cspell.config.js",".config/cspell.config.cjs"],_A=new Set(I8.map(t=>t.split("/").slice(-1)[0])),kv=Object.freeze(_A),_8=`**/{${[..._A].join(",")}}`;var Wf=".cspell",NA=["cspell.json","cspell.config.yaml","package.json"],xie=Object.freeze({version:A8});var N8=/[^\w\p{L}\p{M}_'’-]+/gu,L8=/^[\w\p{L}\p{M}_'’-]+$/u;function LA(t){return L8.test(t)}function Kr(t){return t=typeof t!="string"?t.join(" "):t,t.replace(N8," ").split(" ").map(e=>e.trim()).filter(e=>!!e).filter(oo())}var Bs=Fe(require("vscode"),1),cc=require("vscode");var NM=require("path"),Xt=require("vscode");function Cs(t,e){let n=O8(t,e);return{updateFn:r=>({[t]:n(r[t])}),keys:[t]}}function Fv(t,e){return{updateFn:typeof e=="function"?e:()=>e,keys:t}}function O8(t,e){return typeof e=="function"?e:()=>e}var tn=require("vscode");var $t="cSpell",qu=$t;var Ta=require("vscode");var Uu=require("vscode");function vs(t){if(!t)return Uu.window.activeTextEditor;let e=t.toString();for(let n of Uu.window.visibleTextEditors)if(n.document.uri.toString()===e)return n}function Er(t){if(!t)return;let e=t.toString();for(let n of Uu.workspace.textDocuments)if(n.uri.toString()===e)return n}var M8={git:!0,output:!0,debug:!0,vscode:!0},q8=Object.freeze(Object.assign(Object.create(null),M8));function Kf(t){if(t===void 0||t.scheme in q8)return;let e=U8(t);if(e){let n=$f(t);return n?{uri:n.notebook.uri,languageId:n.document.languageId}:e}if(t.scheme==="file")return t}function U8(t){let e=Er(t);if(e)return e;let n=new Set(Ta.workspace.workspaceFolders?.map(s=>s.uri.scheme)).add("file"),i,r=t.path;for(let s of Ta.workspace.textDocuments){let o=s.uri;if(o.path===r&&(i=s,n.has(o.scheme)))return s}return i}function j8(t){return t.scheme==="vscode-notebook-cell"}function ju(t){return $f(t.uri)}function $f(t){if(j8(t))for(let e of Ta.workspace.notebookDocuments){let i=e.getCells().find(r=>r.document.uri.toString()===t.toString());if(i)return i}}function Hf(t){let e=ju(t);return e?e.notebook:t}function OA(t){if(t){if(t instanceof Ta.Uri)return t;if("uri"in t)return t.uri}}var Ir=require("vscode");var Ki=require("vscode"),Os=Fe(ic());var Tl=require("vscode"),wl=Fe(ic()),ZO={[Tl.DiagnosticSeverity.Error]:wl.DiagnosticSeverity.Error,[Tl.DiagnosticSeverity.Warning]:wl.DiagnosticSeverity.Warning,[Tl.DiagnosticSeverity.Information]:wl.DiagnosticSeverity.Information,[Tl.DiagnosticSeverity.Hint]:wl.DiagnosticSeverity.Hint};function tM(t){return Os.CodeAction.is(t)}function nM(t){let e=t.kind!==void 0&&Ki.CodeActionKind.Empty.append(t.kind)||void 0,n=new Ki.CodeAction(t.title,e);return n.command=t.command&&t.command,n}function iM(t){return Os.Diagnostic.create(nw(t.range),t.message,ZO[t.severity],void 0,t.source)}function nw(t){let{start:e,end:n}=t;return Os.Range.create(eM(e),eM(n))}function eM(t){let{line:e,character:n}=t;return Os.Position.create(e,n)}function Nh(t){return t instanceof Ki.Position?t:Array.isArray(t)?new Ki.Position(t[0],t[1]):new Ki.Position(t.line,t.character)}function rM(t){return t instanceof Ki.Range?t:Array.isArray(t)?new Ki.Range(Nh(t[0]),Nh(t[1])):new Ki.Range(Nh(t.start),Nh(t.end))}var sM=["al","asciidoc","bat","c","clojure","coffeescript","cpp","csharp","css","dart","diff","dockerfile","elixir","erlang","fsharp","git-commit","git-rebase","github-actions-workflow","go","graphql","groovy","handlebars","haskell","html","ini","jade","java","javascript","javascriptreact","json","jsonc","julia","jupyter","latex","less","lua","makefile","markdown","objective-c","perl","perl6","php","plaintext","powershell","properties","pug","python","r","razor","restructuredtext","ruby","rust","scala","scminput","scss","shaderlab","shellscript","sql","swift","text","typescript","typescriptreact","vb","vue","xml","xsl","yaml"];var oM=require("vscode"),iw=class{listeners=new Set;send(e){for(let n of this.listeners)n(e)}listen(e){return this.listeners.add(e),new oM.Disposable(()=>this.listeners.delete(e))}};function Lh(){return new iw}var aM=Fe(require("assert"));var Oh=class{_attached=void 0;_resolve=()=>{};_reject=()=>{};_promise;constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}attach(e){this._attached!==e&&((0,aM.default)(this._attached===void 0,"Already Resolved"),this._attached=e,this._attached.then(this._resolve,this._reject).catch(()=>{}))}isPending(){return!this._attached}isResolved(){return!this.isPending()}};var K6={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function rw(t,e,n,i=K6){let r=[],s=G6(e.clientRequests,n),o=J6(e.clientNotifications,n);$6(t,i.clientRequests,s,r,n),H6(t,i.clientNotifications,o,r,n);let a=V6(t,i.serverRequests,e.serverRequests,n),c=z6(t,i.serverNotifications,e.serverNotifications,n);return ao({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},oa(r))}function $6(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;i.push(t.onRequest(c,u=>(r?.log(`handle request "${s}" %o`,u),a.publish(...u))))}}function H6(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;i.push(t.onNotification(a,u=>(r?.log(`handle notification "${s}" %o`,u),c.publish(...u))))}}function V6(t,e,n,i){let r=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...c)=>{let u=++r;return i?.log(`send request "${s}" %o: Params: %o`,u,c),t.sendRequest(o,c).then(f=>(i?.log(`send request "${s}" %o: Response: %o`,u,f),f))}]}))}function z6(t,e,n,i){return Object.fromEntries(Object.entries(n).map(([r])=>{let s=e+r;return[r,(...a)=>(i?.log(`send notification "${r}" %o`,a),t.sendNotification(s,a))]}))}function G6(t,e){function n([i,r]){if(!r)return;let s=Y6(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(cM))}function J6(t,e){function n([i,r]){if(!r)return;let s=X6(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(cM))}function X6(t,e){let n=new Set;async function i(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function r(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),Kn(()=>n.delete(s))}return{publish:i,subscribe:r}}function Y6(t,e){let n;async function i(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function r(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),Kn(()=>{n===s&&(n=void 0)})}return{publish:i,subscribe:r}}function cM(t){return t!==void 0}var uM=(t=>(t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=64]="SymbolicLink",t))(uM||{}),Mh="_",Z6={serverNotifications:Mh,serverRequests:Mh,clientNotifications:Mh,clientRequests:Mh};function sw(t,e,n){return rw(t,e,n,Z6)}var An=Fe(ic());var Ms=require("vscode");async function lM(t){let e=Ms.Uri.parse(t);return await Ms.workspace.fs.stat(e)}async function dM(t){let e=Ms.Uri.parse(t);return await Ms.workspace.fs.readDirectory(e)}async function fM(t){let e=Ms.Uri.parse(t),n=await Ms.workspace.fs.readFile(e);return{uri:t,encoding:"base64",content:Buffer.from(n).toString("base64")}}async function hM(t,e){let n=An.CodeActionRequest.type;return await t.sendRequest(n,e)}function gM(t){let n=sw(t,{serverRequests:{isSpellCheckEnabled:!0,getConfigurationForDocument:!0,getConfigurationTargets:!0,getSpellCheckingOffsets:!0,spellingSuggestions:!0,splitTextIntoWords:!0,traceWord:!0,checkDocument:!0},serverNotifications:{notifyConfigChange:!0,registerConfigurationFile:!0},clientNotifications:{onSpellCheckDocument:!0,onDocumentConfigChange:!0,onBlockFile:!0},clientRequests:{onWorkspaceConfigForDocumentRequest:!0,vfsReadDirectory:dM,vfsReadFile:fM,vfsStat:lM}},{log:()=>{}}),{serverNotification:i,serverRequest:r,clientNotification:s,clientRequest:o}=n;return{isSpellCheckEnabled:Yr(r.isSpellCheckEnabled,"isSpellCheckEnabled"),getConfigurationForDocument:Yr(r.getConfigurationForDocument,"getConfigurationForDocument"),getConfigurationTargets:Yr(r.getConfigurationTargets,"getConfigurationTargets"),getSpellCheckingOffsets:Yr(r.getSpellCheckingOffsets,"getSpellCheckingOffsets"),spellingSuggestions:Yr(r.spellingSuggestions,"spellingSuggestions"),notifyConfigChange:Yr(i.notifyConfigChange,"notifyConfigChange"),registerConfigurationFile:Yr(i.registerConfigurationFile,"registerConfigurationFile"),traceWord:Yr(r.traceWord,"traceWord"),checkDocument:Yr(r.checkDocument,"checkDocument"),onSpellCheckDocument:c=>s.onSpellCheckDocument.subscribe(qh(c,"onSpellCheckDocument")),onDocumentConfigChange:c=>s.onDocumentConfigChange.subscribe(qh(c,"onDocumentConfigChange")),onBlockFile:c=>s.onBlockFile.subscribe(qh(c,"onBlockFile")),onWorkspaceConfigForDocumentRequest:c=>o.onWorkspaceConfigForDocumentRequest.subscribe(qh(c,"onWorkspaceConfigForDocumentRequest")),dispose:n.dispose}}var e5=0,pM=!1,t5=!0,n5=!0;function Yr(t,e){return(...n)=>i5(n,t(...n),e)}function i5(t,e,n){return mM("Server R/N",t,e,n,t5)}function qh(t,e){return(...n)=>r5(n,t(...n),e)}function r5(t,e,n){return mM("Client R/N",t,e,n,n5)}async function mM(t,e,n,i,r){let s=++e5,o;r&&pM&&console.log("%s %i Start %s: %s(%o)",new Date().toISOString(),s,t,i,e);try{return o=await n,o}finally{r&&pM&&console.log("%s %i End   %s: %s, %o",new Date().toISOString(),s,t,i,o)}}var kM=Fe(EM(),1);function Bh(t=""){return Array.isArray(t)&&(t=t.join(",")),C5(t).join(",")}function C5(t=""){return t.replace(/[|;\s]/g,",").replace(/[*]/g,"").split(",").map(e=>(0,kM.normalizeCode)(e)).map(e=>e.trim()).filter(e=>!!e).filter(oo())}var v5=["--nolazy","--inspect=60048"],S5=qu+"Server",FM="||",Wh=class t{client;import=new Set;languageIds;allowedSchemas;serverApi;disposables=tt();broadcasterOnSpellCheckDocument=Lh();broadcasterOnDocumentConfigChange=Lh();broadcasterOnBlockFile=Lh();ready=new Oh;diagEmitter=new Ir.EventEmitter;constructor(e,n){let i=e.asAbsolutePath("packages/_server/dist/main.cjs"),r={enabledLanguageIds:Oo(Be.enabledLanguageIds,qs.Workspace),enableFiletypes:Oo(Be.enableFiletypes,qs.Workspace),enabledFileTypes:Oo(Be.enabledFileTypes,qs.Workspace),allowedSchemas:Oo(Be.allowedSchemas,qs.Workspace)||Bm,enabledSchemes:Oo(Be.enabledSchemes,qs.Workspace)};this.allowedSchemas=new Set(Hm(r)),Wm.clear(),this.allowedSchemas.forEach(l=>Wm.add(l)),this.languageIds=new Set([...n,...sM,...Vm(r)]);let s=(l,d)=>{this.diagEmitter.fire({uri:l,diagnostics:d})},o=[...this.languageIds],c={documentSelector:[...this.allowedSchemas].flatMap(l=>o.map(d=>({language:d,scheme:l}))),diagnosticCollectionName:S5,synchronize:{configurationSection:[wi,"search"]},middleware:{handleDiagnostics:s}},u=this.calcServerArgs(),f={execArgv:u},g={execArgv:[...u,...v5]},p={run:{module:i,transport:An.TransportKind.ipc,options:f},debug:{module:i,transport:An.TransportKind.ipc,options:g}};this.registerDisposable(this.broadcasterOnDocumentConfigChange.listen(l=>this.clearCacheGetConfigurationForDocument(l.uris))),this.client=new An.LanguageClient("cspell","Code Spell Checker Server",p,c),this.client.registerProposedFeatures(),this.serverApi=gM(this.client),e.subscriptions.push(this.serverApi),this.initWhenReady()}start(){return this.ready.isPending()&&this.ready.attach(this.client.start()),this.ready.promise}async restart(){try{gi.log("Restarting the server"),await this.client.restart(),gi.log("Server restarted")}catch(e){gi.error(`Failed to restart the server: ${ua(e).message}`)}}async isSpellCheckEnabled(e){let{uri:n,languageId:i=""}=e;return!n||!i?{uri:n}:{...await this.serverApi.isSpellCheckEnabled({uri:n.toString(),languageId:i}),uri:n}}async getConfigurationTargets(e){let{uri:n,languageId:i}=e||{},r={configTargets:[]};try{let s=dw(n);return!n||!s.uri?await this.serverApi.getConfigurationTargets({workspaceConfig:s}):await this.serverApi.getConfigurationTargets({uri:n.toString(),languageId:i,workspaceConfig:s})}catch(s){return console.error(`Failed to get configuration for document: ${n} ${i} ${s}`),r}}#e=this.factoryGetConfigurationForDocument();getConfigurationForDocument(e,n){return this.#e(e,n)}async _getConfigurationForDocument(e,n){let{uri:i,languageId:r}=e||{},s={enabled:void 0,enabledVSCode:void 0,configFiles:[],configTargets:[],fileEnabled:!1,fileIsIncluded:!1,fileIsExcluded:!1};try{let o=dw(i);return!i||!o.uri?await this.serverApi.getConfigurationForDocument({workspaceConfig:o,fields:n}):await this.serverApi.getConfigurationForDocument({uri:i.toString(),languageId:r,workspaceConfig:o,fields:n})}catch(o){return console.error(`Failed to get configuration for document: ${i} ${r} ${o}`),s}}cacheGetConfigurationForDocument=new Map;factoryGetConfigurationForDocument(){return(e,n)=>{let i=e?.uri?.toString()+FM+Object.keys(n).sort().join(","),r=this.cacheGetConfigurationForDocument.get(i);if(r)return r;let s=this._getConfigurationForDocument(e,n);return this.cacheGetConfigurationForDocument.set(i,s),s}}clearCacheGetConfigurationForDocument(e){if(!e){this.cacheGetConfigurationForDocument.clear();return}let n=new Set(e.map(i=>Ir.Uri.parse(i).toString()));for(let i of this.cacheGetConfigurationForDocument.keys()){if(!i)continue;let r=i?.split(FM)[0];n.has(r)&&this.cacheGetConfigurationForDocument.delete(i)}}notifySettingsChanged(){return this.clearCacheGetConfigurationForDocument(),setTimeout(()=>this.clearCacheGetConfigurationForDocument(),250),lo(this.whenReady(()=>this.serverApi.notifyConfigChange()),"notifySettingsChanged")}registerConfiguration(e){return dn(this.whenReady(()=>this.serverApi.registerConfigurationFile(e)),"registerConfiguration")}get diagnostics(){return this.client&&this.client.diagnostics||void 0}triggerSettingsRefresh(){return this.notifySettingsChanged()}async whenReady(e){return await this.onReady(),await e()}onReady(){return this.ready.promise}static create(e){return Promise.resolve(Ir.languages.getLanguages().then(n=>new t(e,n)))}registerDisposable(...e){this.disposables.push(...e)}dispose(){this.client.stop(),this.disposables.dispose()}calcServerArgs(){return[]}onSpellCheckDocumentNotification(e){return this.broadcasterOnSpellCheckDocument.listen(e)}onDocumentConfigChangeNotification(e){return this.broadcasterOnDocumentConfigChange.listen(e)}onBlockFile(e){return this.broadcasterOnBlockFile.listen(e)}async requestSpellingSuggestionsCodeActions(e,n,i){let r={textDocument:An.TextDocumentIdentifier.create(e.uri.toString()),range:nw(n),context:An.CodeActionContext.create(i.map(iM))},s=await hM(this.client,r);return s?s.filter(tM).map(nM):[]}async requestSpellingSuggestions(e,n){let i={uri:n.uri.toString()};return this.serverApi.spellingSuggestions(e,i)}onDiagnostics(e){return rs(this.diagEmitter.event(e))}async initWhenReady(){await this.onReady(),this.registerHandleNotificationsFromServer(),this.registerHandleOnWorkspaceConfigForDocumentRequest()}registerHandleOnWorkspaceConfigForDocumentRequest(){this.registerDisposable(this.serverApi.onWorkspaceConfigForDocumentRequest(b5))}registerHandleNotificationsFromServer(){this.registerDisposable(this.serverApi.onSpellCheckDocument(e=>this.broadcasterOnSpellCheckDocument.send(e)),this.serverApi.onDocumentConfigChange(e=>this.broadcasterOnDocumentConfigChange.send(e)),this.serverApi.onBlockFile(e=>this.broadcasterOnBlockFile.send(e)))}};function b5(t){let{uri:e}=t,n=Ir.Uri.parse(e);return dw(n)}function dw(t){let e=Kf(t),n=OA(e),i=Kh(e,["words","userWords","ignoreWords"]),r=Ir.workspace.workspaceFile?.toString(),s=n&&Ir.workspace.getWorkspaceFolder(n)?.uri.toString(),o=r!==void 0,a=lw(i.userWords,o),c=lw(i.words,o),u=lw(i.ignoreWords,o);return c.user=a.user,{uri:n?.toString(),workspaceFile:r,workspaceFolder:s,words:c,ignoreWords:u}}function lw(t,e){if(!t)return{};let{globalValue:n,workspaceValue:i,workspaceFolderValue:r}=t;return{user:n!==void 0||void 0,workspace:i!==void 0||void 0,folder:e&&(r!==void 0||void 0)}}var El=class{constructor(e,n=1e3,i=5e3){this.getConfigurationForDocument=e;this.staleTimeMs=n;this.maxAgeMs=i;this.configs=new Map}configs=new Map;get(e){let n=this.configs.get(e.toString());if(!n||!n.config||this.isTooOld(n)){this.fetch(e);return}return this.isState(n)||this.fetch(e),n.config}set(e,n){let i=e.toString(),r=this.configs.get(i)||{config:n,timestamp:performance.now(),pending:void 0};r.config=n,this.configs.set(i,r)}delete(e){let n=e.toString();return this.configs.delete(n)}clear(){this.configs.clear()}async fetchAsync(e,n){try{let i=await this.getConfigurationForDocument(e);return n.config=i,n.timestamp=performance.now(),n.pending=void 0,i}finally{n.pending=void 0,this.cleanup()}}fetch(e){let n=e.toString(),i=this.configs.get(n)||{config:void 0,timestamp:performance.now(),pending:void 0};if(i.pending)return i.pending;this.configs.set(n,i);let r=this.fetchAsync(e,i);return i.pending=r,r}isState(e){return e.timestamp+this.staleTimeMs>performance.now()}isTooOld(e){return e.timestamp+this.maxAgeMs<performance.now()}cleanup(){for(let[e,n]of this.configs)!n.pending&&this.isTooOld(n)&&this.configs.delete(e)}};var an=require("vscode"),wi=$t,Voe=tn.ConfigurationTarget.Global,qs={Default:"defaultValue",Global:"globalValue",Workspace:"workspaceValue",Folder:"workspaceFolderValue"},RM=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],D5=new Map(RM.map((t,e)=>[t,e]));function AM(t){return[wi,t].filter(e=>!!e).join(".")}function Qr(t,e){return kl(e).get(wi,{})[t]}function Oo(t,e){return T5(t,e).value}function T5(t,e){e=P5(e);let n=w5(t,e.resource);return A5(n,e.scope)}function w5(t,e){return x5(e,t)}function hw(t){return kl(t).inspect(wi)||{key:wi}}function x5(t,e){let n=kl(t),i=[wi,e].join(".");return n.inspect(i)||{key:i}}function E5(t,e){let n=[wi,e].join(".");return t.inspect(n)||{key:n}}function Kh(t,e){let n=kl(t),i={};for(let r of e){let s={[r]:E5(n,r)};Object.assign(i,s)}return i}function k5(t){return typeof t=="object"&&t.target!==void 0}var zoe={[tn.ConfigurationTarget.Global]:"globalValue",[tn.ConfigurationTarget.Workspace]:"workspaceValue",[tn.ConfigurationTarget.WorkspaceFolder]:"workspaceFolderValue"},Goe={[tn.ConfigurationTarget.Global]:"user",[tn.ConfigurationTarget.Workspace]:"workspace",[tn.ConfigurationTarget.WorkspaceFolder]:"folder"};function F5(t){return typeof t=="object"}function P5(t){return F5(t)?{scope:t.scope,resource:t.scope===qs.Folder?R5(t.resource):void 0}:{scope:t,resource:void 0}}function R5(t){if(t)return tn.workspace.getWorkspaceFolder(t)?.uri}function A5(t,e){for(let n=D5.get(e);n!==void 0&&n>=0;n-=1){let i=RM[n],r=t[i];if(r!==void 0)return{scope:i,value:r}}return{scope:"defaultValue",value:void 0}}function kl(t){return tn.workspace.getConfiguration(void 0,O5(t))}function gw(t){return k5(t)?t:{target:t,uri:void 0}}function mw(t,e,n,i){let r={},s=Kh(e,n),o=i?I5:_5;for(let a of n)o(r,t,a,s);return r}function I5(t,e,n,i){let r=i[n],s=L5(e,r);s!==void 0&&(t[n]=s)}function _5(t,e,n,i){let r=i[n],s=N5(e,r);s!==void 0&&(t[n]=s)}function N5(t,e){if(e!==void 0)switch(t){case tn.ConfigurationTarget.Global:return e.globalLanguageValue??e.globalValue;case tn.ConfigurationTarget.Workspace:return e.workspaceLanguageValue??e.workspaceValue;case tn.ConfigurationTarget.WorkspaceFolder:return e.workspaceFolderLanguageValue??e.workspaceFolderValue}}function L5(t,e){if(e===void 0)return;let n=pw(e.defaultValue,e.defaultLanguageValue,e.globalValue,e.globalLanguageValue);if(t===tn.ConfigurationTarget.Global||(n=pw(n,e.workspaceValue,e.workspaceLanguageValue),t===tn.ConfigurationTarget.Workspace))return n;if(n=pw(n,e.workspaceFolderValue,e.workspaceFolderLanguageValue),t!==tn.ConfigurationTarget.WorkspaceFolder)throw new Error(`Unknown Config Target "${t}"`);return n}function pw(...t){let e;for(let n of t)if(n!==void 0){if(typeof e!="object"||typeof n!="object"||Array.isArray(n)||Array.isArray(e)){e=n;continue}e=Object.assign({},e,n)}return e}async function yw(t,e,n,i,r){let s=mw(t,e,n,r),o=i(s),a=kl(e);await Object.entries(o).map(([c,u])=>a.update(`${$t}.${c}`,u,t))}function O5(t){return M5(t)?Kf(PM(t)):q5(t)?IM(t.uri)?t:{...t,uri:PM(t.uri)}:t}function PM(t){return IM(t)?t:tn.Uri.parse(t.toString())}function M5(t){if(!t||typeof t!="object")return!1;let e=t;return e.authority!==void 0&&e.fragment!==void 0&&e.path!=null&&e.query!=null&&e.scheme!=null}function IM(t){return t instanceof tn.Uri}function q5(t){return!t||typeof t!="object"?!1:t.uri!==void 0}function _M(t,e,n){return new Cw(t,e,n)}var Cw=class{constructor(e,n,i){this.target=e;this.scope=n;this.useMerge=i;this.name=_i(e)}name;async read(e){return mw(this.target,this.scope,e,this.useMerge)}async write(e){await yw(this.target,this.scope,[],()=>e,!1)}async update(e,n){await yw(this.target,this.scope,n,e,this.useMerge)}};var $h=class{setValue(e,n){return this.update(Cs(e,n))}updateValue(e,n){return this.update(Cs(e,n))}};function Fl(t,e){let n=j5(t)?t:Bf(t),i=!!Qr(Be.autoFormatConfigFile,n.uri);return new Mo(n,e,i)}function Hh(t,e,n){let i=U5(t)?t:_M(t,e,!!n);return new rc(i)}function U5(t){return typeof t=="object"&&!!t.read&&!!t.write}function j5(t){let e=t;return!!e.update&&!!e.uri}var Mo=class t extends $h{constructor(n,i,r){super();this.configRW=n;this.formatConfig=r;this.name=i||Ai(n.uri),this.kind="cspell",this.configFileUri=n.uri}name;kind;defaultDictionaryScope;configFileUri;getValue(n){return this.configRW.read([n])}async update(n){let i=this.formatConfig,r=this.configFileUri,s=hv(r);if(s&&s.isDirty){let o=NM.posix.basename(r.path),a=await Xt.window.showInformationMessage(`Save "${o}"?`,"Yes","No","Open");if(a==="Open"){await Xt.window.showTextDocument(s);return}if(a!=="Yes")return;await s.save(),await Xt.workspace.save(s.uri)}await this.configRW.update(K5(n),n.keys),i&&await B5(r)}static isCSpellConfigRepository(n){return n instanceof t}};async function B5(t){let e=await Xt.workspace.openTextDocument(t),n=await Xt.commands.executeCommand("vscode.executeFormatDocumentProvider",t);if(!n||!n.length)return;let i=new Xt.WorkspaceEdit;i.set(t,n),await Xt.workspace.applyEdit(i),await Xt.workspace.save(e.uri),await H5(1e3),e.isDirty&&await Xt.workspace.save(e.uri)}var rc=class t extends $h{constructor(n){super();this.rw=n;this.name=n.name,this.defaultDictionaryScope=_i(n.target),this.kind="vscode"}name;kind;defaultDictionaryScope;get target(){return this.rw.target}get scope(){return this.rw.scope}getWorkspaceFolder(){if(this.defaultDictionaryScope==="user")return;if(this.defaultDictionaryScope==="workspace")return Xt.workspace.workspaceFolders?.[0];let n=this.scope;if(n)return W5(n)?n:vw(n)?Xt.workspace.getWorkspaceFolder(n):$5(n)?Xt.workspace.getWorkspaceFolder(n.uri):Xt.workspace.workspaceFolders?.[0]}update(n){let{fn:i,keys:r}=this.mappers(n.keys,n.updateFn);return this.rw.update(i,r)}getValue(n){return this.rw.read([n])}mappers(n,i){if(this.target!==Xt.ConfigurationTarget.Global)return{fn:i,keys:n};let r=new Set(n);r.has(Be.words)&&r.add(Be.userWords);function s(c){let{userWords:u,words:f,...g}=c,p={...g};return(r.has(Be.userWords)||u||f)&&(p.words=u?.concat(f??[])??f),p}function o(c){let{words:u,userWords:f,...g}=c,p={...g};return Object.keys(c).includes(Be.words)&&(p.words=void 0,p.userWords=u?.concat(f||[])),p}return{fn:c=>o(i(s(c))),keys:[...r]}}static isVSCodeRepository(n){return n instanceof t}};function W5(t){if(!t)return!1;let e=t;return vw(e.uri)&&typeof e.name=="string"&&typeof e.index=="number"}function K5(t){return e=>t.updateFn(nk(e,t.keys))}function $5(t){return typeof t!="object"?!1:vw(t.uri)}function vw(t){if(typeof t!="object")return!1;if(t instanceof Xt.Uri)return!0;let e=t;return e.scheme!==void 0&&e.authority!==void 0&&e.path!==void 0}function H5(t){return new Promise(e=>setTimeout(e,t))}var V5=new Set(["dictionary","cspell","vscode"]);function Pl(t){if(!V5.has(t.kind))throw new Error(`Unknown target ${t.kind}`);switch(t.kind){case"dictionary":return;case"cspell":return Fl(Xe(t.configUri),t.name);case"vscode":return Hh(Td(t.scope),t.configScope||t.docUri,!!t.useMerge)}}function LM(t,e){let i=e.map(MM).map(r=>r.update(t));return Promise.all(i).then(()=>{})}function OM(t,e){let n=e.map(async i=>{let s=await MM(i).getValue(t);return[i,s]});return Promise.all(n)}function MM(t){let e=Pl(t);if(e===void 0)throw new Sw(t);return e}var Sw=class extends Error{constructor(n){super(`Cannot find appropriate config repository for ${n.kind}:${n.name}`);this.target=n}};function Vh(t,e){return OM(e,t)}function Rl(t,e,n,i){t=i?Fd(t,i):t;let r=Cs(e,n);return LM(r,t)}function bw(t){let e=t.map(r=>r.scope),n=Vc(e,!0),i=[];return n.map(r=>t.filter(s=>s.scope===r)).forEach(r=>r.forEach(s=>i.push(s))),i}async function sc(t,e,n){t=bk(t,e);let i=await Ed(t);if(!(!i||!i.length))return Rl(i,e,n)}function qM(t,e,n){let i;for(let[r,s]of[...t].reverse()){if(r===e)break;i??=s[n]}return i}function Dw(t){let{targets:e,scopes:n}=t,i=new Set(Vc(n)),r=bw(e),s=r.filter(o=>i.has(o.scope));return{targets:e,possibleScopes:n,orderedTargets:r,possibleTargets:s}}var Us=require("vscode");var zh=Fe(require("vscode"),1);function z5(t){let e=t.toString();return zh.window.visibleTextEditors.map(i=>i.document).filter(i=>!!i).filter(i=>i.uri.toString()===e)[0]}function UM(t){let e=t.toString();return((zh.workspace||{}).textDocuments||[]).filter(r=>r.uri.toString()===e)[0]||z5(t)}function Gh(t){switch(t.kind){case"vscode":return G5(t);case"cspell":return J5(t);case"dictionary":return X5(t)}}function G5(t){let{name:e,kind:n,scope:i,docUri:r}=t;return{name:e,kind:n,scope:i,docUri:Xe(r),configScope:void 0}}function J5(t){let{name:e,kind:n,scope:i,configUri:r,docUri:s}=t;return{name:e,kind:n,scope:i,docUri:Xe(s),configUri:Xe(r)}}function X5(t){let{name:e,kind:n,scope:i,dictionaryUri:r,docUri:s}=t;return{name:e,kind:n,scope:i,docUri:Xe(s),dictionaryUri:Xe(r)}}async function Jh(t,e,n,i){let r=i?[Qm(t)]:lk(t),s=Gc(uo,zc,{dictionary:!1});return e=Xe(e),{targets:(await(e?qo(e,s):Xh(Us.window.activeTextEditor?.document,s))).map(a=>a.kind==="vscode"?{...a,configScope:n}:a),scopes:r}}async function jM(t,e,n){let i=await Jh(t,e,n),{targets:r,scopes:s}=i,o=new Set(s);return r.filter(a=>o.has(a.scope))}async function Xh(t,e=xd){let{uri:n,languageId:i}=t||{},s=(await it("client").getConfigurationForDocument({uri:n,languageId:i},{})).configTargets.map(Gh);return Fd(s,e)}async function qo(t,e=xd){t=Xe(t);let n=t?await Y5(t):Us.window.activeTextEditor?.document;return Xh(n,e)}async function Y5(t){let e=UM(t);return e||((await Us.workspace.fs.stat(t)).type!==Us.FileType.File?{uri:t}:await Us.workspace.openTextDocument(t))}var oc="enabled";function Uo(t,e){let{possibleTargets:n}=Dw(t);return sc(n,oc,e)}async function ac(t){let{possibleTargets:e,orderedTargets:n}=Dw(t),i=new Map(await Vh(n,oc)),r=e.filter(g=>i.get(g)?.[oc]!==void 0);if(!e.length)return;let s=r[r.length-1]??e[e.length-1],o=i.get(s)?.[oc],c=qM(i,s,oc)??!0,u=o??c,f=c!==u?void 0:!u;return Rl([s],oc,()=>f)}async function Yh(t,e,n,i){n=n.map(g=>({...g,useMerge:g.useMerge??g.kind==="vscode"}));let r=new Set(Vc(i)),s=new Set(bw(n)),o=new Map(await Vh([...s],"language")),a=new Set([...s].filter(g=>r.has(g.scope)));if(!e)[...o].filter(([g,p])=>!e7(t,p.language)).forEach(([g])=>a.delete(g));else{let g=[...a],p=new Set([...o].filter(([d,h])=>t7(t,h.language)).map(([d])=>d)),l=!1;for(let d of a)l=l||p.has(d),l&&a.delete(d);a.size||g.filter(d=>!p.has(d)).forEach(d=>a.add(d))}let c=a.size>1?await kd([...a]):[...a][0];if(!c)return;let u=n7("language",c,o);return Rl([c],"language",e?g=>Q5(t,g||u):g=>Z5(t,g))}function js(t){return Bh(t).split(",").filter(e=>!!e)}function Q5(t,e){let n=js(t),i=new Set(js(e||""));return n.forEach(r=>i.add(r)),[...i].join(",")||void 0}function Z5(t,e){let n=js(t),i=new Set(js(e||""));return n.forEach(r=>i.delete(r)),[...i].join(",")||void 0}function e7(t,e){if(!t||!e)return!1;let n=new Set(js(t)),i=js(e);for(let r of i)if(n.has(r))return!0;return!1}function t7(t,e){if(!t||!e)return!1;let n=new Set(js(e)),i=js(t);for(let r of i)if(!n.has(r))return!1;return!0}function n7(t,e,n){let i=[...n].reverse(),r;for(let[s,o]of i)if(r??=o[t],s===e)break;return r}function i7(t){return t&&Bs.workspace.getWorkspaceFolder(t)||cc.workspace.workspaceFolders?.[0]}function Tw(t,e){let n=Kr(e);return sc(t,"ignoreWords",i=>Km(n.concat(i||[]).sort()))}function BM(t,e){return{...e,...t}}function Qh(t,e){return sc(e,"enabledFileTypes",i=>BM(t,i))}var r7={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};async function s7(t,e){let n=await Dv(t);if(!e&&n&&Object.keys(n).length>1){let i="Overwrite",r="Open";switch(await Bs.window.showWarningMessage("Configuration file already exists.",{modal:!0},i,r)){case i:break;case r:await Bs.window.showTextDocument(t);return;default:return}}return await Tv(t,r7),t}async function o7(t){let e=cc.Uri.joinPath(t,"package.json");try{return(await cc.workspace.fs.stat(e)).type===Bs.FileType.File}catch{return!1}}function a7(t){return o7(t.uri)}var c7="Unable to determine location for configuration file.";async function ww(t,e){let n=i7(t);if(!n)throw new Error(c7);let i=new Set(NA);await a7(n)||i.delete("package.json");let r=await Bs.window.showQuickPick([...i],{title:"Choose config file"});if(!r)return;let s=cc.Uri.joinPath(n.uri,r);return await s7(s,e),s}async function Ws(t,e){let n=await qo(e);return Qh(t,n)}function u7(t,e){return sc(e,"enabledSchemes",i=>BM(t,i))}async function WM(t,e){let n=await qo(e);return u7(t,n)}function Zh(t,e){if(l7(t))return t;let n=t.match(/^\/(.*)\/([gimsuy]*)$/);return n?new RegExp(n[1],n[2]||void 0):new RegExp(t,e)}function l7(t){return t instanceof RegExp}var xw=require("vscode");function Ks(t,e,n=iy){let i=Promise.resolve(t).then(()=>{});return rt(i,e,n)}function eg(t){return Ks(xw.window.showErrorMessage(t),"showErrorMessage helper")}function d7(...t){return lo(xw.window.showInformationMessage(...t),"pvShowInformationMessage")}function Ew(t){return Ks(d7(t),"pvShowInformationMessage")}var f7=Be.fixSpellingWithRenameProvider,p7=Be["advanced.feature.useReferenceProviderWithRename"],h7=Be["advanced.feature.useReferenceProviderRemove"];function g7(t,e,n){let i=e.toString();return t.filter(r=>(!n||r.range.contains(n))&&r.uri.toString()===i)}async function m7(t,e){try{let n=await In.commands.executeCommand("vscode.executeReferenceProvider",t,e.start);return!Array.isArray(n)||!n.length?void 0:n}catch{return}}async function y7(t,e,n){if(n){let r=await m7(t.uri,e);if(r!==void 0)return{locations:r,refUsed:!0}}let i=t.getWordRangeAtPosition(e.start);if(!(!i||!i.contains(e)))return{locations:[new In.Location(t.uri,i)],refUsed:!1}}async function C7(t,e,n){let i=await y7(t,e,n);if(!i)return;let r=g7(i.locations,t.uri,e)[0];if(r)return{range:r.range,referenced:i.refUsed}}function v7(t,e){function n(i){return t.asTextEdit(i)}return e.map(n)}function S7(t,e){let n=new In.WorkspaceEdit;return n.set(t,e),n}async function b7(t,e,n){let{range:i,newText:r}=e;if(i.start.line!==i.end.line)return;let{useReference:s,removeRegExp:o}=n,a=await C7(t,i,s);if(!a||!a.range.contains(i)||!a.referenced)return;let c=a.range,u=c.start.character,f=i.start.character-u,g=i.end.character-u,p=t.getText(c),l=[p.slice(0,f),r,p.slice(g)].join(""),d=o?l.replace(o,""):l,h=await dn(In.commands.executeCommand("vscode.executeDocumentRenameProvider",t.uri,i.start,d),"attemptRename");return h?.size&&h||void 0}async function KM(t,e,n){let i=it("client").client.protocol2CodeConverter;return T7(t,v7(i,n),e)}function kw(t){let e=In.workspace.getConfiguration(wi,t),n=!!e.get(f7),i=!!e.get(p7),r=x7(e.get(h7));return{useRename:n,useReference:i,removeRegExp:r}}async function D7(t,e,n){if(e.length===1&&n.useRename){let i=e[0],r=await b7(t,i,n);if(r)return r}return S7(t.uri,e)}async function T7(t,e,n){let i=Er(t);if(!i)return eg(`Unable to find document: ${t}`);if(n&&i.version!==n)return eg("Spelling changes are outdated and cannot be applied to the document.");let r=kw(i),s=await Fw(i,e,r);await VM(s,"Failed to apply spelling changes to the document.")}async function w7(t,e){return await xk(In.workspace.applyEdit(t),e)}function x7(t,e="g"){if(t)try{return Zh(t,e)}catch{console.log("Invalid Regular Expression: %s",t)}}async function $M(t,e,n,i){let r=Er(t);if(!r)return tg("Unable to find document.");for(let a of i)if(r.getText(a)!==e)return tg();let s=i.map(a=>new In.TextEdit(a,n));return await Fw(r,s,kw(r))?void 0:tg()}async function ng(t){t??=In.window.activeTextEditor?.document.uri;let e=vs(t)?.document||Er(t);if(!t||!e)return Ew("Unable to fix spelling issues in current document, document not found.");let i=it("issueTracker").getSpellingIssues(t)?.map(s=>({issue:s,suggestions:s.providedSuggestions()})).filter(({issue:s,suggestions:o})=>o?.[0]?.isPreferred&&!o?.[1]?.isPreferred&&s.word&&s.isIssueTypeSpelling()&&!s.isSuggestion()).filter(({issue:s})=>e.getText(s.range)===s.word).map(({issue:s})=>{let o=s.providedSuggestions()?.[0].word;return HM(o!==void 0),new In.TextEdit(s.range,o)});if(!i?.length){let s=Ai(t);return Ew(`No auto fixable spelling issues found in ${s}.`)}let r=await Fw(e,i,kw(e));await VM(r,"Failed to apply spelling changes to the document.")}function HM(t,e="A truthy value is expected."){if(!t)throw Error(e)}function E7(t){return t.sort((e,n)=>e.range.start.line-n.range.start.line||e.range.start.character-n.range.start.character)}function k7(t,e){let n=[];for(let i of e)i.range.intersection(t)&&n.push(i);return n}function F7(t,e,n){let i=t.get(e.uri);if(!i)return[];let r=new Set(n),s=new Set;for(let o of i){let a=k7(o.range,r);for(let c of a)s.add(c),r.delete(c)}return[...s]}function P7(t,e){for(let[n,i]of e)t.set(n,i)}async function R7(t,e,n){let i=new Set(E7(e)),r=new In.WorkspaceEdit;for(;i.size;){let s=i.size,o=i.values().next();if(o.done)break;let a=o.value,c=await D7(t,[a],n);P7(r,c.entries());let u=F7(c,t,e);for(let f of u)i.delete(f);HM(s>i.size,"No progress was made.")}return r}async function Fw(t,e,n){let i=it("eventLogger");for(let s of e){let o=t.getText(s.range);o!==s.newText&&o&&s.newText&&i.logReplace(o,s.newText)}let r=await R7(t,e,n);return w7(r,"applyTextEditsToDocumentWithRename")}async function VM(t,e){return t||await tg(e),t}function tg(t){return eg(t||"Failed to apply spelling changes to the document.")}var Zr=require("vscode");var uc=Fe(require("vscode"),1);var JM=require("vscode");var zM=require("vscode");var A7=require("vscode");function Pw(){let t=[];for(let e of zM.window.tabGroups.all)for(let n of e.tabs){let{label:i,input:r}=n;I7(r)&&t.push({tab:n,label:i,uri:r.uri})}return t}function I7(t){return!t||typeof t!="object"?!1:"uri"in t}function GM(t){let e=t.toString();return Pw().some(i=>i.uri.toString()===e)}var _7=new Set(["vscode-scm"]);function ig(t){if(!t)return()=>!0;let e=Pw(),n=new Set([...e.map(i=>i.uri.toString()),...JM.window.visibleTextEditors.map(i=>i.document.uri.toString())]);return i=>n.has(i.toString())||_7.has(i.scheme)}function Hi(t,e){let n=Kc().issueTracker;if(!t)return[];let i=n.rawIssues(t);return(e!==void 0?i?.filter(s=>s.isIssueType(e)):i)?.map(s=>s.diag)||[]}function XM(t,e=qu){return t.filter(n=>n.source===e)}function YM(t,e,n){return!t||!n?void 0:Rw(t,e,n)?.map(r=>t.getText(r))}function Rw(t,e,n){if(!t||!n)return;let i=e&&t.getText(e);return n.map(s=>s.range).map(s=>N7(i,e,s)).filter(vn)}function N7(t,e,n){if(!e||t===void 0||n.contains(e))return n;let i=e.intersection(n);if(!(!i||i.isEmpty))return LA(t)?e:n}function QM(t,e){let n=tt(),i=Kc().issueTracker,r=uc.default.languages.createDiagnosticCollection(qu),s,o=!0;function a(){let g=uc.default.workspace.getConfiguration($t);o=!g.get(Be.useCustomDecorations),s=g.get(Be.doNotUseCustomDecorationForScheme)}function c(g){let p=g.scheme,l=s?.[p];return l?!!l:o}function u(g){if(!t){r.clear();return}g||(r.clear(),g=i.getUrisWithIssues()),r.forEach(l=>{c(l)||r.delete(l)});let p=ig(!0);for(let l of g){if(!c(l)){r.set(l,void 0);continue}let d=p(l)&&i.getSpellingIssues(l)||void 0;r.set(l,d?.map(h=>h.diag))}for(let[l]of r)c(l)||p(l)||r.set(l,void 0)}function f(g){u()}return n.push(r,e(g=>{t=g,u()}),uc.default.workspace.onDidChangeConfiguration(a),uc.default.window.onDidChangeVisibleTextEditors(f),uc.default.window.tabGroups.onDidChangeTabs(f),i.onDidChangeDiagnostics(({uris:g})=>u(g))),a(),n}async function Aw(t,e,n){let i=vs(t),r=i?.document,s=i?.selection,o=e&&rM(e),a=o||s&&r?.getWordRangeAtPosition(s.active),c=r?Hi(r.uri):void 0,u=Rw(r,s,c),f=o||u?.[0]||a,g=f&&c?.filter(m=>!!m.range.intersection(f));if(!r||!s||!f||!g)return Ks(Zr.window.showInformationMessage("Nothing to suggest."),"actionSuggestSpellingCorrections");if(Qr(Be.suggestionMenuType,r)==="quickFix"&&i)return o&&(i.selection=new Zr.Selection(o.start,o.end)),await Zr.commands.executeCommand("editor.action.quickFix");let l=await Iw(r,f,g);if(!l||!l.length)return Ks(Zr.window.showInformationMessage(`No Suggestions Found for ${r.getText(f)}`),"actionSuggestSpellingCorrections");let d=l.map(m=>({label:m.title,_action:m})),h=await Zr.window.showQuickPick(d);if(h&&h._action.command){let{command:m,arguments:C=[]}=h._action.command;Zr.commands.executeCommand(m,...C)}}function Iw(t,e,n){return it("client").requestSpellingSuggestionsCodeActions(t,e,n)}var _r=require("vscode");var ZM=new Intl.Collator().compare;function tq(t,e){return async function(n,i){let r=await L7(t,n,i);if(!r)return;let s=_r.window.activeTextEditor;await e(r.text,r.uri),await(s?.document&&_r.window.showTextDocument(s.document))}}async function L7(t,e,n){if(n=n?Xe(n):e instanceof _r.Uri?e:void 0,typeof e=="string"&&e)return{text:e,uri:n||_r.window.activeTextEditor?.document.uri};let i=vs(n),r=i?.document,s=i?.selection,o=s&&r?.getWordRangeAtPosition(s.active),a=r?Hi(r.uri):void 0,c=Kr(YM(r,s,a)||[]);if(c.length){let p=s?.anchor.isEqual(s.active)&&c.length===1?c:await eq(c.sort(ZM),{title:t,placeHolder:"Choose words"});return p?{text:p.join(" "),uri:r?.uri}:void 0}if(!o||!s||!r||!r.getText(o)){let p=await _r.window.showInputBox({title:t,prompt:t});return p?{text:p,uri:r?.uri}:void 0}let u=s.contains(o)?r.getText(s):r.getText(o),f=Kr(u),g=f.length>1?await eq(f.sort(ZM),{title:t,placeHolder:"Choose words"}):[await _r.window.showInputBox({title:t,prompt:t,value:f[0]})];if(g)return{text:g.join(" "),uri:r.uri}}async function eq(t,e){if(t.length<=1){let r=await _r.window.showInputBox({...e,value:t[0]});return r?[r]:void 0}let n=t.map(r=>({label:r,picked:!0}));return(await _r.window.showQuickPick(n,{...e,canPickMany:!0}))?.map(r=>r.label)}var sq=require("util"),rg=require("vscode");function nq(t){return Cs("words",_w(t))}function iq(t){return Cs("words",Nw(t))}function _w(t=[]){return e=>{let n=Ev(e||[]);return n.addWords(t),n.sort(),n.toString().split(`
`).slice(0,-1)}}function Nw(t){return e=>{let n=Ev(e||[]);return n.removeWords(t),n.sort(),n.toString().split(`
`).slice(0,-1)}}var $s=require("vscode");async function rq(t,e){let n=new $s.WorkspaceEdit,i=new $s.Range(t.positionAt(0),t.positionAt(t.getText().length)),r=$s.TextEdit.replace(i,e);n.set(t.uri,[r]);let s=await $s.workspace.applyEdit(n);return s&&await t.save(),s}var O7=/(\.((gz|jsonc?|yaml|yml|c?js)$|trie\b)|^$|[/\\]$)/i,Lw=class{constructor(e,n){this.uri=e;this.name=n??Ai(e)}name;addWords(e){return q7(e,this)}removeWords(e){return oq(Nw(e),this)}},Ow=class{constructor(e){this.rep=e;this.name=e.name}name;addWords(e){return this.rep.update(nq(e))}removeWords(e){return this.rep.update(iq(e))}};function sg(t,e){let{uri:n,name:i}=M7(t)?t:{uri:t,name:e};return new Lw(n,i)}function M7(t){let e=t;return typeof e.name=="string"&&typeof e.uri=="object"}function Al(t){return new Ow(t)}async function q7(t,e){return oq(_w(t),e)}async function oq(t,e){if(O7.test(e.uri.path))return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", unsupported format: "${tk(e.uri)}".`));try{await U7(e.uri);let n=await rg.workspace.openTextDocument(e.uri),i=n.getText(),s=t(i.split(/\r?\n/g)).join(`
`).trim()+`
`;await rq(n,s)||await rg.window.showInformationMessage(`Unable to add words to dictionary "${e.name}"`)}catch(n){let i=jE(n)?n.message:(0,sq.format)(n);return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", ${i}`))}}async function U7(t){await Jt.fileExists(t)||(await Jt.createDirectory(yr.dirname(t)),await Jt.writeFile(t,""))}var cq=Fe(require("node:assert"),1),og=require("vscode");var j7=$t;function*uq(t,e){typeof e!="object"&&(yield[t,e]);for(let[n,i]of Object.entries(e))yield*uq(`${t}.${n}`,i)}var aq=new Map,lq=Object.freeze({usesConfigFile:!1,usesCustomDictionary:!1,hasIssues:!1,showCreateConfig:!1,showCreateDictionary:!1}),dq=Object.freeze({addWordToFolderDictionary:!1,addWordToWorkspaceDictionary:!1,addWordToUserDictionary:!1,addWordToFolderSettings:!1,addWordToWorkspaceSettings:!1,addWordToUserSettings:!1,addWordToDictionary:!1,addWordToCSpellConfig:!1,addIssuesToDictionary:!1,showSuggestions:!1,createCustomDictionary:!1,createCSpellConfig:!1,addIgnoreWord:!1}),B7={output:!1};async function fq(t){return jo(t,j7)}async function jo(t,e="cSpell.context"){(0,cq.default)(e.startsWith($t));let i=[...uq(e,t)].filter(([s,o])=>o!==aq.get(s)),r=i.map(([s,o])=>og.commands.executeCommand("setContext",s,o));i.forEach(([s,o])=>aq.set(s,o)),await Promise.all(r)}var Mw=new WeakMap,W7=1e3;async function lc(t,e){let n={documentConfigContext:{...lq},editorMenuContext:{...dq}};if(!e){await fq(n);return}if(B7[e.uri.scheme]===!1)return;let i=e,r=Mw.get(i);if(r)return r.stale=!r.pending,r.value;let s={value:K7(t,i),pending:!0,stale:!1};s.value.finally(()=>{s.pending=!1,setTimeout(o,W7)});function o(){Mw.delete(i),s.stale&&lc(t,i)}return Mw.set(i,s),s.value}async function K7(t,e){let n={documentConfigContext:{...lq},editorMenuContext:{...dq}},i=t.getConfigurationForDocument(e,{showCommandsInEditorContextMenu:!0,showSuggestionsLinkInEditorContextMenu:!0}),r=Hi(e.uri),s=await i,{agg:o,matrix:a,configFoundInWorkspace:c}=$7(s.configTargets),u=(o.dictionary||0)-(a.dictionary.user||0),f=!!o.cspell,g=u>0,p=r.length>0,l=r.length>1,d=!c||!o.cspell,h=!g,m=!!a.vscode.workspace,C=!!a.vscode.folder;n.documentConfigContext={usesConfigFile:f,usesCustomDictionary:g,hasIssues:p,showCreateConfig:d,showCreateDictionary:h};let T=!!s.settings?.showCommandsInEditorContextMenu;n.editorMenuContext.addWordToFolderDictionary=T&&p&&!!a.dictionary.folder,n.editorMenuContext.addWordToWorkspaceDictionary=T&&p&&!!a.dictionary.workspace,n.editorMenuContext.addWordToUserDictionary=T&&p&&!!a.dictionary.user,n.editorMenuContext.addWordToFolderSettings=T&&p&&C,n.editorMenuContext.addWordToWorkspaceSettings=T&&p&&m,n.editorMenuContext.addWordToUserSettings=T&&p&&!a.dictionary.user,n.editorMenuContext.addWordToDictionary=T&&p&&!!a.dictionary.unknown,n.editorMenuContext.addWordToCSpellConfig=T&&p&&f&&!g,n.editorMenuContext.addIssuesToDictionary=T&&p&&l,n.editorMenuContext.createCustomDictionary=T&&h,n.editorMenuContext.createCSpellConfig=T&&d,n.editorMenuContext.addIgnoreWord=T&&p,n.editorMenuContext.hasIssues=p,n.editorMenuContext.hasMultipleIssues=l,n.editorMenuContext.showSuggestions=(T||s.settings?.showSuggestionsLinkInEditorContextMenu||!1)&&p,await fq(n)}function $7(t){let e={},n={vscode:{},cspell:{},dictionary:{}},i=!1;for(let r of t)e[r.kind]=(e[r.kind]||0)+1,e[r.scope]=(e[r.scope]||0)+1,n[r.kind][r.scope]=(n[r.kind][r.scope]||0)+1,i=i||r.kind==="cspell"&&!!og.workspace.getWorkspaceFolder(Xe(r.configUri));return{agg:e,matrix:n,configFoundInWorkspace:i}}var cg=require("vscode");var pq=Fe(require("node:assert"),1);var Nr=require("vscode"),ag=class t{constructor(e,n){this.uri=e;this.#e=n?.data,this.#n=n?.signature,(0,pq.default)(!n||n.id==="memento","Invalid memento data"),this.#t=ro(),this.#i=H7(e,this.#r.bind(this))}#e;#t;#n;#i;keys(){return this.#e?Object.keys(this.#e):[]}get(e,n){return(this.#e?this.#e[e]:void 0)??n}async update(e,n){let i=[];if(typeof e=="string"){let r=e;this.#e=this.#e??{},n===void 0?delete this.#e[r]:this.#e[r]=n,i.push(r)}else{let r=e;i.push(...Object.keys(r)),this.#e={...this.#e,...r}}this.#n=`s${performance.now()}/${performance.now()}`,await t.#l(this.uri,{id:"memento",v:"v1",ts:Date.now(),signature:this.#n,data:this.#e}),this.#t.fire(i)}onDidChange(e){return this.#t.event(e)}dispose=()=>{this.#i.dispose()};#r(e){this.#s().catch(()=>{})}async#s(){let e=await t.#d(this.uri);if(!e){this.#e=void 0;return}e.signature!==this.#n&&(this.#e=e.data,this.#n=e.signature,this.#t.fire(void 0))}static async#l(e,n){let i=JSON.stringify(n,null,2);await Nr.workspace.fs.createDirectory(Nr.Uri.joinPath(e,"..")),await Nr.workspace.fs.writeFile(e,Buffer.from(i))}static async#d(e){try{let n=await Nr.workspace.fs.readFile(e),r=new TextDecoder().decode(n);return JSON.parse(r)}catch{return}}static async createMemento(e){let n=await t.#d(e);return new t(e,n)}};function H7(t,e){let n=Nr.Uri.joinPath(t,".."),i=t.path.split("/").slice(-1).join(""),r=Nr.workspace.createFileSystemWatcher(new Nr.RelativePattern(n,i));return r.onDidChange(e),r.onDidCreate(e),r.onDidDelete(e),r}function hq(t,e){return[Date.now(),0,"replace",1,t,e]}function gq(){return[Date.now(),0,"activate",1]}var qw=class{constructor(e){this.uriStorageDir=e;this.#t=ag.createMemento(cg.Uri.joinPath(e,"eventLog.json")),this.#t.then(n=>this.#e=n)}#e;#t;#n=[];#i=void 0;#r=void 0;log(e){this.#n.push(e),this.queueFlush()}logActivate(){this.log(gq())}logReplace(e,n){this.log(hq(e,n))}get eventLog(){return this.#e?this.#e.get("log",[]):[]}queueFlush(){this.#r||(this.#r=setTimeout(()=>{this.#r=void 0,dn(this.flush(),"EventLogger.flush")},10))}flush(){let e=async()=>{if(!this.#n.length)return;let i=this.#e??await this.#t,r=i.get("machineId",cg.env.machineId),s=Date.now(),o=[...i.get("log",[]),...this.#n];this.#n=[],await i.update({machineId:r,ts:s,log:o})},n=this.#i?this.#i.then(e):e();return this.#i=n,n.finally(()=>{this.#i===n&&(this.#i=void 0)}),n}dispose(){this.#e?this.#e.dispose():this.#t.then(e=>e.dispose())}};function Uw(t){return new qw(t)}var dc=require("vscode");var mq=require("vscode");async function ug(t){return mq.env.openExternal(t.toString())}async function jw(){let t=dc.Uri.joinPath(zm().extensionUri,"resources/pages/About the Spell Checker.md");return dc.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}function Bw(){return $w("resources/pages/Spell Checker Support Request.md")}function Ww(){return $w("resources/pages/Spell Checker Report Issue.md")}function Il(){return ug("https://streetsidesoftware.com/sponsor/")}function Kw(){return $w("resources/pages/Spell Checker Release Notes.md")}async function $w(t){return typeof t=="string"&&(t=dc.Uri.joinPath(zm().extensionUri,t)),dc.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}var Vi=require("vscode");var V7=`# Feedback

Thank you for providing feedback on the Spell Checker. Your feedback is important to us.

## How can the Spell Checker be improved?

<!-- Please provide details on how the Spell Checker can be improved. -->

## What issues are you experiencing?

<!-- Please provide details on the issues you are experiencing. -->

`;async function Hw(){await ug(z7())}function z7(){return G7({title:"Feedback",body:V7,labels:["feedback"]})}function G7(t){let e=new URL("https://github.com/streetsidesoftware/vscode-spell-checker/issues/new"),n=e.searchParams;return t?.title&&n.set("title",t.title),t?.body&&n.set("body",t.body),t?.labels&&n.set("labels",t.labels.join(",")),e}async function Vw(){let t=["\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F"],e=await Vi.window.showInformationMessage("How would you rate the Spell Checker?",...t);if(!e)return;let i=4-t.indexOf(e);if(i===1)return await Vi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?Hw():void 0;if(i===2){await Vi.window.showInformationMessage("Thank you for your feedback.","Close");return}switch(await Vi.window.showInformationMessage("Does the Spell Checker help you avoid spelling mistakes and get things done?","Yes","No")){case"Yes":{switch(await Vi.window.showInformationMessage("Thank you for your feedback. The Spell Checker needs your support to continue to improve. Would you consider sponsoring the Spell Checker?","Open Sponsor Page","Ask me Later","No")){case"Open Sponsor Page":await Il();return;case"Ask me Later":await Vi.window.showInformationMessage("Thank you. We will ask again in about a month.","Close");return;case"No":{if(await Vi.window.showInformationMessage("Are you already a sponsor?","Yes","No")==="Yes"){await Vi.window.showInformationMessage("Thank you for your support!","Close");return}await Vi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now");return}}return}case"No":return await Vi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?Hw():void 0}await Vi.window.showInformationMessage("Thank you for your feedback.","Close")}var Zw=require("vscode");var Bo=require("vscode");async function zw(t){try{return await Bo.commands.executeCommand("vscode.executeDocumentSymbolProvider",t)||void 0}catch{return}}async function Gw(t){try{return await Bo.commands.executeCommand("vscode.executeWorkspaceSymbolProvider",`query=${t}`)||void 0}catch{return}}async function Jw(t,e){try{return await Bo.commands.executeCommand("vscode.executeReferenceProvider",t,e)||void 0}catch{return}}async function Xw(t,e){try{return await Bo.commands.executeCommand("vscode.executeDefinitionProvider",t,e)||void 0}catch{return}}async function Yw(t,e){try{return await Bo.commands.executeCommand("vscode.executeTypeDefinitionProvider",t,e)||void 0}catch{return}}async function Qw(t,e){try{return await Bo.commands.executeCommand("vscode.executeImplementationProvider",t,e)||void 0}catch{return}}async function ex(){let t=Zw.window.activeTextEditor?.document,e=t?.uri,n=Zw.window.activeTextEditor?.selection.active,i=await zw(e);if(console.log("docSym %o",i),t&&n){let r=t.getWordRangeAtPosition(n),s=t.getText(r),o=s&&await Gw(s);console.log("workspaceSym %s %o",s,o)}if(e&&n){let r={fetchReferences:Jw,fetchDefinitions:Xw,fetchTypeDefinitions:Yw,fetchImplementation:Qw};await Promise.all(Object.entries(r).map(async([s,o])=>{let a=await o(e,n);console.log(`${s} %o`,a)}))}}var J7="timeline_start",yq=process.hrtime(),tx=class{timeLine=[];timeLineEvents=new Map;startEvent;constructor(){this.startEvent=this.createEvent(J7),this.addEvent(this.startEvent)}mark(e){let n=this.createEvent(e);this.addEvent(n)}measure(e,n,i){let r=this.timeLineEvents.get(n)||this.startEvent,s=this.timeLineEvents.get(i)||this.startEvent,o=X7(r.startTime,s.startTime),a={name:e,startTime:process.hrtime(yq),duration:o};this.addEvent(a)}getLastEvent(){return this.timeLine[this.timeLine.length-1]}getLastEventName(){return this.getLastEvent().name||""}addEvent(e){this.timeLine.push(e),this.timeLineEvents.set(e.name,e)}getEntries(){return this.timeLine}getLatestEntryByName(e){return this.timeLineEvents.get(e)}getEntriesByName(e){return this.timeLine.filter(n=>n.name===e)}createEvent(e){return{name:e,startTime:process.hrtime(yq),duration:0}}};function X7(t,e){return lg(e)-lg(t)}function lg(t){return(t[0]+t[1]*1e-9)*1e3}var Yt=new tx;var dg=Fe(require("vscode"));function fg(t,e){let n=t.document,i=n.getText().indexOf(e);if(i<0)return!1;let r=n.positionAt(i),s=new dg.Range(r.line,r.character,r.line,r.character+e.length);return s&&t.revealRange(s,dg.TextEditorRevealType.InCenterIfOutsideViewport),!0}var Y7={"cSpell.addWordsToConfigFileFromServer":(t,e,n)=>Cq(t,Fl(Xe(n.uri),n.name)),"cSpell.addWordsToDictionaryFileFromServer":(t,e,n)=>pJ(t,sg(Xe(n.uri),n.name)),"cSpell.addWordsToVSCodeSettingsFromServer":(t,e,n)=>{let i=Td(n),r=Hh(i,Xe(e),!1);return Cq(t,r)}},zn=tq,Wo=(t,e=!1)=>Jh(t,void 0,void 0,e),Q7=zn("Add Words to Folder Dictionary",kk),Z7=zn("Add Words to Workspace Dictionaries",Pd),eJ=zn("Add Words to User Dictionary",Rd),tJ=zn("Add Words to Folder Settings",Sr(Ur,Sk)),nJ=zn("Add Words to Workspace Settings",Sr(Ur,vk)),iJ=zn("Add Words to User Settings",Sr(Ur,Ck)),rJ=zn("Remove Words from Folder Dictionary",yJ),sJ=zn("Remove Words from Workspace Dictionaries",CJ),oJ=zn("Remove Words from Global Dictionary",vJ),aJ=zn("Ignore Words",Sr(hg,void 0)),cJ=zn("Ignore Words in Folder Settings",Sr(hg,an.ConfigurationTarget.WorkspaceFolder)),uJ=zn("Ignore Words in Workspace Settings",Sr(hg,an.ConfigurationTarget.Workspace)),lJ=zn("Ignore Words in User Settings",Sr(hg,an.ConfigurationTarget.Global)),dJ=zn("Add Words to cSpell Configuration",Sr(Ur,yk)),fJ=zn("Add Words to Dictionary",Sr(Ur,wd)),fc={"cSpell.addWordToDictionary":fJ,"cSpell.addWordToFolderDictionary":Q7,"cSpell.addWordToWorkspaceDictionary":Z7,"cSpell.addWordToUserDictionary":eJ,"cSpell.addWordToFolderSettings":tJ,"cSpell.addWordToWorkspaceSettings":nJ,"cSpell.addWordToUserSettings":iJ,"cSpell.removeWordFromFolderDictionary":rJ,"cSpell.removeWordFromWorkspaceDictionary":sJ,"cSpell.removeWordFromUserDictionary":oJ,"cSpell.addIgnoreWord":aJ,"cSpell.addIgnoreWordsToFolder":cJ,"cSpell.addIgnoreWordsToWorkspace":uJ,"cSpell.addIgnoreWordsToUser":lJ,"cSpell.suggestSpellingCorrections":Aw,"cSpell.goToNextSpellingIssue":()=>pg("next",!1),"cSpell.goToPreviousSpellingIssue":()=>pg("previous",!1),"cSpell.goToNextSpellingIssueAndSuggest":()=>pg("next",!0),"cSpell.goToPreviousSpellingIssueAndSuggest":()=>pg("previous",!0),"cSpell.enableForGlobal":async()=>Uo(await Wo(an.ConfigurationTarget.Global),!0),"cSpell.disableForGlobal":async()=>Uo(await Wo(an.ConfigurationTarget.Global),!1),"cSpell.toggleEnableForGlobal":async()=>ac(await Wo(an.ConfigurationTarget.Global,!0)),"cSpell.enableForWorkspace":async()=>Uo(await Wo(an.ConfigurationTarget.Workspace),!0),"cSpell.disableForWorkspace":async()=>Uo(await Wo(an.ConfigurationTarget.Workspace),!1),"cSpell.toggleEnableForWorkspace":async()=>ac(await Wo(an.ConfigurationTarget.Workspace)),"cSpell.toggleEnableSpellChecker":async()=>ac(await Wo(an.ConfigurationTarget.Global)),"cSpell.enableCurrentFileType":_l,"cSpell.disableCurrentFileType":Nl,"cSpell.editText":KM,"cSpell.logPerfTimeline":TJ,"cSpell.openSettings":bq("workbench.action.openSettings",()=>[{query:"cSpell."}]),"cSpell.addWordToCSpellConfig":dJ,"cSpell.addIssuesToDictionary":gJ,"cSpell.createCustomDictionary":DJ,"cSpell.createCSpellConfig":wJ,"cSpell.openFileAtLine":kJ,"cSpell.selectRange":AJ,"cSpell.fixSpellingIssue":$M,"cSpell.autoFixSpellingIssues":ng,"cSpell.issueViewer.item.openSuggestionsForIssue":zi,"cSpell.issueViewer.item.autoFixSpellingIssues":zi,"cSpell.issueViewer.item.addWordToDictionary":zi,"cSpell.issuesViewByFile.item.autoFixSpellingIssues":zi,"cSpell.issuesViewByFile.item.addWordToDictionary":zi,"cSpell.insertDisableNextLineDirective":IJ,"cSpell.insertDisableLineDirective":_J,"cSpell.insertIgnoreWordsDirective":NJ,"cSpell.insertWordsDirective":LJ,"cSpell.toggleTraceMode":zi,"cSpell.toggleVisible":zi,"cSpell.show":zi,"cSpell.hide":zi,"cSpell.createCSpellTerminal":zi,"cspell.showActionsMenu":zi,"cSpell.openIssuesPanel":bq("cSpellIssuesViewByFile.focus"),"cSpell.openFileInfoView":Dq,"cSpell.displayCSpellInfo":Dq,"cSpell.hideCSpellInfo":OJ,"cSpell.experimental.executeDocumentSymbolProvider":UJ,"cSpell.restart":MJ,"cSpell.reload":qJ,"cSpell.supportRequest":Bw,"cSpell.reportIssue":Ww,"cSpell.about":jw,"cSpell.sponsor":Il,"cSpell.rateTheSpellChecker":Vw,"cSpell.releaseNotes":Kw,"cSpell.enableLanguage":ix,"cSpell.disableLanguage":rx,"cSpell.enableCurrentLanguage":_l,"cSpell.disableCurrentLanguage":Nl},di=Object.fromEntries(Object.keys(fc).map(t=>[t,t]));function wq(t){let e=new Set,n=Object.entries({...fc,...t}).filter(([r])=>!e.has(r)).map(([r,s])=>vq(r,s)),i=Object.entries(Y7).map(([r,s])=>vq(r,s));return[...n,...i]}function zi(){}function Cq(t,e){return rt(it("dictionaryHelper").addWordsToConfigRep(t,e),"addWordsToConfig")}function pJ(t,e){return rt(it("dictionaryHelper").addWordToDictionary(t,e),"addWordsToDictionaryTarget")}function hJ(){}function vq(t,e){return e===zi?{dispose:hJ}:Ue.commands.registerCommand(t,Qc(e,`Register command: ${t}`))}function gJ(){return rt(it("dictionaryHelper").addIssuesToDictionary(),"addAllIssuesFromDocument")}function hg(t,e,n){return rt(mJ(t,e,n),gg("addIgnoreWordsToTarget",void 0,n))}async function mJ(t,e,n){n=Xe(n);let i=await qo(n),r=e?i.filter(s=>s.scope===_i(e)):i;return Tw(r,t)}function yJ(t,e){return nx(t,an.ConfigurationTarget.WorkspaceFolder,e)}function CJ(t,e){return nx(t,an.ConfigurationTarget.Workspace,e)}function vJ(t){return nx(t,an.ConfigurationTarget.Global,void 0)}function nx(t,e,n){return rt(SJ(t,e,n),gg("removeWordFromTarget",e,n))}function SJ(t,e,n){n=Xe(n);let i=Dk(e,n,void 0);return it("dictionaryHelper").removeWordsFromTargets(t,[i],n)}function ix(t,e){return xq(t,Xe(e),void 0,!0)}function rx(t,e){return xq(t,Xe(e),void 0,!1)}function xq(t,e,n,i){return rt(async()=>{let r=await(n?jM(n,e):qo(e));return Qh({[t]:i},r)},gg(`enableDisableLanguageId enable: ${i}`,n,e))}function bJ(t,e,n,i,r){return rt(async()=>{let{targets:s,scopes:o}=await Jh(n||an.ConfigurationTarget.Global,e,i);return Yh(t,r,s,o)},gg(`enableDisableLocale enable: ${r}`,n,e))}function sx(t,e,n){let i=typeof t=="boolean"?t?an.ConfigurationTarget.Global:an.ConfigurationTarget.Workspace:t,r=gw(i);return bJ(e,r.uri,r.target,r.configScope,n)}function _l(t,e){let n=Eq(t,e);return rt(async()=>{let{languageId:i,uri:r}=n;if(!(!r||!i))return Ws({[i]:!0},r)},"enableCurrentFileType")}function Nl(t,e){let n=Eq(t,e);return rt(async()=>{let{languageId:i,uri:r}=n;if(!(!r||!i))return Ws({[i]:!1},r)},"disableCurrentFileType")}function Eq(t,e){t=typeof t=="string"?t:void 0,e=typeof e=="string"||e instanceof Ue.Uri?e:void 0;let n=Ue.window.activeTextEditor?.document;return e??=n?.uri,t??=n?.languageId,{languageId:t,uri:e}}function gg(t,e,n){let i=e?_i(e):"";return i?`${t} ${i} ${Xe(n)}`:`${t} ${Xe(n)}`}async function DJ(){let t=await Xh(Ue.window.activeTextEditor?.document),e=await kd(t);if(!e)return;let n=Pl(e);n&&await it("dictionaryHelper").createCustomDictionary(n)}function TJ(){Yt.getEntries().forEach(t=>{console.log(t.name,lg(t.startTime),t.duration)})}async function wJ(){let t=await ww(Ue.window.activeTextEditor?.document.uri);if(t){let e=await Ue.window.showTextDocument(t);fg(e,'"cspell":')}}function xJ(t,e){return t.filter(n=>n.range?.start.isAfter(e.end)).concat(t[0])[0]}function EJ(t,e){return[t[t.length-1]].concat(t.filter(n=>n.range?.end.isBefore(e.start))).pop()}async function pg(t,e){let n=Ue.window.activeTextEditor;if(!n)return;let i=n.document,r=n.selection,s=i?Hi(i.uri):void 0,o=s?t==="next"?xJ(s,r):EJ(s,r):void 0,a=o?.range;if(!i||!r||!a||!o)return Ks(Ue.window.showInformationMessage("No issues found in this document."),"actionJumpToSpellingError");if(n.revealRange(a,Ue.TextEditorRevealType.InCenterIfOutsideViewport),n.selection=new Ue.Selection(a.start,a.end),e)return Aw()}async function kJ(t,e){t=Xe(t);let n=e&&{selection:FJ(e)}||void 0;await Ue.window.showTextDocument(t,n)}function FJ(t){if(t===void 0)return;t=typeof t=="string"?Number.parseInt(t):t;let e=new Ue.Position(t-1,0);return new Ue.Range(e,e)}function mg(t,e,n,i){let r=i.map(RJ);return{title:t,command:"cSpell.editText",arguments:[e.toString(),n,r]}}function ox(t,...e){return typeof t=="string"?`command:${t}?${encodeURIComponent(JSON.stringify(e))}`:`command:${t.command}?${t.arguments?encodeURIComponent(JSON.stringify(t.arguments)):""}`}function Sq(t){let{line:e,character:n}=t;return{line:e,character:n}}function PJ(t){return{start:Sq(t.start),end:Sq(t.end)}}function RJ(t){let{range:e,newText:n}=t;return{range:PJ(e),newText:n}}async function AJ(t,e,n){if(!(!t||!e))try{let i=$f(t);if(i){let s=i.notebook;if(i.index<0)return;let o=new Ue.NotebookRange(i.index,i.index+1);await Ue.window.showNotebookDocument(s,{selections:[o]})}let r=await Ue.window.showTextDocument(t,{selection:e});r.selection=n?new Ue.Selection(e.end,e.start):new Ue.Selection(e.start,e.end)}catch(i){Mc((0,Tq.format)("Error: handleSelectRange",i),t.toString())}}var yg="${BLOCK_COMMENT_START/^(<!--)$/$1-/}",Cg="${BLOCK_COMMENT_END/^(-->)$/-$1/}";function IJ(t,e){return rt(async()=>{let n=t||Ue.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ue.SnippetString(`${a}${yg} cspell:disable-next-line ${Cg}`+c),new Ue.Range(o.range.start,o.range.start))},"handleInsertDisableNextLineDirective")}function _J(t,e){return rt(async()=>{let n=t||Ue.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.endsWith(" ")?"":" ";return await n.insertSnippet(new Ue.SnippetString(`${a}${yg} cspell:disable-line ${Cg}
`),new Ue.Range(o.range.end,o.range.end))},"handleInsertDisableLineDirective")}function NJ(t,e){return rt(async()=>{let n=t||Ue.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ue.SnippetString(`${a}${yg} cspell:ignore \${0:$TM_CURRENT_WORD} ${Cg}`+c),new Ue.Range(o.range.start,o.range.start))},"handleInsertIgnoreWordsDirective")}function LJ(t,e){return rt(async()=>{let n=t||Ue.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ue.SnippetString(`${a}${yg} cspell:words \${0:$TM_CURRENT_WORD} ${Cg}`+c),new Ue.Range(o.range.start,o.range.start))},"handleInsertWordsDirective")}function bq(t,e){return async()=>{let n=e?.()||[];return Ue.commands.executeCommand(t,...n)}}async function Dq(){await jo({displayCSpellInfo:!0}),await Ue.commands.executeCommand("cSpellInfoView.focus")}async function OJ(){await jo({displayCSpellInfo:!1})}function MJ(){return rt(co().restart(),"handle restart server")}function qJ(){return rt(co().notifySettingsChanged(),"handle restart server")}function UJ(){return rt(ex(),"handleCmdExperimentalExecuteDocumentSymbolProvider")}var BJ=!1,ar=BJ?console.log:()=>{};function kq(t){let e=tt();return e.push(_n.default.commands.registerCommand("cspell.showActionsMenu",()=>WJ(t))),e}async function WJ(t){let e=_n.default.window.activeTextEditor?.document,n=await rt(e?co().getConfigurationForDocument(e,{}):Promise.resolve(void 0),"Language Status"),i=[zJ(e?.uri,n?.languageId,n?.languageIdEnabled),GJ(e?.uri,n?.schemeIsAllowed),...JJ(n?.configFiles.map(r=>_n.default.Uri.parse(r))),{label:"",kind:_n.default.QuickPickItemKind.Separator},VJ(t),Ko({title:"$(file) Show File Info...",command:di["cSpell.openFileInfoView"]}),Ko({title:"$(console) Open Spell Checker REPL Console.",command:di["cSpell.createCSpellTerminal"]}),Ko({title:"$(issues) Open Spelling Issues Panel.",command:"cSpell.openIssuesPanel"}),HJ(),Ko({title:"$(keyboard) Edit Keyboard Shortcuts...",command:"workbench.action.openGlobalKeybindings",arguments:["Spell:"]}),Ko({title:"$(gear) Edit Settings...",command:"workbench.action.openSettings",arguments:[$t]})].filter(vn);return KJ({items:i,title:"Spell Checker Actions Menu"}).catch(()=>{})}async function KJ(t){t={...t};let e=!0;for(;e;)try{e=!1;let n=await $J(t);if(n instanceof pc){t.selected=n,await n.action();continue}if(typeof n=="function"){await n();continue}return}catch(n){if(n===Hs.back)throw ar("Going back",t.title),Hs.redraw;if(n===Hs.cancel){ar("Cancel",t.title);return}if(n===Hs.redraw){ar("Redraw",t.title),e=!0;continue}throw n}}async function $J(t){let e=performance.now(),n=tt();try{return await new Promise((i,r)=>{let s=_n.default.window.createQuickPick();n.push(s),s.title=t.title,s.items=t.items,t.enableBackButton&&(s.buttons=[_n.default.QuickInputButtons.Back]),t.selected&&(s.activeItems=[t.selected]),t.matchOnDescription!==void 0&&(s.matchOnDescription=t.matchOnDescription),t.matchOnDetail!==void 0&&(s.matchOnDetail=t.matchOnDetail),n.push(s.onDidChangeSelection(o=>{ar("onDidChangeSelection",o)}),s.onDidChangeActive(o=>{ar("onDidChangeActive",o)}),s.onDidTriggerButton(o=>{ar("onDidTriggerButton",o),o===_n.default.QuickInputButtons.Back&&r(Hs.back)}),s.onDidTriggerItemButton(o=>{ar("onDidTriggerItemButton",o);let a=o.button;a instanceof vg&&a.action&&i(a.action)}),s.onDidAccept(()=>{ar("onDidAccept",s.selectedItems);let o=s.selectedItems[0];i(o)}),s.onDidHide(()=>{ar(`onDidHide: ${t.title} - ${e}`),r(Hs.cancel)})),ar(`Showing menu: ${t.title} - ${e}`),s.show()})}finally{ar(`Disposing of menu: ${t.title} - ${e}`),n.dispose()}}var Hs=class t{static back=new t;static cancel=new t;static redraw=new t},vg=class{constructor(e,n,i){this.iconPath=e;this.tooltip=n;this.action=i}},Sg=class extends vg{constructor(n,i){super(new _n.default.ThemeIcon("gear"),i.tooltip??i.title,Fq(i));this.iconPath=n;this.command=i}},pc=class{constructor(e,n,i){this.label=e;this.description=n;this.#e=i||(()=>Promise.resolve(void 0))}#e;kind;detail;picked;iconPath;alwaysShow;buttons;resourceUri;get action(){return this.#e}set action(e){this.#e=e}},Ll=class extends pc{constructor(n,i){super(n.title,i,Fq(n));this.command=n;this.description=i}};function Ko(t,e){return new Ll(t,e)}function HJ(){return{label:"",kind:_n.default.QuickPickItemKind.Separator}}function VJ(t){let e=t.areIssuesVisible();return Ko(e?{title:"$(eye-closed) Hide Spelling Issues",command:"cSpell.hide"}:{title:"$(eye) Show Spelling Issues",command:"cSpell.show"})}function zJ(t,e,n){if(!e||n===void 0)return;let i="$(code)",r=()=>Ws({[e]:!n},t),s=new pc(`${i} ${n?"Disable":"Enable"} File Type:`,e,r);return s.detail=`File Type: "${e}" is currently ${n?"enabled":"disabled"}.`,s.buttons=[new Sg(new _n.default.ThemeIcon("gear"),{title:"Edit Enable File Type in Settings",command:"workbench.action.openSettings",arguments:[Be.enabledFileTypes]})],s}function GJ(t,e){if(!t)return;let n=new pc(`$(code) ${e?"Exclude":"Allow"} Scheme:`,t.scheme);return n.detail=`Scheme: "${t.scheme}" is currently ${e?"allowed":"excluded"}.`,n.action=()=>WM({[t.scheme]:!e},t),n.buttons=[new Sg(new _n.default.ThemeIcon("gear"),{title:"Edit Enable Scheme in Settings",command:"workbench.action.openSettings",arguments:[Be.enabledSchemes]})],n}function JJ(t){return t?.length?t.map(e=>{let n=new Ll({title:"Open Config File:",command:"vscode.open",arguments:[e]},_n.default.workspace.asRelativePath(e));return n.iconPath=_n.default.ThemeIcon.File,n.detail=_n.default.workspace.asRelativePath(e,!0),n.resourceUri=e,n}):[new Ll({title:"$(new-file) Create Config...",command:di["cSpell.createCSpellConfig"]})]}async function XJ(t){await _n.default.commands.executeCommand(t.command,...t.arguments||[])}function Fq(t){return()=>XJ(t)}async function bg(t,e){return it("client").serverApi.checkDocument(t,e)}var $o=Fe(require("vscode"),1),Nn=require("vscode");var YJ=/\b(?:spell-?checker|c?spell|LocalWords)::?(.*)/gi,cx=/(?<=\b(?:spell-?checker|c?spell)::?)(?!:)\s*(.*)/i,QJ=[{pfx:"cspell:",min:3},{pfx:"cSpell:",min:2},{pfx:"spell:",min:5},{pfx:"spell-checker:",min:5},{pfx:"spellchecker:",min:5},{pfx:"LocalWords:",min:6}];async function Rq(t){t.push($o.languages.registerInlineCompletionItemProvider({pattern:"**"},aX))}var ZJ=[{label:"words",insertText:"words",description:"Words to be allowed in the document",sortText:"1"},{label:"ignore words",insertText:"ignore",description:"Words to be ignored in the document",sortText:"2"},{label:"ignoreRegExp",insertText:"ignoreRegExp",snippetText:"ignoreRegExp /${1:expression}/g",description:"Ignore text matching the regular expression.",kind:$o.CompletionItemKind.Snippet},{label:"disable-next-line",insertText:"disable-next-line",description:"Do not spell check the next line",sortText:"3"},{label:"disable-line",insertText:"disable-line",description:"Do not spell check the current line"},{label:"disable spell checker",insertText:"disable",description:"Disable spell checking from this point further."},{label:"enable spell checker",insertText:"enable",description:"Enable spell checking from this point further."},{label:"dictionaries",insertText:"dictionaries",commitCharacters:[" "],description:"Add dictionaries to be used in this document."},{label:"locale",insertText:"locale",snippetText:"locale ${1:en}",description:"Set the language locale to be used in this document. (i.e. fr,en)",kind:$o.CompletionItemKind.Snippet},{label:"disable compound words",insertText:"disableCompoundWords",description:"Turn OFF Allow Compound Words."},{label:"enable compound words",insertText:"enableCompoundWords",description:"Turn ON Allow Compound Words."}];function eX(t){let e="showAutocompleteDirectiveSuggestions";try{return Qr(e,t)??!0}catch{return!1}}var tX={dictionaryDefinitions:!0,dictionaries:!0},ax=class{cacheConfig;cacheDocDictionaries=_m();constructor(){this.cacheConfig=new El(e=>it("client").getConfigurationForDocument({uri:e},tX))}provideInlineCompletionItems(e,n,i,r){if(!eX(e.uri)||!this.getConfigForDocument(e))return;let a=e.lineAt(n.line).text,c=a.slice(0,n.character),u=c.match(YJ);if(!u)return nX(c,n);let f={items:[]},g=new RegExp(cx),p=u.index||0;g.lastIndex=p;let l=g.exec(c);if(!l){let w="LocalWords:";return u[0].startsWith(w)?Pq(e,n,a,p+w.length):void 0}let d=l[1],h=(l.index||0)+l[0].length-d.length;if(d.startsWith("dictionaries")||d.startsWith("dictionary"))return rX(e,n,a,h,w=>this.getListOfDictionaries(w));if(d.startsWith("words")||d.startsWith("ignore"))return Pq(e,n,a,sX(a,h));let m=d.split(/\s+/);if(m.length>1)return;let C=new $o.Range(n.line,h,n.line,n.character),T=ZJ.filter(w=>w.insertText.startsWith(m[0])).map(w=>iX(w,C));return f.items.push(...T),f}getConfigForDocument(e){return this.cacheConfig.get(e.uri)}getListOfDictionaries(e){let n=this.getConfigForDocument(e),i=e.uri.toString(),r=this.cacheDocDictionaries.get(i,()=>({available:void 0,enabled:void 0}));if(!n||!(n.docSettings||n.settings))return r;let o=cX(n);return this.cacheDocDictionaries.set(i,o),o}};function nX(t,e){let n={items:[]},r=t.lastIndexOf(" ")+1,s=t.slice(r),o=s.length,a=QJ.filter(f=>f.pfx.startsWith(s)&&o>=f.min).map(f=>f.pfx);if(!a.length)return;let c=new Nn.Range(e.line,r,e.line,e.character),u=a.map(f=>new Nn.InlineCompletionItem(f,c));return n.items.push(...u),n}function iX(t,e){if(t.snippetText){let i=new Nn.SnippetString(t.snippetText),r=new Nn.InlineCompletionItem(i,e);r.filterText=t.insertText}return new Nn.InlineCompletionItem(t.insertText,e)}function rX(t,e,n,i,r){let s=new RegExp(cx,"s");s.lastIndex=i;let o=s.exec(n);if(!o)return;let a=o[1],c=(o.index||0)+o[0].length-a.length,u=e.character,f=Aq(n,c);if(f<u)return;let g=r(t);if(!g.available)return;let p=/\s|$/ms;p.lastIndex=u;let l=p.exec(n)?"":" ",d=n.lastIndexOf(" ",u-1)+1,h=d<=c?" ":"",m=/[\s,]+/g,C=n.slice(c,d).split(m),T=n.slice(u,f).split(m),w=new Set([...g.enabled||[],...C,...T]),k=g.available.filter(B=>!w.has(B));if(!k.length)return;let A=new Nn.Range(e.line,d,e.line,u);return new Nn.InlineCompletionList(k.map(B=>new Nn.InlineCompletionItem(h+B+l,A)))}function Pq(t,e,n,i){let r=e.character;if(Aq(n,i)<r)return;let o=uX(t);if(!o.length)return;let a=/\s|$/ms;a.lastIndex=r;let c=a.exec(n)?"":" ",u=n.lastIndexOf(" ",r-1)+1,f=u<=i?" ":"",g=n.slice(f?r:u,r),p=oX(t,e,o,g),l=new Nn.Range(e.line,u,e.line,r);return new Nn.InlineCompletionList(p.map(d=>new Nn.InlineCompletionItem(f+d+c,l)))}function sX(t,e){let n=new RegExp(cx,"s");n.lastIndex=e;let i=n.exec(t);if(!i)return 0;let r=i[1];return(i.index||0)+i[0].length-r.length}function oX(t,e,n,i){let s=e.line,o=new Nn.Range(Math.max(s-3,0),0,s+3,0),a=n.filter(u=>o.contains(u.range)).filter(u=>t.getText(u.range).startsWith(i));if(a.length)return a.sort((f,g)=>Math.abs(f.range.start.line-s)-Math.abs(g.range.start.line-s)),[...new Set(a.map(f=>t.getText(f.range)))];let c=[...new Set(n.map(u=>t.getText(u.range)))];return c.sort(),c}function Aq(t,e){let n=/[^a-z0-9_\s,\p{L}-]/giu;n.lastIndex=e;let i=n.exec(t);return i?i.index:t.length}var aX=new ax;function cX(t){try{let e=(t.docSettings?.dictionaryDefinitions||[]).filter(i=>!!i).map(i=>i.name).filter(i=>!!i),n=t.docSettings?.dictionaries||[];return{available:e,enabled:n}}catch{return{available:void 0,enabled:void 0}}}function uX(t){return Hi(t.uri).filter(e=>!e.data?.issueType)}var Ho=require("vscode");var Dg=class{constructor(e){this.issueTracker=e}static providedCodeActionKinds=[Ho.CodeActionKind.QuickFix];async provideCodeActions(e,n,i){if(XM(i.diagnostics).length)return[];let s=this.issueTracker.getSpellingIssues(e.uri)?.filter(a=>a.range.contains(n));if(s?.length!==1)return[];let o=s.map(a=>this.diagToAction(e,a));return(await Promise.all(o)).flatMap(a=>a)}async diagToAction(e,n){let i=n.providedSuggestions();return i?.length?i.map(r=>lX(e,n.range,r)):await Iw(e,n.range,[n.diag])}};function lX(t,e,n){let i=`Replace with: ${n.word}`,r=new Ho.CodeAction(i,Ho.CodeActionKind.QuickFix);return r.isPreferred=n.isPreferred,r.command=mg(i,t.uri,t.version,[{range:e,newText:n.word}]),r}function Iq(t){return Ho.languages.registerCodeActionsProvider("*",new Dg(t),{providedCodeActionKinds:Dg.providedCodeActionKinds})}function Tg(...t){function e(n){for(let i of t)n=i(n);return n}return e}function wg(t){function e(n){function i(){let r=n[Symbol.iterator]();function s(){let{done:o,value:a}=r.next();return o?{done:o,value:void 0}:{value:t(a)}}return{next:s}}return{[Symbol.iterator]:i}}return e}function xg(t,...e){return Tg(...e)(t)}var hc=Fe(require("vscode"),1);var _q=["package.json",".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json",".cspell.config.json",".cspell.config.jsonc",".cspell.config.yaml",".cspell.config.yml","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.config.mjs","cspell.config.cjs","cspell.config.js",".cspell.config.mjs",".cspell.config.cjs",".cspell.config.js",".cspell.yaml",".cspell.yml","cspell.yaml","cspell.yml",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.config.mjs",".config/cspell.config.cjs",".config/cspell.config.js",".config/.cspell.config.json",".config/.cspell.config.jsonc",".config/.cspell.config.yaml",".config/.cspell.config.yml",".config/.cspell.config.mjs",".config/.cspell.config.cjs",".config/.cspell.config.js",".config/cspell.yaml",".config/cspell.yml"];function Nq(){return new ux}var fX=new Set(["cspell.yml","cspell.yaml",".cspell.yml",".cspell.yaml"]),ux=class{#e=tt(void 0,"ConfigWatcher");#t;#n=new hc.EventEmitter;#i=gX();constructor(){this.#e.push(this.#n)}dispose(){this.#e.dispose(),this.#t=void 0}get on(){return this.onDidChangeConfig}get onDidChangeConfig(){return this.#r(),this.#n.event}#r(){if(this.#t)return this.#t;let e=hc.workspace.createFileSystemWatcher(`**/{${this.#i.join(",")}}`);return this.#e.push(e,e.onDidChange(this.#s),e.onDidCreate(this.#s),e.onDidDelete(this.#s)),this.#t=e,e}#s=e=>{this.#n.fire(e)};async scanWorkspaceForConfigFiles(e){let n=await hc.workspace.findFiles(`**/{${this.#i.join(",")}}`,"**/node_modules/**",void 0,e),i=n.filter(o=>o.path.endsWith("/package.json")),r=n.filter(o=>!o.path.endsWith("/package.json")),s=xg(i,hX(3),wg(o=>({uri:o,hasConfig:pX(o)})));for(let{uri:o,hasConfig:a}of s)await a&&r.push(o);return r}};async function pX(t){if(!t.path.endsWith("/package.json"))return!0;try{let n=new TextDecoder().decode(await hc.workspace.fs.readFile(t));return"cspell"in JSON.parse(n)}catch{return!1}}function hX(t){function*e(n){let i=[];for(let r of n)if(i.push(r),i.length>=t-1){let s=i[0];i.shift(),yield s}yield*i}return e}function gX(){let t=new Set;for(let e of _q){let n=e.split("/");if(n.length===1){fX.has(e)||t.add(e);continue}let i=n[n.length-1];t.has(i)||t.add(e)}return[...t]}var ze=Fe(require("vscode"),1);var Lq="Word",Oq=1e3,mX=!1,Eg=mX?console.log:()=>{},Ol=class t{constructor(e,n){this.context=e;this.issueTracker=n;this.getConfiguration();let i=this.createDecorators();this._visible=e.globalState.get(t.globalStateKey,!0),this.decorationTypeForIssues=i?.decoratorIssues,this.decorationTypeForFlagged=i?.decoratorFlagged,this.decorationTypeForSuggestions=i?.decoratorSuggestions,this.decorationTypeForDebug=i?.decoratorDebug,this.disposables.push(()=>this.clearDecoration(),ze.workspace.onDidChangeConfiguration(r=>this.#s(r)),ze.window.onDidChangeActiveColorTheme(()=>this.resetDecorator()),n.onDidChangeDiagnostics(r=>this.handleOnDidChangeDiagnostics(r)),ze.window.onDidChangeActiveTextEditor(r=>this.refreshEditor(r)),ze.window.onDidChangeVisibleTextEditors(r=>this.handleOnDidChangeVisibleTextEditors(r)),ze.window.onDidChangeTextEditorSelection(r=>this.#n(r)),ze.workspace.onDidChangeTextDocument(r=>this.#i(r)),ze.workspace.onDidCloseTextDocument(r=>this.docChanges.delete(r.uri.toString()))),this.setContext(this._visible)}decorationTypeForIssues;decorationTypeForFlagged;decorationTypeForSuggestions;decorationTypeForDebug;disposables=tt();visibleEditors=new Set;_visible=!0;dispose=this.disposables.dispose;docChanges=new Map;refreshTimeout;urisToRefresh=new Set;hideIssuesWhileTyping=Lq;revealIssuesAfterDelayMS=Oq;emitterVisibility=new ze.default.EventEmitter;overrides={};handleOnDidChangeDiagnostics(e){this.refreshDiagnostics(e.uris)}handleOnDidChangeVisibleTextEditors(e){let n=e.filter(i=>!this.visibleEditors.has(i));this.visibleEditors.clear(),this.visibleEditors=new Set(e),this.refreshDiagnostics([...n].map(i=>i.document.uri))}refreshEditor(e){if(e??=ze.window.activeTextEditor,!!e)return this.refreshDiagnostics([e.document.uri])}refreshDiagnostics(e){e??=ze.window.visibleTextEditors.map(r=>r.document.uri);let n=new Set(e.map(r=>r.toString()));ze.window.visibleTextEditors.filter(r=>n.has(r.document.uri.toString())).forEach(r=>this.refreshDiagnosticsInEditor(r))}refreshDiagnosticsInEditor(e){if(!this.decorationTypeForIssues||!this.decorationTypeForFlagged||!this.decorationTypeForDebug||!this.decorationTypeForSuggestions)return;let n=e.document;if(!this.#r(n.uri)){e.setDecorations(this.decorationTypeForIssues,[]),e.setDecorations(this.decorationTypeForFlagged,[]),e.setDecorations(this.decorationTypeForSuggestions,[]);return}let i=this.revealIssuesAfterDelayMS,r=this.hideIssuesWhileTyping,s=n.validateRange(new ze.Range(n.positionAt(0),n.positionAt(n.getText().length))),o=r==="Word"?C=>qq(C,n.getWordRangeAtPosition(C.start),n.getWordRangeAtPosition(C.end)):r==="Line"?C=>n.lineAt(C.start.line).range:C=>s,a=performance.now(),c=this.docChanges.get(n.uri.toString()),u=c&&i-(a-c.timestamp);Eg("refreshDiagnosticsInEditor %o",{t:performance.now().toFixed(2),version:c?.version,delay:i,mode:r,delta:a-(c?.timestamp||a),toDelay:u});let f=(r!=="Off"&&c&&a-c.timestamp<i&&c.ranges||[]).map(o),g=e.selections.map(C=>{let T=f.filter(w=>w.intersection(C));if(T.length)return qq(C,...T)}).filter(vn),p=!1,l=(this.issueTracker.getSpellingIssues(n.uri)||[]).filter(C=>{let T=C.range,w=g.some(k=>k.intersection(T));return p||=w,!w});p&&this.#t(n.uri);let d=l.filter(C=>!C.isFlagged()&&!C.treatAsSuggestion()).map(C=>dx(C)).filter(vn);e.setDecorations(this.decorationTypeForIssues,d);let h=l.filter(C=>C.treatAsSuggestion()).map(C=>dx(C)).filter(vn);e.setDecorations(this.decorationTypeForSuggestions,h);let m=l.filter(C=>C.isFlagged()&&C.isIssueTypeSpelling()).map(C=>dx(C)).filter(vn);e.setDecorations(this.decorationTypeForFlagged,m)}get visible(){return this.context.globalState.get(t.globalStateKey,this._visible)}set visible(e){this.setContext(e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}onDidChangeVisibility=this.emitterVisibility.event;setContext(e){this.context.globalState.update(t.globalStateKey,e),this.emitterVisibility.fire(e),Promise.resolve(jo({showDecorations:e})).catch(()=>{})}clearDecoration(){this.visibleEditors.clear(),this.decorationTypeForIssues?.dispose(),this.decorationTypeForIssues=void 0,this.decorationTypeForFlagged?.dispose(),this.decorationTypeForFlagged=void 0,this.decorationTypeForSuggestions?.dispose(),this.decorationTypeForSuggestions=void 0,this.decorationTypeForDebug?.dispose(),this.decorationTypeForDebug=void 0}getConfiguration(){let e=ze.workspace.getConfiguration($t);this.hideIssuesWhileTyping=e.hideIssuesWhileTyping??Lq,this.revealIssuesAfterDelayMS=e.revealIssuesAfterDelayMS??Oq,this.overrides=e[Be.doNotUseCustomDecorationForScheme]??this.overrides}resetDecorator(){this.docChanges.clear(),this.getConfiguration();let e=this.createDecorators();this.decorationTypeForIssues=e?.decoratorIssues,this.decorationTypeForFlagged=e?.decoratorFlagged,this.decorationTypeForSuggestions=e?.decoratorSuggestions,this.decorationTypeForDebug=e?.decoratorDebug,this.refreshDiagnostics()}createDecorators(){if(this.clearDecoration(),!(this.visible&&(ze.workspace.getConfiguration($t).get("useCustomDecorations")??!0)))return;let n=yX(ze.window.activeColorTheme.kind),i=ze.workspace.getConfiguration($t),r=i.showInRuler??!0,s=r&&(i[n]?.overviewRulerColor||i.overviewRulerColor)||void 0,o=r?ze.default.OverviewRulerLane.Right:void 0,a=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:lx(i,n,"textDecorationColor")}),c=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:lx(i,n,"textDecorationColorFlagged")}),u=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:lx(i,n,"textDecorationColorSuggestion")}),f=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,backgroundColor:"rgba(255, 0, 0, 0.5)"});return{decoratorIssues:a,decoratorFlagged:c,decoratorSuggestions:u,decoratorDebug:f}}#e(){this.refreshTimeout||this.urisToRefresh.size<1||(this.refreshTimeout=setTimeout(()=>{this.refreshTimeout=void 0;let e=[...this.urisToRefresh];this.urisToRefresh.clear();let n=performance.now();e.forEach(r=>{let s=this.docChanges.get(r.toString());!s||n-s.timestamp>=this.revealIssuesAfterDelayMS||this.urisToRefresh.add(r)});let i=e.filter(r=>!this.urisToRefresh.has(r));this.refreshDiagnostics(i),this.#e()},100))}#t(e){this.urisToRefresh.add(e),this.#e()}#n(e){Eg("onSelectionChange %o",{t:performance.now().toFixed(2),kind:e.kind,v:e.textEditor.document.version,sel:JSON.stringify(e.selections.map(n=>n.active)),uri:e.textEditor.document.uri.toString()})}#i(e){let{document:n,contentChanges:i}=e,r=n.uri.toString(),s=vs(n.uri);if(!s){this.docChanges.delete(r);return}Eg("onDocumentChange %o",{t:performance.now().toFixed(2),v:n.version,sel:JSON.stringify(s.selections.map(a=>a.active)),c:JSON.stringify(i.map(a=>({r:a.range,t:a.text}))),uri:n.uri.toString()});let o=vX(i);if(!o.length){this.docChanges.delete(r);return}this.docChanges.set(r,{uri:n.uri,version:n.version,ranges:o,timestamp:performance.now()})}#r(e){return!this.overrides[e.scheme]}#s(e){e.affectsConfiguration($t)&&this.resetDecorator()}clearActiveChanges(){this.docChanges.clear()}static globalStateKey="showDecorations"};function lx(t,e,n){let i=t[e]?.textDecoration||t.textDecoration||"",r=t[e]?.textDecorationLine||t.textDecorationLine||"underline",s=t[e]?.textDecorationStyle||t.textDecorationStyle||"wavy",o=t[e]?.textDecorationThickness||t.textDecorationThickness||"auto",a=t[e]?.[n]||t[n]||"#fc4";return i||`${r} ${s} ${a} ${o}`}function dx(t){let{range:e}=t,n=t.providedSuggestions(),i=t.isFlagged(),r=t.isKnown(),s=t.treatAsSuggestion(),o=t.word,a=t.document,c=ox("cSpell.suggestSpellingCorrections",a.uri,e,o),u=Mq("Suggestions $(chevron-right)",c,"Show suggestions."),f=i?"$(error)":s?"$(info)":r?"$(warning)":"$(issues)",g=new ze.MarkdownString(f+" ",!0);g.appendMarkdown("***").appendText(o).appendMarkdown("***: ");let p=i?"Forbidden word.":r?"Misspelled word.":"Unknown word.";if(t.isIssueTypeSpelling())t.isSuggestion()?(g.appendText("Has Suggestions."),n?.length||g.appendText(" ").appendMarkdown(u)):(g.appendText(p),g.appendText(" ").appendMarkdown(u));else if(t.isIssueTypeDirective())g.appendText("Unknown directive."),g.appendText(" ").appendMarkdown(u);else{Eg("Unknown issue type: %o",t);return}if(n?.length)for(let l of n){let{word:d}=l,h=mg("fix",a.uri,a.version,[{range:e,newText:d}]);g.appendMarkdown(`
- `+Mq(d,ox(h),`Fix with ${d}`)+`
`)}return g.isTrusted=!0,{range:e,hoverMessage:g}}function Mq(t,e,n){let i=n?` "${n}"`:"";return`[${t}](${e}${i})`}function yX(t){switch(t){case ze.ColorThemeKind.Dark:case ze.ColorThemeKind.HighContrast:return"dark";case ze.ColorThemeKind.HighContrastLight:case ze.ColorThemeKind.Light:return"light"}}function CX(t){return t.range.with(void 0,t.range.start.with(void 0,t.text.length+t.range.start.character))}function vX(t){return t.map(CX)}function qq(t,...e){return e.filter(vn).reduce((n,i)=>n.union(i),t)}var xi=Fe(require("vscode"),1);var Vs=class extends aa{_subscriptions=new Set;_eventListeners=new Set;_isRunning=!1;_isNotifyBusy=!1;constructor(){super([()=>this.done(),()=>this._eventListeners.clear()],"AbstractSubscribable")}_hasSubscribers(){return!!this._subscriptions.size}_stop(){this._isRunning=!1,this.sendEvents({name:"onStop"})}_tryToStop(){this._hasSubscribers()||this._stop()}_markAsDone(e){typeof e!="function"&&e.done?.()}_markAllSubscriptionsAsDone(){for(let e of this._subscriptions)this._subscriptions.delete(e),this._markAsDone(e)}_unSub(e){this._subscriptions.delete(e),this._tryToStop()}_start(){this._isRunning||(this.sendEvents({name:"onStart"}),this._isRunning=!0)}_notifySubscriber(e,n){return typeof e=="function"?e(n):e.notify(n)}_notify(e){if(!this._isNotifyBusy)try{this._isNotifyBusy=!0;for(let n of this._subscriptions)this._notifySubscriber(n,e)}finally{this._isNotifyBusy=!1}}subscribe(e){return this._subscriptions.add(e),this._start(),Kn(()=>this._unSub(e),void 0,"subscribe")}notify(e){this.sendEvents({name:"onNotify",value:e}),this._notify(e)}done(){this.sendEvents({name:"onDone"}),this._markAllSubscriptionsAsDone(),this._subscriptions.clear(),this._stop()}sendEvents(e){for(let n of this._eventListeners)n(e)}onEvent(e,n){if(typeof e=="function")return this._eventListeners.add(e),Kn(()=>this._eventListeners.delete(e),void 0,"onEvent");let i=e,r=s=>{s.name===i&&n?.(s)};return this._eventListeners.add(r),Kn(()=>this._eventListeners.delete(r),void 0,`onEvent ${i}`)}};var kg=class extends Vs{notify(e){super.notify(e)}done(){super.done()}};function Uq(t,e){return(typeof t=="function"?t:i=>t.subscribe(i))(e)??(()=>{})}var Vo=class extends Vs{_source;_dispose;constructor(e){super(),this._source=e}_stop(){super._stop(),ln(this._dispose),this._dispose=void 0}_start(){super._start(),this._isRunning&&!this._dispose&&(this._dispose=Uq(this._source,{notify:e=>this.notify(e),done:()=>this.done()}))}};function cr(){return new kg}function Fg(t){return new Vo(t)}function jq(t){return typeof t!="function"?t:{notify:t}}function gc(t){return typeof t=="function"?t:e=>t.notify(e)}function zo(t,e){function n(i){let r=jq(i),s=o=>r.notify(o);return t.subscribe({notify:o=>{e(o,s)},done:()=>r.done?.()})}return Fg(n)}var fx=Symbol("not set");function px(t){let e=fx,n;return i=>{let r=zo(i,(s,o)=>{e=s,clearTimeout(n),n=setTimeout(a,t);function a(){let c=e;e=fx,n=void 0,c!==fx&&o(c)}});return r.onEvent("onStop",()=>clearTimeout(n)),r}}function hx(t){return e=>zo(e,(n,i)=>i(t(n)))}var gx=Symbol("not set");function Ml(t){let e=gx,n;return i=>{let r=zo(i,(s,o)=>{if(e=s,n)return;function a(){let c=e;e=gx,n=void 0,c!==gx&&(n=setTimeout(a,t),o(c))}a()});return r.onEvent("onStop",()=>clearTimeout(n)),r}}function Go(t,...e){let n=t;for(let i of e)n=i(n);return n}function Bq(t){let e=cr(),n=!1,i=e.onEvent(r);function r(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}async function s(){try{for await(let o of t){if(n)break;e.notify(o)}}finally{ln(i),e.done()}}return e}function Wq(t){let e=cr(),n=!1,i=e.onEvent(r);function r(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}function s(){try{for(let o of t){if(n)break;e.notify(o)}}finally{ln(i),e.done()}}return e}function Kq(t){return typeof t=="function"?Fg(t):t}function ql(t,...e){return Go(SX(t),...e)}function SX(t){return Symbol.iterator in t?Wq(t):Symbol.asyncIterator in t?Bq(t):Kq(t)}var Pg=Symbol("has been set"),mx=class extends Vo{_value=Pg;constructor(e,n=!0){if(super(e),n){let i=this.subscribe({notify:()=>{},done:()=>(ln(i),i=void 0)})}}get value(){return this._value===Pg?void 0:this._value}notify(e){this._value=e,super.notify(e)}subscribe(e){let n=super.subscribe(e);return this._value!==Pg&&gc(e)(this._value),n}hasValue(){return this._value!==Pg}};function yx(t,e){return new mx(t,e)}var $q={output:!0},Ul=class t{constructor(e,n){this.context=e;this.client=n;this._visible=e.globalState.get(t.globalStateKey,!1),this.disposables.push(()=>this.clearDecoration(),xi.default.window.onDidChangeActiveTextEditor(i=>this.refreshEditor(i)),xi.default.workspace.onDidChangeConfiguration(i=>i.affectsConfiguration($t)&&this.refreshEditor(void 0)),xi.default.workspace.onDidChangeTextDocument(i=>this.refreshDocument(i.document)),xi.default.languages.registerHoverProvider("*",this.getHoverProvider()),Go(this.eventEmitter,hx(i=>(i&&this._pendingUpdates.add(i),i)),Ml(100)).subscribe(()=>this.handlePendingUpdates()))}decorationType;disposables=tt();dispose=this.disposables.dispose;eventEmitter=cr();_visible=!1;_pendingUpdates=new Set;get visible(){return this._visible}set visible(e){this.context.globalState.update(t.globalStateKey,e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}refreshEditor(e){e??=xi.default.window.activeTextEditor,e&&this.eventEmitter.notify(e)}refreshDocument(e){if(!this.visible)return;let n=xi.default.window.visibleTextEditors.find(i=>i.document===e);n&&this.refreshEditor(n)}clearDecoration(){this.decorationType?.dispose(),this.decorationType=void 0}resetDecorator(){this.clearDecoration(),this.visible&&(this.createDecorator(),this.refreshEditor())}createDecorator(){this.decorationType?.dispose(),this.decorationType=xi.default.window.createTextEditorDecorationType({opacity:"0.5"})}async getOffsets(e){let n=e?.document;return n?n.uri.scheme in $q?[]:(await this.client.serverApi.getSpellCheckingOffsets({uri:n.uri.toString()})).offsets:[]}handlePendingUpdates(){let e=[...this._pendingUpdates];this._pendingUpdates.clear();for(let n of e)this.updateDecorations(n)}async updateDecorations(e){if(!this.decorationType||!e)return;let n=new xi.default.MarkdownString("Excluded from spell checking");try{let i=e.document,r=[],s=await this.getOffsets(e);if(s.length<2)return;let o=0;for(let c=0;c<s.length-1;c+=2){let u=s[c];if(u<=o){o=s[c+1];continue}let f=new xi.default.Range(i.positionAt(o),i.positionAt(u));r.push({range:f,hoverMessage:n}),o=s[c+1]}let a=i.getText().length;if(o<a){let c=new xi.default.Range(i.positionAt(o),i.positionAt(a));r.push({range:c})}e.setDecorations(this.decorationType,r)}catch(i){e.setDecorations(this.decorationType,[]),Yc(i,"Failed to update decorations")}}getHoverProvider(){return{provideHover:async(e,n)=>{if(!this.visible||e.uri.scheme in $q)return;let i=e.getWordRangeAtPosition(n);if(!i)return;let r=e.getText(i),s=await this.client.serverApi.traceWord({uri:e.uri.toString(),word:r}),o=new xi.default.MarkdownString;if(o.appendMarkdown(`### Trace:
`),o.isTrusted=!0,o.baseUri=e.uri,o.supportThemeIcons=!0,s.errors&&o.appendMarkdown("**Errors:** ").appendText(s.errors+`
`),s.traces)for(let c of s.traces){let u=c.traces.filter(g=>g.found),f=c.word;o.appendMarkdown(`**\`${f.replace(/`/g,"'")}\`:** ${c.found?"Found":"Not Found"}
`);for(let g of u)DX(g.dictSource||"")&&!g.dictSource.includes("node_modules")?o.appendMarkdown("- $(book) [").appendText(g.dictName).appendMarkdown("](").appendText(g.dictSource).appendMarkdown(")"):o.appendMarkdown("- $(book) _").appendText(g.dictName).appendMarkdown("_"),g.forbidden&&o.appendMarkdown(" _(Forbidden)_"),g.foundWord&&g.foundWord!==f&&o.appendMarkdown(" **").appendText(g.foundWord.trim()).appendMarkdown("**"),o.appendMarkdown(`
`);o.appendMarkdown(`
`)}return o.appendMarkdown(`
[Disable Trace Mode](command:cSpell.toggleTraceMode)`),new xi.default.Hover(o,i)}}}static globalStateKey="showTrace"},bX=/^([a-z-]{2,}):\/\//i;function DX(t){return bX.test(t)}var Gq=require("util"),At=Fe(require("vscode"),1);var jl=Fe(ic(),1);var Cx=Fe(ic(),1);function Hq(t){async function e(i,r){let s=new Cx.RequestType(i);return await t.sendRequest(s,r)}return{matchPatternsInDocument:i=>e("matchPatternsInDocument",i)}}var TX=["--nolazy","--inspect=60148"],wX=!1,Rg=class t{client;serverApi;static create(e){return new t(e)}constructor(e){let n=e.asAbsolutePath("packages/_serverPatternMatcher/dist/main.cjs"),i={documentSelector:[{scheme:"file"},{scheme:"vscode-vfs"},{scheme:"untitled"}],diagnosticCollectionName:"cspell-pattern-matcher",initializationFailedHandler:c=>(console.error("Server initialization failed. %o",c),!1)},r=[],s={execArgv:r},o={execArgv:[...r,...TX]},a={run:{module:n,transport:jl.TransportKind.ipc,options:s},debug:{module:n,transport:jl.TransportKind.ipc,options:o}};this.client=new jl.LanguageClient("cspell-pattern-matcher",a,i),this.client.registerProposedFeatures(),this.serverApi=Hq(this.client),dn(this.initWhenReady(),"Init Pattern Matcher Server")}async matchPatternsInDocument(e,n,i){return this.serverApi.matchPatternsInDocument({uri:e.uri.toString(),patterns:n,settings:i})}dispose(){vx("Dispose: Pattern Matcher Client"),this.client.stop()}onReady(){return this.client.start()}async initWhenReady(){vx("waiting initWhenReady"),await this.onReady(),vx("done initWhenReady")}},vx=(...t)=>{wX&&console.log(...t)};var ur=Fe(require("vscode"),1),Ag=class{_onDidChangeTreeData=new ur.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;outline;refresh(e){this.outline=e?xX(e):void 0,this._onDidChangeTreeData.fire(void 0)}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve(this.outline?.children)}getTreeItem(e){return e.treeItem}getParent(e){return e.parent}};function xX(t){let e={treeItem:new ur.TreeItem("root",ur.TreeItemCollapsibleState.Expanded)};return e.children=[...t.entries()].map(n=>EX(e,...n)),e}function EX(t,e,n){return{parent:t,treeItem:new ur.TreeItem(e,ur.TreeItemCollapsibleState.Expanded),children:n.map(Vq)}}function Vq(t){let n={treeItem:new Sx(t)};return n.children=FX(n),n}function kX(t){return t.length<=50?t:t.substr(0,49)+"\u2026"}function FX(t){let e=t.treeItem.pattern;if(e.defs.length<2)return;let n=e.name;return e.defs.map((i,r)=>({name:`${n}.${r}`,defs:[i]})).map(Vq)}var Sx=class extends ur.TreeItem{constructor(n){super(kX(n.name),n.defs.length>1?ur.TreeItemCollapsibleState.Expanded:ur.TreeItemCollapsibleState.None);this.pattern=n;this.pattern=n;let{timeMs:i,errorMsg:r,toolTip:s,count:o}=PX(n),a=r?" "+r:"",c=[`${i}ms`,`(${o})`,a].filter(u=>!!u);this.description=c.join(" "),this.tooltip=s,this.command={command:"cSpellRegExpTester.selectRegExp",arguments:[n.defs[0]?.regexp],title:"Select RegExp"},this.contextValue="regexp"}};function PX(t){let e=t.defs.map(o=>o.elapsedTime).reduce((o,a)=>o+a,0).toFixed(2),n=t.defs.map(o=>o.errorMessage).filter(o=>!!o).join(", "),i=t.defs.map(o=>o.regexp.toString()),r=i.length>1?"Multi Pattern":i.join(""),s=t.defs.map(o=>o.matches.length).reduce((o,a)=>o+a,0);return{timeMs:e,errorMsg:n,toolTip:r,count:s}}var RX=5;function Jq(t,e){let n=new Set,i=new Ag,r;n.add(At.window.registerTreeDataProvider("cSpellRegExpView",i));let s,o=At.window.createTextEditorDecorationType({overviewRulerColor:"green",overviewRulerLane:At.OverviewRulerLane.Center,light:{backgroundColor:"#C0C0FFCC"},dark:{backgroundColor:"#347890CC"}}),a=zq(),c=a?At.window.activeTextEditor:void 0,u,f=[],g=Qc(p,"updateDecorations",Xc);async function p(){if(!a||!c){d();return}let ne=c.document,$=ne.version,N=await e.getConfigurationForDocument(ne,{includeRegExpList:!0,ignoreRegExpList:!0,patterns:!0}),H=AX(N.docSettings,f),te=H.map(ae=>ae.pattern),K=u?0:-1,G=await U(),Q={patterns:N.docSettings?.patterns||N.settings?.patterns||[]};await G.matchPatternsInDocument(ne,te,Q).then(ae=>{if(!At.window.activeTextEditor||ne.version!==$||At.window.activeTextEditor?.document!=ne||ae.message)return;let se=ae&&new Map;ae?.patternMatches.forEach(($e,ke)=>{let ht=H[ke].category,wt=se?.get(ht)||[];wt.push($e),se?.set(ht,wt)}),i.refresh(se);let re=At.window.activeTextEditor,ve=ae.patternMatches.filter(($e,ke)=>ke===K).map(l).reduce(($e,ke)=>$e.concat(ke),[]).map($e=>{let{range:ke,message:ht}=$e,wt=re.document.positionAt(ke[0]),Jn=re.document.positionAt(ke[1]);return{range:new At.Range(wt,Jn),hoverMessage:ht}});re.setDecorations(o,ve)})}function l(ne){let{name:$,defs:N}=ne;return N.map(H=>H.matches.map(te=>({range:te,elapsedTime:H.elapsedTime})).map(({range:te,elapsedTime:K})=>({range:te,message:h($,K)}))).reduce((H,te)=>H.concat(te),[])}function d(){c?.setDecorations(o,[])}function h(ne,$){return new At.MarkdownString().appendText(ne+" "+$.toFixed(2)+"ms")}function m(){s&&(clearTimeout(s),s=void 0),s=setTimeout(g,100)}c&&m(),At.window.onDidChangeActiveTextEditor(ne=>{a&&(c=ne,ne&&m())},null,t.subscriptions),At.workspace.onDidChangeTextDocument(ne=>{a&&c&&ne.document===c.document&&m()},null,t.subscriptions);function C(){}function T(ne){function $(H){try{Zh(H,"g")}catch(te){return Jc(te)?te.message:(0,Gq.format)(te)}}u=ne||u;let N=At.window.showInputBox({prompt:"Enter a Regular Expression",placeHolder:"Example: /\bw+/g",value:u?.toString(),validateInput:$}).then(H=>{u=H||void 0,k(u),m()});return dn(N,"userTestRegExp")}function w(ne){return typeof ne=="string"&&!!ne}function k(ne){f=[...new Set([ne].concat(f))].filter(w),f.length=Math.min(f.length,RX)}function A(ne){u===ne?u=void 0:u=ne,k(u),m()}function B(ne){if(ne?.treeItem?.pattern){m();let{defs:$,name:N}=ne.treeItem.pattern;T($[0]?.regexp||N)}}function W(){let ne=a;a=zq(),ne!=a&&(a?(c=At.window.activeTextEditor,m()):d())}function U(){r||(r=Rg.create(t));let ne=r;return ne.onReady().then(()=>ne)}function ie(){for(let ne of n)ne.dispose();n.clear()}t.subscriptions.push({dispose:ie},At.commands.registerCommand("cSpellRegExpTester.testRegExp",Qc(T,"testRegExp",Yc)),At.commands.registerCommand("cSpellRegExpTester.selectRegExp",A),At.commands.registerCommand("cSpellRegExpTester.editRegExp",B),At.workspace.onDidChangeConfiguration(W))}function AX(t,e){let n=[];return e.forEach(i=>n.push({category:"User Patterns",pattern:i})),t?.includeRegExpList?.forEach(i=>n.push({category:"Include Regexp List",pattern:i.toString()})),t?.ignoreRegExpList?.forEach(i=>n.push({category:"Exclude Regexp List",pattern:i.toString()})),t?.patterns?.forEach(i=>n.push({category:"Patterns",pattern:IX(i)})),n}function IX(t){let{name:e,pattern:n}=t;function i(s){return s.toString()}function r(s){return Array.isArray(s)?s.map(i):i(s)}return{name:e,pattern:r(n)}}function zq(){return!!At.workspace.getConfiguration($t)?.get("experimental.enableRegexpView")}var Xq=require("vscode");var Ig=class{constructor(e){this.client=e;this.disposables.push(e.onDiagnostics(n=>this.handleDiagsFromServer(n))),this.disposables.push(Xq.workspace.onDidCloseTextDocument(n=>this.handleDocClose(n)))}disposables=tt();issues=new Map;subscribable=cr();cachedSuggestions=new Map;getSpellingIssues(e){return this.getIssues(e,n=>n.isIssueTypeSpelling())}getDirectiveIssues(e){return this.getIssues(e,n=>n.isIssueTypeDirective())}getIssues(e,n){let i=this.rawIssues(e);if(i)return n?new _g(i.filter(n)):new _g(i)}getSpellingIssueByFile(){return[...this.issues.values()].map(e=>({...e,issues:e.issues.filter(n=>n.isIssueTypeSpelling())}))}getIssuesByIssueType(e,n){return this.getIssues(n,i=>i.isIssueType(e))}getIssueCount(e,n=i=>i.isIssueTypeSpelling()){return e?this.issues.get(e.toString())?.issues.filter(n).length||0:[...this.issues.values()].reduce((i,r)=>i+r.issues.filter(n).length,0)}getUrisWithIssues(){return[...this.issues.values()].filter(e=>e.issues.length).map(e=>e.uri)}onDidChangeDiagnostics(e){return this.subscribable.subscribe(e)}getSuggestionsForIssue(e){let n=e.document.uri.toString(),i=io(this.cachedSuggestions,n,()=>new Map);return io(i,e.word,()=>this.fetchSuggestionsForIssue(e))}async fetchSuggestionsForIssue(e){return(await this.client.requestSpellingSuggestions(e.word,e.document)).suggestions}dispose=this.disposables.dispose;handleDiagsFromServer(e){let n=this.mapToFileIssues(e);if(!n)return;let i=n.uri.toString();this.cachedSuggestions.delete(i),this.issues.set(i,n),this.subscribable.notify({uris:[e.uri]})}handleDocClose(e){let n=e.uri.toString();this.cachedSuggestions.delete(n),this.issues.delete(n)}mapToFileIssues(e){let n=Er(e.uri);if(!n){Mc(`Failed to find document for ${e.uri.toString()}`);return}return{uri:n.uri,document:n,issues:e.diagnostics.map(i=>bx.fromDiagnostic(n,i,e.version||n.version))}}rawIssues(e){return e?this.issues.get(e.toString())?.issues:[...this.issues.values()].flatMap(n=>n.issues)}getConfigurationTargets(e){return this.client.getConfigurationTargets({uri:e})}},bx=class t{constructor(e,n,i){this.document=e;this.diag=n;this.version=i;this.document=e}get uri(){return this.document.uri}isFlagged(){return this.diag.data?.isFlagged||!1}isKnown(){return this.diag.data?.isKnown||!1}isSuggestion(){return this.diag.data?.isSuggestion||!1}treatAsSuggestion(){return this.isSuggestion()||!this.applyStrictRules()&&!this.isFlagged()&&!this.isKnown()}applyStrictRules(){return this.diag.data?.strict??!0}hasPreferredSuggestions(){let e=this.providedSuggestions();return e?e.filter(n=>n.isPreferred).length===1:!1}getPreferredSuggestions(){let e=this.providedSuggestions();if(!e)return;let n=e.filter(i=>i.isPreferred);if(n.length===1)return n.map(i=>i.word)}get word(){let e=this.diag.data?.text;return e!==void 0?e:this.document.getText(this.diag.range)}isIssueTypeSpelling(){return!this.diag.data?.issueType}isIssueTypeDirective(){return this.diag.data?.issueType===$m.directive}isIssueType(e){return this.diag.data?.issueType===e}isStale(){return this.version!==this.document.version}get severity(){return this.diag.severity}get range(){return this.diag.range}providedSuggestions(){return this.diag.data?.suggestions}static fromDiagnostic(e,n,i){return new t(e,n,i)}},_g=class{constructor(e){this.issues=e;this.map=e.map.bind(e),this.filter=e.filter.bind(e),this.forEach=e.forEach.bind(e)}map;filter;forEach;get length(){return this.issues.length}getSpellingIssues(){return this.issues.filter(e=>e.isIssueTypeSpelling())}getDirectiveIssues(){return this.issues.filter(e=>e.isIssueTypeDirective())}getStats(){let e={spelling:0,directive:0,flagged:0,suggestions:0,haveSuggestions:0};for(let n of this.issues)n.isIssueTypeSpelling()?(e.spelling++,n.isFlagged()&&e.flagged++,n.isSuggestion()&&e.suggestions++,n.providedSuggestions()?.length&&e.haveSuggestions++):n.isIssueTypeDirective()&&e.directive++;return e}[Symbol.iterator](){return this.issues[Symbol.iterator]()}};var at=Fe(require("vscode"),1),Wl=require("vscode");var gn=()=>{};var Ei=Fe(require("vscode"),1),lr={issue:new Ei.ThemeIcon("issues",new Ei.ThemeColor("list.warningForeground")),info:new Ei.ThemeIcon("info"),warning:new Ei.ThemeIcon("warning",new Ei.ThemeColor("list.warningForeground")),error:new Ei.ThemeIcon("error",new Ei.ThemeColor("list.errorForeground")),doc:new Ei.ThemeIcon("go-to-file"),applySuggestion:new Ei.ThemeIcon("pencil"),applySuggestionPreferred:new Ei.ThemeIcon("pencil"),gear:new Ei.ThemeIcon("gear")};function Yq(t){return Dx({isFlagged:()=>t.isFlagged(),isKnown:()=>t.isKnown(),isSuggestion:()=>t.treatAsSuggestion()})}function Dx(t){return t.isFlagged()?lr.error:t.isKnown()?lr.warning:t.isSuggestion()?lr.info:lr.issue}function Bl(t){let e=ig(t);return n=>e(n.uri)}var Ln=class{};function Ng(t){return Jo(t).replace(/^`+/g,"").replace(/`+$/g,"")}function Jo(t){let e=[...t.matchAll(/`+/g)].map(i=>i[0].length).reduce((i,r)=>Math.max(i,r),0),n="`".repeat(e+1);return t=t.replace(/\t/g,"\u21E5").replace(/\r?\n/g,"\u23CE").replace(/\r/g,"\u23CE").replace(/\s/g," ").replace("`$","` ").replace("^`"," `"),n+t+n}var NX=!1,es=NX?console.log:gn,LX=200;function Ex(t,e){t.subscriptions.push(Tx.register(e)),t.subscriptions.push(at.commands.registerCommand(di["cSpell.issuesViewByFile.item.autoFixSpellingIssues"],MX),at.commands.registerCommand(di["cSpell.issuesViewByFile.item.addWordToDictionary"],qX),at.commands.registerCommand("cSpell.issuesViewByFile.item.addWordToTarget",UX))}var Tx=class t{disposeList=tt();treeView;treeDataProvider;uiEventFnEmitter=ro();constructor(e){let n=new wx({issueTracker:e,setDescription:i=>{this.treeView.description=i},setMessage:i=>{this.treeView.message=i},onDidUpdate:()=>this.onDidUpdate()});this.treeDataProvider=n,this.treeView=at.window.createTreeView(t.viewID,{treeDataProvider:n,showCollapseAll:!0}),this.disposeList.push(this.treeView,this.uiEventFnEmitter,qm(this.uiEventFnEmitter,Mm(LX))(i=>i()),at.window.onDidChangeActiveTextEditor(i=>this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(i))),at.window.onDidChangeActiveNotebookEditor(i=>this._emitUIEvent(()=>this.onDidChangeActiveNotebookEditor(i))),n.onDidChangeTreeData(i=>this.onDidChangeTreeData(i)),this.treeView.onDidChangeSelection(i=>this.onDidChangeSelection(i)),this.treeView.onDidChangeVisibility(i=>(es("onDidChangeVisibility",i),this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(at.window.activeTextEditor))))),this.treeView.title="Spelling Issues",this.treeView.message="No open documents."}_emitUIEvent(e){this.uiEventFnEmitter.fire(e)}onDidChangeActiveTextEditor(e){e&&(es("onDidChangeActiveTextEditor",e.document.uri.toString()),dn(this.adjustRevel(e.document,e.visibleRanges),"onDidChangeActiveTextEditor"))}onDidChangeActiveNotebookEditor(e,n){if(!e)return;let i=e.notebook;n??=e.visibleRanges;let r=at.window.visibleTextEditors,s=Um(r,"document"),o=[];for(let u of n)for(let f=u.start;f<u.end;f++){let g=i.cellAt(f);if(!s.get(g.document))continue;let l=void 0;l&&o.push(l)}if(!o.length)return;let a=o.reduce((u,f)=>(u.top??=f.top,u.bottom=f.bottom??u.bottom,u.closest??=f.closest,u),{...o[0]}),c=o.map(u=>u.middle).filter(vn);a.middle=c[Math.floor(c.length/2)]}onDidUpdate(){es("IssueExplorerByFile.onDidUpdate",at.window.activeTextEditor?.document.uri.toString()),this.onDidChangeActiveTextEditor(at.window.activeTextEditor)}onDidChangeTreeData(e){es("onDidChangeTreeData");let n=this.treeDataProvider.getIssueCount();this.treeView.badge=n?{tooltip:`Issues found: ${n}`,value:n}:void 0}onDidChangeSelection(e){es("onDidChangeSelection",e.selection.length);let n=e.selection[0];n instanceof mc&&es("IssueExplorerByFile.onDidChangeSelection",n.issue.diag.message)}async adjustRevel(e,n){if(!this.treeView.visible)return;let i=this.treeDataProvider.findMatchingChild(e.uri);if(!i)return;let r=i.findMatchingIssues(n);return r?this.revealItems(r,!1):this.revealItems([i],!0)}async revealItems(e,n){if(es("revealItems",e.length,this.treeView.visible),!this.treeView.visible||!e.length)return;let i=e[e.length-1],r=e[0];await this.treeView.reveal(i,{select:!1,focus:!1,expand:n}),await this.treeView.reveal(r,{select:!1,focus:!1,expand:n})}dispose=this.disposeList.dispose;static viewID="cSpellIssuesViewByFile";static register(e){return new t(e)}},wx=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,at.window.onDidChangeVisibleTextEditors(()=>this.updateChild()),at.window.tabGroups.onDidChangeTabs(()=>this.updateChild())),e.issueTracker.then(n=>{this.issueTracker=n,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(i=>this.handleOnDidChangeDiagnostics(i))),this.updateChild()})}emitOnDidChange=new at.EventEmitter;disposeList=tt();issueTracker;children;getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();if(this.children)return this.children;let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:i=>this.updateChild(i),requestSuggestions:i=>this.issueTracker?.getSuggestionsForIssue(i)||Promise.resolve([])};return this.children=OX(n),this.updateMessage(this.children.length?void 0:"No issues found."),setTimeout(()=>this.options.onDidUpdate(),10),this.children}getParent(e){if(e instanceof Ln)return e.getParent()}onDidChangeTreeData=this.emitOnDidChange.event;handleOnDidChangeDiagnostics(e){es("IssuesTreeDataProvider.handleOnDidChangeDiagnostics",e.uris.map(n=>n.toString(!0))),this.updateChild()}updateChild(e=void 0){e||(this.children=void 0),this.emitOnDidChange.fire(e)}updateMessage(e,n){this.options.setDescription(n),this.options.setMessage(e)}getIssueCount(){if(!this.issueTracker)return 0;let e=Bl(!0);return this.issueTracker.getIssueCount(void 0,n=>n.isIssueTypeSpelling()&&e(n))}findMatchingChild(e){return this.children?.find(n=>n.document.uri.toString()===e.toString())}dispose=this.disposeList.dispose},Lg=class extends Ln{constructor(n,i,r){super();this.context=n;this.document=i;this.issues=r}children;targets;getTreeItem(){let n=at.workspace.asRelativePath(this.document.uri,!0),i=new Wl.TreeItem(n);i.resourceUri=this.document.uri,i.iconPath=at.ThemeIcon.File,i.description=`${this.issues.length}`;let r=this.issues.some(a=>a.hasPreferredSuggestions());i.contextValue=r?"issue.FileWithIssuesTreeItem.hasPreferred":"issue.FileWithIssuesTreeItem";let o=[at.window.activeTextEditor?.document.uri,at.window.activeNotebookEditor?.notebook.uri,...at.window.activeNotebookEditor?.notebook.getCells().map(a=>a.document.uri)||[]].includes(this.document.uri);return i.collapsibleState=this.issues.length?o?at.TreeItemCollapsibleState.Expanded:at.TreeItemCollapsibleState.Collapsed:void 0,i}getChildren(){return this.children?this.children:(this.children=this.issues.map(n=>new mc(this.context,this,n,this.getTargets)).sort(mc.compare),this.children)}getParent(){}findMatchingIssues(n){if(!n)return this.children;let i=this.children?.filter(r=>r.findMatchingIssues(n));return i?.length?i:void 0}getTargets=()=>this.targets?this.targets:(this.targets=this.context.issueTracker.getConfigurationTargets(this.document.uri).then(n=>({targets:n.configTargets})),this.targets);toString(){return`FileWithIssuesTreeItem: ${this.document.uri.toString()}`}},mc=class extends Ln{constructor(n,i,r,s){super();this.context=n;this.file=i;this.issue=r;this.getTargets=s;this.cell=ju(r.document),this.document=this.cell?.document??r.document,this.cellIndex=this.cell?this.cell.index:-1,this.range=r.range}children;pChildren;cell;document;cellIndex;range;getTreeItem(){let n=this.issue,i=new Wl.TreeItem(n.diag.message),r=n.range;i.id=[n.uri.toString(),r.start.line,r.start.character,r.end.line,r.end.character].join(":");let s=`${this.cellIndex>=0?`Cell ${this.cellIndex+1}, `:""}Ln ${this.range.start.line+1}, Col ${this.range.start.character+1}`,o=this.issue.getPreferredSuggestions(),a=o?` (fix with: ${o.join(", ")})`:"";i.description=s+a;let c=!!this.issue.diag.data?.isFlagged;return i.contextValue="issue.FileIssueTreeItem"+(c?".flagged":""),i.collapsibleState=!this.children||this.children.length?at.TreeItemCollapsibleState.Collapsed:at.TreeItemCollapsibleState.None,i.iconPath=Yq(this.issue),i.tooltip=this.tooltip(),i.command=this.getCommand(),i}getCommand(){return{title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.range,preserveFocus:!0}]}}getChildren(){if(this.children)return this.children;this.pChildren??=this.#e()}async#e(){if(this.children)return this.children;let n=await this.context.requestSuggestions(this.issue),i=await this.getTargets(this.issue.uri),r=this.children=[...n.map(s=>new xx(this,this.issue,s)),...i.targets.map(s=>new Og(this,this.issue,s))];return this.pChildren=void 0,this.context.invalidate(this),r}getParent(){return this.file}findMatchingIssues(n){if(!n)return[this];for(let i of n)if(i.contains(this.range))return[this]}tooltip(){}toString(){return`FileIssueTreeItem: ${this.issue.diag.message}`}static compare(n,i){let r=n.cellIndex-i.cellIndex;if(r)return r;let s=n.range.start.line-i.range.start.line;return s||n.range.start.character-i.range.start.character}},xx=class extends Ln{constructor(n,i,r){super();this.parent=n;this.issue=i;this.suggestion=r}getTreeItem(){let n=this.issue,{word:i,isPreferred:r}=this.suggestion,s=new Wl.TreeItem(i);s.id=Qq(n.uri,n.range,i),s.iconPath=r?lr.applySuggestionPreferred:lr.applySuggestion,s.description=r&&"(preferred)";let o=Jo(i),c="Replace Issue with: "+Ng(i);return s.command={title:c,command:di["cSpell.fixSpellingIssue"],arguments:[this.issue.uri,this.issue.word,i,[this.issue.range]]},s.tooltip=new at.MarkdownString().appendMarkdown(`Fix Issue with: ${o}`),s.accessibilityInformation={label:c},s.contextValue=r?"issue.suggestion-preferred":"issue.suggestion",s}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}toString(){return`IssueSuggestionTreeItem: ${this.issue.word} -> ${this.suggestion.word}`}},Og=class extends Ln{constructor(n,i,r){super();this.parent=n;this.issue=i;this.target=r}getTreeItem(){let n=this.issue,i=new Wl.TreeItem("Add to "+this.target.name);i.id=Qq(n.uri,n.range,this.target.name),i.iconPath=lr.gear,i.description="";let r=Jo(n.word),s=this.target.kind==="dictionary"?"dictionary":"configuration",o=`Add ${r} to ${this.target.name} ${s}.`;return i.tooltip=new at.MarkdownString().appendMarkdown(o),i.accessibilityInformation={label:o},i.command={title:o,command:"cSpell.issuesViewByFile.item.addWordToTarget",arguments:[this]},i}getChildren(){}getParent(){return this.parent}isPreferred(){return!1}applyFix(){return rt(it("dictionaryHelper").addWordsToTargetServerConfigTarget(this.issue.word,this.target,this.issue.document.uri),"addWordsToConfig")}toString(){return`IssueAddToTargetTreeItem: ${this.issue.word} to ${this.target.name}`}};function OX(t){let e=Bl(!0),n=t.issueTracker.getSpellingIssueByFile().filter(e).map(a=>({...a,doc:Er(a.uri)})),i=o(n),r=new Intl.Collator().compare;return[...i].filter(([a,c])=>c.length).map(([a,c])=>new Lg(t,a,c)).sort((a,c)=>r(a.document.uri.toString(!0),c.document.uri.toString(!0)));function o(a){let c=new Map;for(let f of a)u(f);return c;function u(f){if(!f.doc)return;let g=f.doc,p=Hf(g),l=c.get(p)||[];l.push(...f.issues),c.set(p,l)}}}function MX(t){if(t instanceof Lg)return ng(t.document.uri)}function qX(t){if(!(t instanceof mc))return;let e=t.document;return fc["cSpell.addWordToDictionary"](t.issue.word,e.uri)}function UX(t){if(t instanceof Og)return es("handleAddWordToTarget %o",{word:t.issue.word,target:t.target}),t.applyFix()}function Qq(t,e,...n){return[t.toString(),e.start.line,e.start.character,e.end.line,e.end.character,...n].join(":")}var nn=Fe(require("vscode"),1),yc=require("vscode");function Ix(t,e){t.subscriptions.push(kx.register(e)),t.subscriptions.push(nn.commands.registerCommand(di["cSpell.issueViewer.item.openSuggestionsForIssue"],KX),nn.commands.registerCommand(di["cSpell.issueViewer.item.autoFixSpellingIssues"],$X),nn.commands.registerCommand(di["cSpell.issueViewer.item.addWordToDictionary"],HX))}var jX=100,kx=class t{disposeList=tt();treeView;uiEventFnEmitter=cr();treeDataProvider;constructor(e){this.treeDataProvider=new Fx({issueTracker:void 0,setDescription:n=>{this.treeView.description=n},setMessage:n=>{this.treeView.message=n}}),e.then(n=>this.treeDataProvider.setIssuesTracker(n)),this.treeView=nn.window.createTreeView(t.viewID,{treeDataProvider:this.treeDataProvider,showCollapseAll:!0}),this.disposeList.push(this.treeView,ql(this.uiEventFnEmitter,px(jX)).subscribe(n=>n()),this.listenEvent(nn.window.onDidChangeTextEditorSelection,n=>this.handleOnDidChangeTextEditorSelection(n)),this.listenEvent(nn.window.onDidChangeActiveTextEditor,n=>this.handleTextEditorChange(n)),this.listenEvent(this.treeDataProvider.onDidChangeTreeData.bind(this.treeDataProvider),()=>this.handleTextEditorChange(nn.window.activeTextEditor))),this.treeView.title="Words with Issues",this.treeView.message="No open documents."}dispose=this.disposeList.dispose;handleOnDidChangeTextEditorSelection(e){this.handleTextEditorChange(e.textEditor)}handleTextEditorChange(e){if(!this.treeView.visible||!e)return;let n=this.treeDataProvider.findRelatedIssue(e);n&&this.treeView.reveal(n,{select:!0,focus:!1})}listenEvent(e,n){return e(i=>this.uiEventFnEmitter.notify(()=>n(i)))}static viewID="cSpellIssuesViewByIssue";static register(e){return new t(e)}},Fx=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,nn.window.onDidChangeVisibleTextEditors(()=>this.refresh()),nn.window.tabGroups.onDidChangeTabs(()=>this.refresh())),this.options.issueTracker&&this.setIssuesTracker(this.options.issueTracker)}emitOnDidChange=cr();disposeList=tt();suggestions=new Map;issueTracker;children;setIssuesTracker(e){this.issueTracker=e,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(n=>this.handleOnDidChangeDiagnostics(n))),this.refresh()}getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:r=>this.emitOnDidChange.notify(r),requestSuggestions:r=>(dn(this.fetchSuggestions(r),"IssuesTreeDataProvider requestSuggestions"),this.suggestions.get(r.word))},i=BX(n);return this.children=i,this.updateMessage(i.length?void 0:"No issues found."),i}getParent(e){if(e instanceof Ln)return e.getParent()}onDidChangeTreeData(e,n,i){this.children=void 0;let r=n?e.bind(n):e,s=this.emitOnDidChange.subscribe(o=>r(o));return i&&i.push(s),s}findRelatedIssue(e){return this.children?this.children.find(i=>i.intersectsActiveSelection(e)):void 0}handleOnDidChangeDiagnostics(e){this.refresh()}refresh(e){this.emitOnDidChange.notify(e)}async fetchSuggestions(e){if(!this.issueTracker)return;let{word:n}=e,i=await this.issueTracker.getSuggestionsForIssue(e);this.suggestions.set(n,i),e.onUpdate(i)}updateMessage(e){this.options.setMessage(e)}dispose=this.disposeList.dispose},Kl=class extends Ln{constructor(n,i,r=[]){super();this.context=n;this.word=i;r.forEach(s=>this.addIssue(s))}suggestions;suggestionsByDocument=new Map;conicalDocuments=new Set;issues=[];addIssue(n){let i=n.document,r=this.context.requestSuggestions({word:this.word,document:i,onUpdate:s=>this.onUpdate(i,s)});return this.suggestionsByDocument.set(i,r||[]),this.conicalDocuments.add(Hf(i)),this.issues.push(n)}getTreeItem(){let n=new yc.TreeItem(this.word),i=this.hasPreferred(),r=this.issues.some(c=>c.isFlagged()),s=this.issues.some(c=>c.isKnown());n.iconPath=Dx({isFlagged:()=>r,isKnown:()=>s,isSuggestion:()=>this.issues.some(c=>c.treatAsSuggestion())}),n.description=`${Zq(this.issues.length,"issue","issues")} in ${Zq(this.conicalDocuments.size,"file","files")}${i?"*":""}`;let o=`Number of occurrences: ${this.issues.length}, files: ${this.conicalDocuments.size}`+(i?" (auto fix)":""),a=Jo(this.word);return n.tooltip=new nn.MarkdownString().appendMarkdown((r?"Flagged":s?"Misspelled":"Unknown")+" word: "+a).appendText(`

`).appendText(o),n.collapsibleState=nn.TreeItemCollapsibleState.Collapsed,n.contextValue=i?"issue.hasPreferred":"issue",n}getParent(){}getChildren(){let{context:n,word:i,issues:r,suggestions:s}=this;return[new Px(n,this,i,r),new Rx(this,i,r,s)]}getRange(){}hasPreferred(){return this.suggestions?.filter(i=>i.isPreferred)?.length===1}getPreferred(){let n=this.suggestions?.filter(r=>r.isPreferred);if(n?.length!==1)return;let{word:i}=n[0];return{text:this.word,newText:i,ranges:this.issues.map(r=>r.range)}}intersectsActiveSelection(n){let{document:i,selection:r}=n,{issues:s}=this;return!!s.filter(a=>a.document===i).find(a=>a.range.intersection(r))}async addToDictionary(){let n=this.issues[0]?.document;return fc["cSpell.addWordToDictionary"](this.word,n?.uri)}onUpdate(n,i){this.suggestionsByDocument.set(n,i),this.suggestions=VX(this.suggestionsByDocument),this.context.invalidate(this)}toString(){return`WordIssueTreeItem ${this.word}`}},Px=class extends Ln{constructor(n,i,r,s){super();this.context=n;this.parent=i;this.word=r;this.issues=s}getTreeItem(){let n=new yc.TreeItem("Locations:");return n.collapsibleState=nn.TreeItemCollapsibleState.Collapsed,n}getChildren(){return this.issues.map(n=>new Mg(this,n)).sort(Mg.compare)}getParent(){return this.parent}toString(){return`IssueLocationsTreeItem ${this.word}`}},Rx=class extends Ln{constructor(n,i,r,s){super();this.parent=n;this.word=i;this.issues=r;this.suggestions=s}suggestions;getTreeItem(){return new yc.TreeItem("Fixes:",nn.TreeItemCollapsibleState.Expanded)}getChildren(){return this.suggestions?.map(n=>new Ax(this,this.word,n))}getParent(){return this.parent}toString(){return`IssueFixesTreeItem ${this.word}`}},Mg=class extends Ln{constructor(n,i){super();this.parent=n;this.issue=i;this.cell=ju(this.doc)}cell;get doc(){return this.issue.document}getTreeItem(){let n=this.issue.range,r=`${this.cell?`Cell ${this.cell.index+1} `:" "}Ln ${n.start.line+1} Col ${n.start.character+1}`,s=new yc.TreeItem("");return s.resourceUri=this.doc.uri,s.label=void 0,s.iconPath=nn.ThemeIcon.File,s.description=r,s.command={title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.issue.range}]},s.contextValue="issue.location",s}getChildren(){}getParent(){return this.parent}getRange(){return this.issue.range}toString(){return`IssueLocationTreeItem ${this.issue.word}`}static compare(n,i){let r=n.cell?.document.uri||n.doc.uri,s=i.cell?.document.uri||i.doc.uri,o=r.toString().localeCompare(s.toString());if(o!==0)return o;if(n.cell?.index!==i.cell?.index)return(n.cell?.index||0)-(i.cell?.index||0);let a=n.issue.range,c=i.issue.range;return a.start.line-c.start.line||a.start.character-c.start.character}},Ax=class extends Ln{constructor(n,i,r){super();this.parent=n;this.word=i;this.suggestion=r}getTreeItem(){let{word:n,isPreferred:i}=this.suggestion,r=new yc.TreeItem(n);r.iconPath=i?lr.applySuggestionPreferred:lr.applySuggestion,r.description=i&&"(preferred)";let s=Jo(n),a="Find and Replace Issue with: "+Ng(n);return r.command={title:a,command:"workbench.action.findInFiles",arguments:[{query:this.word,replace:n,preserveCase:!0,triggerSearch:!0,isRegex:!1,isCaseSensitive:!1,onlyOpenEditors:!0}]},r.tooltip=new nn.MarkdownString().appendMarkdown(`Fix Issue with: ${s}`),r.accessibilityInformation={label:a},r.contextValue=i?"issue.suggestion-preferred":"issue.suggestion",r}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}toString(){return`IssueSuggestionTreeItem ${this.word}`}};function BX(t){let e=Bl(t.onlyVisible),n=(t.issueTracker.getSpellingIssues()||[]).filter(e),i=new Map,r=WX(i,c=>new Kl(t,c));n.forEach(a);let s=new Intl.Collator().compare;return[...i.values()].sort((c,u)=>s(c.word,u.word));function a(c){r(c.word).addIssue(c)}}function WX(t,e){return n=>{let i=t.get(n);if(i!==void 0)return i;let r=e(n);return t.set(n,r),r}}function KX(t){t instanceof Ln}function $X(t){t instanceof Kl}function HX(t){if(t instanceof Kl)return t.addToDictionary()}function Zq(t,e,n){return`${t} ${t===1?e:n}`}function VX(t){let e=new Map;for(let s of t.values())for(let o of s){let a=e.get(o.word)||o.isPreferred;e.set(o.word,a)}let n=[...e.entries()].map(([s,o])=>({word:s,isPreferred:o})),i=n.filter(s=>s.isPreferred),r=n.filter(s=>!s.isPreferred);return[...i,...r]}var tU=require("os"),Gi=Fe(require("vscode"),1),Lr=require("vscode");function _x(t){return t.map(zX)}function zX(t){let e=Pl(t);if(e)return Al(e);if(t.kind!=="dictionary")throw new Error(`Unknown config target ${t.kind}`);return sg(t.dictionaryUri,t.name)}var eU="custom-dictionary",GX=`# Custom Dictionary Words
`,qg=class{constructor(e){this.client=e}async addWordsToTargets(e,n,i){let r=await this.resolveTargets(n,i);if(r)return this.addWordToDictionaries(e,r)}addWordsToConfigRep(e,n){let i=Al(n);return this.addWordToDictionary(e,i)}addWordToDictionaries(e,n){return Promise.all(n.map(r=>this.addWordToDictionary(e,r))).then(()=>{})}async addWordToDictionary(e,n){e=Kr(e);try{await n.addWords(e)}catch(i){throw new Ox(`Unable to add "${e}"`,n,e,i)}}async removeWordsFromTargets(e,n,i){e=Kr(e);let r=await this.resolveTargets(n,i);if(r)return this.removeWordFromDictionaries(e,r)}removeWordsFromConfigRep(e,n){let i=Al(n);return this.removeWordFromDictionary(e,i)}removeWordFromDictionaries(e,n){return Promise.all(n.map(r=>this.removeWordFromDictionary(e,r))).then(()=>{})}async removeWordFromDictionary(e,n){e=Kr(e);try{await n.removeWords(e)}catch(i){throw new Ug(`Unable to remove "${e}" from "${n.name}"`,n,i)}}async addIssuesToDictionary(e){if(e=e||Gi.window.activeTextEditor?.document,!e)return;let n=JX(e)?e:await Gi.workspace.openTextDocument(e),i=Hi(n.uri);if(!i.length)return;let r=new Set(i.map(s=>n.getText(s.range)));return this.addWordsToTargets([...r],wd,n.uri)}async createCustomDictionary(e,n){let i=await XX(e);if(!i)throw new Error("Unable to determine location to create dictionary.");if(await this.addCustomDictionaryToConfig(e,i.relPath,n||i.name,i.scope),Mo.isCSpellConfigRepository(e)){let r=await Gi.window.showTextDocument(e.configFileUri,{viewColumn:Gi.ViewColumn.Active});fg(r,"dictionaryDefinitions")}await Gi.window.showTextDocument(i.uri,{viewColumn:Gi.ViewColumn.Beside})}addCustomDictionaryToConfig(e,n,i,r){let s={name:i,path:n,addWords:!0,scope:r??e.defaultDictionaryScope};return nY(e,s)}async getDocConfig(e){if(e){let n=await Gi.workspace.openTextDocument(e);return this.client.getConfigurationForDocument(n,{})}return this.client.getConfigurationForDocument(void 0,{})}async resolveTargets(e,n){if(typeof e!="function")return _x(e);let r=(await this.getDocConfig(n)).configTargets.map(Gh),s=await e(r);return s&&_x(s)}addWordsToTargetServerConfigTarget(e,n,i){return i=i||n.docUri&&Lr.Uri.parse(n.docUri)||void 0,this.addWordsToTargets(e,[cY(n,i)],i)}};function JX(t){return"uri"in t}async function XX(t){let e=YX(t);if(e)return await tY(e.uri),e}function YX(t){return Mo.isCSpellConfigRepository(t)?QX(t):rc.isVSCodeRepository(t)?ZX(t):void 0}function QX(t){let e=t.defaultDictionaryScope,n=Lx(e),i=yr.dirname(t.configFileUri),r=`${Wf}/${n}.txt`,s=Lr.Uri.joinPath(i,r),o="./"+r;return{uri:s,relPath:o,name:n,scope:e}}function ZX(t){let e=_i(t.target);if(t.target===Gi.ConfigurationTarget.Global){let c=Lx(e),u=`${Wf}/${c}.txt`,f=Lr.Uri.file((0,tU.homedir)()),g=Lr.Uri.joinPath(f,u),p="~/"+u;return{uri:g,relPath:p,name:c,scope:e}}let n=t.getWorkspaceFolder();if(!n)return;let i=e==="folder"?"-"+eY(n.name):"",r=Lx(_i(t.target))+i,s=`${Wf}/${r}.txt`,o=Lr.Uri.joinPath(n.uri,s),a=`\${workspaceFolder:${n.name}}/${s}`;return{uri:o,relPath:a,name:r,scope:e}}function Lx(t){return t?`${eU}-${t}`:eU}function eY(t){return t.toLowerCase().replace(/[^\w]/g,"-")}async function tY(t,e=!1){e=e||!await Jt.fileExists(t),e&&(await Jt.createDirectory(yr.dirname(t)),await Jt.writeFile(t,GX,"utf8"))}async function nY(t,e){let n=Mo.isCSpellConfigRepository(t)?iY(e):rc.isVSCodeRepository(t)?rY(e):void 0;if(!n)throw Error(`Unsupported config ${t.kind}`);return t.update(n)}function iY(t){let e=t.name;return Fv([Be.dictionaries,Be.dictionaryDefinitions],n=>{let{dictionaries:i=[],dictionaryDefinitions:r=[]}=n,s=new Map(r.map(a=>[a.name,a])),o=new Set(i);return s.set(e,t),o.add(e),{dictionaries:[...o],dictionaryDefinitions:[...s.values()]}})}function rY(t){let e=t.name;return Fv([Be.customDictionaries,Be.customFolderDictionaries,Be.customWorkspaceDictionaries,Be.customUserDictionaries],n=>{let{customDictionaries:i,...r}=sY(n);return i[e]=t,{...r,customDictionaries:i}})}function sY(t){let{customDictionaries:e={},customFolderDictionaries:n=[],customWorkspaceDictionaries:i=[],customUserDictionaries:r=[]}=t;return{customDictionaries:{...[r.map(Nx("user")),i.map(Nx("workspace")),n.map(Nx("folder"))].reduce(oY,e),...e},customFolderDictionaries:void 0,customWorkspaceDictionaries:void 0,customUserDictionaries:void 0}}function Nx(t){return e=>typeof e=="string"?e:{...e,scope:e.scope||t}}function oY(t,e){return e.reduce(aY,t)}function aY(t,e){let n={...t};return typeof e=="string"?n[e]=!0:n[e.name]=e,n}function cY(t,e){switch(t.kind){case"cspell":return{kind:t.kind,name:t.name,scope:"unknown",configUri:Lr.Uri.parse(t.configUri)};case"vscode":return{kind:t.kind,name:t.name,scope:t.scope,docUri:t.docUri&&Lr.Uri.parse(t.docUri)||e||void 0,configScope:e};case"dictionary":return{kind:t.kind,name:t.name,scope:"unknown",docUri:t.docUri&&Lr.Uri.parse(t.docUri)||e||void 0,dictionaryUri:Lr.Uri.parse(t.dictionaryUri)}}}var Ug=class extends Error{constructor(n,i,r){super(n);this.dictTarget=i;this.cause=r}},Ox=class extends Ug{constructor(n,i,r,s){super(n,i,s);this.words=r;this.cause=s}};function nU(){gi.setConnection({console,onExit:()=>{}}),ck("dictionaryHelper",()=>new qg(it("client")))}var i0=Fe(require("node:assert"),1),o2=Fe(require("node:readline/promises"),1),r0=require("node:util"),a2=Fe(sU(),1),Nt=Fe(require("vscode"),1);var dr={};ME(dr,{beep:()=>WY,clearScreen:()=>qY,clearTerminal:()=>UY,cursorBackward:()=>TY,cursorDown:()=>bY,cursorForward:()=>DY,cursorGetPosition:()=>EY,cursorHide:()=>PY,cursorLeft:()=>cU,cursorMove:()=>SY,cursorNextLine:()=>kY,cursorPrevLine:()=>FY,cursorRestorePosition:()=>xY,cursorSavePosition:()=>wY,cursorShow:()=>RY,cursorTo:()=>vY,cursorUp:()=>aU,enterAlternativeScreen:()=>jY,eraseDown:()=>NY,eraseEndLine:()=>IY,eraseLine:()=>uU,eraseLines:()=>AY,eraseScreen:()=>qx,eraseStartLine:()=>_Y,eraseUp:()=>LY,exitAlternativeScreen:()=>BY,iTerm:()=>HY,image:()=>$Y,link:()=>KY,scrollDown:()=>MY,scrollUp:()=>OY});var Bg=Fe(require("node:process"),1);var jg=globalThis.window?.document!==void 0,Ope=globalThis.process?.versions?.node!==void 0,Mpe=globalThis.process?.versions?.bun!==void 0,qpe=globalThis.Deno?.version?.deno!==void 0,Upe=globalThis.process?.versions?.electron!==void 0,jpe=globalThis.navigator?.userAgent?.includes("jsdom")===!0,Bpe=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,Wpe=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,Kpe=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,$pe=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,$l=globalThis.navigator?.userAgentData?.platform,Hpe=$l==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",Vpe=$l==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",zpe=$l==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",Gpe=$l==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),Jpe=$l==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android";var ct="\x1B[",Vl="\x1B]",Cc="\x07",Hl=";",oU=!jg&&Bg.default.env.TERM_PROGRAM==="Apple_Terminal",yY=!jg&&Bg.default.platform==="win32",CY=jg?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:Bg.default.cwd,vY=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");return typeof e!="number"?ct+(t+1)+"G":ct+(e+1)+Hl+(t+1)+"H"},SY=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");let n="";return t<0?n+=ct+-t+"D":t>0&&(n+=ct+t+"C"),e<0?n+=ct+-e+"A":e>0&&(n+=ct+e+"B"),n},aU=(t=1)=>ct+t+"A",bY=(t=1)=>ct+t+"B",DY=(t=1)=>ct+t+"C",TY=(t=1)=>ct+t+"D",cU=ct+"G",wY=oU?"\x1B7":ct+"s",xY=oU?"\x1B8":ct+"u",EY=ct+"6n",kY=ct+"E",FY=ct+"F",PY=ct+"?25l",RY=ct+"?25h",AY=t=>{let e="";for(let n=0;n<t;n++)e+=uU+(n<t-1?aU():"");return t&&(e+=cU),e},IY=ct+"K",_Y=ct+"1K",uU=ct+"2K",NY=ct+"J",LY=ct+"1J",qx=ct+"2J",OY=ct+"S",MY=ct+"T",qY="\x1Bc",UY=yY?`${qx}${ct}0f`:`${qx}${ct}3J${ct}H`,jY=ct+"?1049h",BY=ct+"?1049l",WY=Cc,KY=(t,e)=>[Vl,"8",Hl,Hl,e,Cc,t,Vl,"8",Hl,Hl,Cc].join(""),$Y=(t,e={})=>{let n=`${Vl}1337;File=inline=1`;return e.width&&(n+=`;width=${e.width}`),e.height&&(n+=`;height=${e.height}`),e.preserveAspectRatio===!1&&(n+=";preserveAspectRatio=0"),n+":"+Buffer.from(t).toString("base64")+Cc},HY={setCwd:(t=CY())=>`${Vl}50;CurrentDir=${t}${Cc}`,annotation(t,e={}){let n=`${Vl}1337;`,i=e.x!==void 0,r=e.y!==void 0;if((i||r)&&!(i&&r&&e.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return t=t.replaceAll("|",""),n+=e.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",e.length>0?n+=(i?[t,e.length,e.x,e.y]:[e.length,t]).join("|"):n+=t,n+Cc}};var lU=(t=0)=>e=>`\x1B[${e+t}m`,dU=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,fU=(t=0)=>(e,n,i)=>`\x1B[${38+t};2;${e};${n};${i}m`,It={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},pU=Object.keys(It.modifier),VY=Object.keys(It.color),zY=Object.keys(It.bgColor),hU=[...VY,...zY];function GY(){let t=new Map;for(let[e,n]of Object.entries(It)){for(let[i,r]of Object.entries(n))It[i]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},n[i]=It[i],t.set(r[0],r[1]);Object.defineProperty(It,e,{value:n,enumerable:!1})}return Object.defineProperty(It,"codes",{value:t,enumerable:!1}),It.color.close="\x1B[39m",It.bgColor.close="\x1B[49m",It.color.ansi=lU(),It.color.ansi256=dU(),It.color.ansi16m=fU(),It.bgColor.ansi=lU(10),It.bgColor.ansi256=dU(10),It.bgColor.ansi16m=fU(10),Object.defineProperties(It,{rgbToAnsi256:{value:(e,n,i)=>e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:e=>{let n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[i]=n;i.length===3&&(i=[...i].map(s=>s+s).join(""));let r=Number.parseInt(i,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:e=>It.rgbToAnsi256(...It.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,i,r;if(e>=232)n=((e-232)*10+8)/255,i=n,r=n;else{e-=16;let a=e%36;n=Math.floor(e/36)/5,i=Math.floor(a/6)/5,r=a%6/5}let s=Math.max(n,i,r)*2;if(s===0)return 30;let o=30+(Math.round(r)<<2|Math.round(i)<<1|Math.round(n));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,n,i)=>It.ansi256ToAnsi(It.rgbToAnsi256(e,n,i)),enumerable:!1},hexToAnsi:{value:e=>It.ansi256ToAnsi(It.hexToAnsi256(e)),enumerable:!1}}),It}var JY=GY(),fr=JY;var XY=[...hU,...pU].map(t=>[t,e=>fr[t].open+e+fr[t].close]),_t=Object.fromEntries(XY);function vc(t){return fr.green.open+t+fr.green.close}function Wg(t){return fr.red.open+t+fr.red.close}function zl(t){return fr.yellow.open+t+fr.yellow.close}function Ux(t){return t.replace(/\n/g,`\r
`).replace(/\r+\r/g,"\r")}function gU(t){return fr.dim.open+t+fr.dim.close}function mU(t,...e){return n=>e.reduce((i,r)=>r(i),t(n))}function yU(){return dr.clearScreen}function Kg(t){return t>0?dr.eraseEndLine:t<0?dr.eraseStartLine:dr.eraseLine}function CU(){return dr.eraseDown}function vU(t,e){return dr.cursorMove(t,e)}function SU(t,e){return dr.cursorTo(t,e)}function jx(){return dr.eraseLine+"\r"}var DU=require("node:util"),$g=Fe(require("assert"),1);function Gl(t,e){let n=[],i=YY(t.replace(/\t/g,"    ")).flatMap(a=>a.split(/ /)),r=0,s="",o="";for(let a of i){if(a===`
`||a==="\r"){n.push(s),s="",o="",r=0;continue}s&&r+o.length+a.length>e&&(n.push(s),s="",o="",r=0),s+=o+a,r+=o.length+a.length,o=" "}return n.push(s),n.map(a=>a.trimEnd())}function YY(t){return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.split(`
`).flatMap(n=>[n,`
`]).slice(0,-1)}var QY=80,Gn=class{constructor(e,n,i,r,s){this.name=e;this.description=n;for(let[a,c]of Object.entries(i))this.#e.push(new Wx(a,c));for(let[a,c]of Object.entries(r))this.#t.push(new Vg(a,c));this.#t.find(a=>a.name=="help")||this.#t.push(new Vg("help",{type:"boolean",description:"Show help",short:"h"})),this.#n=s}#e=[];#t=[];#n;handler(e){return this.#n=e,this}handles(e){return e[0]==this.name}parse(e){let n=tQ(this);(0,$g.default)(e[0]==this.name,`Command name mismatch: ${e[0]} != ${this.name}`);let i=n(e.slice(1)),r=[],s={_:r},o=s,a={},c=a,u=this.arguments,f=0;for(let g of i)switch(g.kind){case"option":{let p=!1,l=this.#t.find(m=>m.name==g.name);if(l||g.name.startsWith("no-")&&(l=this.#t.find(m=>m.name==g.name.slice(3)),p=!0),!l)throw new Error(`Unknown option: ${g.name}`);let d=l.name,h=nQ(g.value,l.baseType);p&&typeof h=="boolean"&&(h=!h),c[d]=l.multiple?bU(a[d],h):h}break;case"positional":{if(r.push(g.value),f>=u.length)throw new Error(`Unexpected argument: ${g.value}`);let p=u[f],l=g.value;o[p.name]=p.multiple?bU(s[p.name],l):l,f+=p.multiple?0:1}break;case"option-terminator":break}return{args:s,options:a,argv:e}}async exec(e){(0,$g.default)(this.#n,"handler not set"),(0,$g.default)(e[0]==this.name);let n=this.parse(e);await this.#n(n)}getArgString(){return this.#e.join(" ")}get options(){return this.#t}get arguments(){return this.#e}},Hg=class{constructor(e,n="",i=""){this.name=e;this.description=n;this.usage=i}#e=new Map;displayWidth=QY;addCommand(...e){for(let n of e)this.#e.set(n.name,n);return this}addCommands(e){return this.addCommand(...e)}getHelp(e,n){let i=e?this.#e.get(e):void 0;if(e&&!i)throw new Error(`Unknown command: ${e}`);return n=n||this.displayWidth,i?this.#n(i,n):this.#t(n)}getApplicationHeader(e=this.displayWidth){return this.#i(e)}#t(e){let n=[];n.push(this.#i(e));let i=[...this.#e.values()].sort((o,a)=>o.name.localeCompare(a.name)),r="  ",s=i.map(o=>ZY(o)).map(o=>[r+o.cmd+" "+o.args,o.description.trim()]);return n.push("Commands:"),n.push(Bx(s,e,"  ")),n.join(`
`)}#n(e,n){let i=[],r=e.options.length?" [options]":"";i.push(`Usage: ${e.name}${r} ${e.getArgString()}`),i.push("",...Gl(e.description,n));let s="  ",o=e.arguments.map(c=>[s+c,c.description.trim()]);o.length&&(i.push(""),i.push("Arguments:"),i.push(Bx(o,n,"  ")));let a=e.options.map(c=>[s+c,c.description.trim()]);return a.length&&(i.push(""),i.push("Options:"),i.push(Bx(a,n,"  "))),i.join(`
`)}#i(e){let n=[];return n.push(this.name,""),this.description&&n.push(...Gl(this.description,e),""),this.usage&&n.push("Usage:",...Gl(this.usage,e),""),n.join(`
`)}getCommand(e){return this.#e.get(e)}parseArgs(e){let n=e[0],i=this.getCommand(n);if(!i)throw new Error(`Unknown command: ${n}`);return i.parse(e)}async exec(e,n){let i=e[0],r=this.getCommand(i);if(!r)throw new Error(`Unknown command: ${i}`);if(r.parse(e).options.help){n(this.#n(r,this.displayWidth));return}await r.exec(e)}getCommandNames(){return[...this.#e.keys()]}};function ZY(t){let e=t.getArgString();return{cmd:t.name,args:e,description:t.description}}var Wx=class{constructor(e,n){this.name=e;this.description=n.description,this.type=n.type,this.required=n.required||!1,this.multiple=this.type.endsWith("[]")}multiple;description;type;required;toString(){let e=this.multiple?"...":"",n=`${this.name}${e}`;return this.required?`<${n}>`:`[${n}]`}},Vg=class{constructor(e,n){this.name=e;if(this.description=n.description,this.type=n.type,this.short=n.short||"",this.param=n.param||this.name,this.required=n.required??!0,this.baseType=eQ(this.type),this.multiple=this.type.endsWith("[]"),this.variadic=n.variadic||!1,this.variadic&&!this.multiple)throw new Error("variadic option must be multiple")}multiple;description;type;short;param;required;baseType;variadic;toString(){let e=this.short?`-${this.short}, `:"",n=this.param||this.name,i=this.variadic?"...":"",r=["boolean","boolean[]"].includes(this.type)?"":`${n}${i}`,s=r&&(this.required?` <${r}>`:` [${r}]`);return`${e}--${this.name}${s}`}};function zs(t,e,n,i){return{[t]:{type:e,description:n,required:i}}}function Xo(t,e,n,i){return{[t]:{type:e,description:n,short:i||void 0}}}function Bx(t,e,n="  "){let i=[],r=Math.max(...t.map(([s])=>s.length),0);for(let[s,o]of t){let a=Gl(o,e-r-n.length);i.push(`${s.padEnd(r)}${n}${a[0]||""}`);for(let c of a.slice(1))i.push(" ".repeat(r)+n+c)}return i.join(`
`)}function eQ(t){return t.replace("[]","")}function bU(...t){return t.flatMap(e=>e).filter(e=>e!==void 0)}function tQ(t){let e={};for(let n of t.options)e[n.name]={type:n.baseType!=="boolean"?"string":"boolean",multiple:n.multiple},n.short&&(e[n.name].short=n.short);return n=>(0,DU.parseArgs)({args:n,options:e,allowPositionals:!0,tokens:!0,strict:!1}).tokens||[]}function nQ(t,e){switch(e){case"boolean":return iQ(t??!0);case"number":return rQ(t);case"string":return typeof t=="string"?t:`${t}`}}function iQ(t){if(t!==void 0){if(typeof t=="boolean")return t;if(typeof t=="number")return!!t;if(typeof t=="string"){let e=t.toLowerCase().trim();if(["true","t","yes","y","1","ok"].includes(e))return!0;if(["false","f","no","n","0",""].includes(e))return!1}throw new Error(`Invalid boolean value: ${t}`)}}function rQ(t){let e=Number(t);if(!Number.isNaN(e))return e;throw new Error(`Invalid number value: ${t}`)}var TU=Fe(require("vscode"),1),sQ=/^.*:/;function Kx(t){let e=TU.workspace.asRelativePath(t,!1);return sQ.test(e)?e:e.split("\\").join("/")}function wU(t,e){let n=typeof t=="string"?t:t.path;if(n.length>e){let i=n.split("/"),r=0,s=i.length,o="",a="",c="\u2026";n=c;let u=n.length;for(;r<s;){let f=i[r],g=i[s-1];if(o.length+f.length<=a.length+g.length){if(u+f.length+1>e)break;u+=f.length+1,o+=f+"/",r++}else{if(u+g.length+1>e)break;u+=g.length+1,a="/"+g+a,s--}}n=o+c+a,n===c&&(a=i[i.length-1],n=c+a.slice(-e+1))}return n}var oQ=60,aQ={checked:!1,issues:0},cQ={checked:!0,issues:0};async function uQ(t){let{uri:e,options:n,index:i,count:r,result:s,startTs:o,endTs:a}=t,{output:c,log:u,width:f}=n,g=lQ(i,r);c(`${g}${_t.gray(wU(Kx(e),Math.min(oQ,f-10-g.length)))}`);let p=await s,d=((a||performance.now())-o).toFixed(2)+"ms";if(p.skipped)return u(` ${d} Skipped`),aQ;let h=[],m=p.issues?.filter(T=>!T.isSuggestion),C=!!(p.errors||m?.length);if(h.push(` ${d}${C?_t.red(" X"):""}`),!C)return c(h.join("")+"\r"+Kg(0)),cQ;if(p.errors&&h.push(`${_t.red("Errors: ")} ${p.errors}`),m)for(let T of m)h.push(dQ(e,T));return u("%s",h.join(`
`)),{checked:!0,issues:m?.length||0}}function lQ(t,e){if(typeof t>"u"||typeof e>"u")return"";let n=e.toString();return`${(t+1).toString().padStart(n.length," ")}/${n} `}function dQ(t,e){let{range:n,text:i,suggestions:r,isFlagged:s}=e,o=`:${n.start.line+1}:${n.start.character+1}`,a=s?"Flagged word":"Unknown word",c=Kx(t),u=r?` fix: (${r.map(f=>_t.yellow(f.word)).join(", ")})`:"";return`  ${_t.green(c)}${_t.yellow(o)} - ${a} (${_t.red(i)})${u}`}function xU(t,e,n,i){let{forceCheck:r}=e,s=performance.now(),o=bg({uri:t.toString()},{forceCheck:r}),a={index:n,count:i,uri:t,startTs:s,options:e,result:o};return o.finally(()=>a.endTs=performance.now()),a}var fQ=10;async function EU(t,e){let n=t.length;e.log(`Checking ${n} documents`);let i=[],r=0,s=0,o=0,a=0;try{let c=0;for(;c<fQ&&c<n;c++){let u=t[c];i.push(xU(u,e,c,n))}for(;!e.cancellationToken.isCancellationRequested;)try{let u=i.shift();if(!u)break;let f=await uQ(u);if(o+=f.issues,s+=f.issues?1:0,r+=f.checked?1:0,a+=f.checked?0:1,c<n){let g=t[c];i.push(xU(g,e,c,n)),c++}}catch(u){e.error(u);break}Promise.all(i.map(u=>u.result)).catch(u=>e.error(u)),e.log(`Checked ${r}/${n} files${a?`, skipped ${a},`:""} with ${o} issues in ${s} files.`)}catch{return}}var Jl=require("vscode");var AU=require("node:os"),IU=require("node:path/posix"),bc=require("vscode"),Ji=Fe(require("vscode"),1);async function*kU(t,e=10){function*n(){let i=!1,r=[],s=t[Symbol.iterator]();function o(){for(;r.length<e;){let a=s.next();if(i=!!a.done,i||a.done)return;r.push(Promise.resolve(a.value()))}}for(o();!i&&r.length;)yield r[0],r.shift(),o();yield*r}for await(let i of n())yield i}var PU=require("node:os"),Sc=require("vscode");function $x(t,e){return new Sc.RelativePattern(e||Yo(),t)}function Hx(t){if(t)return typeof t=="string"?t:t.length>1?`{${t.join(",")}}`:t[0]}function RU(t,e){if((t==="~"||t.startsWith("~/"))&&(e=Sc.Uri.file((0,PU.homedir)()),t=t.slice(2)),!FU(t))return["",Sc.Uri.joinPath(e,t)];let n=t.split("/"),i=0;for(;i<n.length&&!FU(n[i]);++i)e=Sc.Uri.joinPath(e,n[i]);return[n.slice(i).join("/"),e]}function FU(t){return/[*?{}[\]]/.test(t)}function Yo(){return Ji.workspace.workspaceFolders?.[0].uri||hQ(pQ())||bc.Uri.file(".")}function pQ(){return Ji.window.activeTextEditor?.document.uri}function hQ(t){return t&&bc.Uri.joinPath(t,"..")}async function*_U(t,e){if(e?.isCancellationRequested)return[];let n=t.map(i=>async()=>[i,await Ji.workspace.fs.stat(i)]);for await(let i of kU(n,10)){if(e?.isCancellationRequested)break;yield i}}async function zg(t,e,n,i,r){let s=$x(t,e),o=await Ji.workspace.findFiles(s,n&&$x(n,e),i,r);return r?.isCancellationRequested&&gn("globSearch cancelled"),o}function Vx(t,e){return typeof t=="string"&&t.startsWith("~")&&(e=bc.Uri.file((0,AU.homedir)()),t=t.slice(2)),typeof t=="string"?bc.Uri.joinPath(e||Yo(),t):t||Yo()}async function NU(t,e){let n=Vx(t,e);return await Ji.workspace.fs.readDirectory(n)}async function*zx(t,e=!1,n){if(!n?.isCancellationRequested)for await(let[i,r]of await Ji.workspace.fs.readDirectory(t)){if(n?.isCancellationRequested)return;let s=e?await Ji.workspace.fs.stat(bc.Uri.joinPath(t,i)):{type:r};yield[i,s]}}function LU(t){if(!t)return;let e=t.toString().replace(/\/$/,""),n=Ji.workspace.workspaceFolders?.find(i=>i.uri.toString()===e);return n?n.name+"/":Ji.workspace.asRelativePath(t,!0)}function OU(t,e){return(0,IU.relative)(t.path,e.path)}async function MU(t){try{return await Ji.workspace.fs.stat(t)}catch(e){return ua(e)}}var gQ=t=>t;async function qU(t,e){let{log:n,dirSuffix:i="/"}=e;for await(let r of mQ(t,e.cwd,e.cancellationToken)){let[s,o]=r;if(o instanceof Error){n(Wg("Error: ")+`${zl(s)}: No such file or directory`);continue}let c=o.type,u=c&Jl.FileType.Directory?i:"",f=c&Jl.FileType.SymbolicLink?zl:c&Jl.FileType.Directory?vc:gQ;s.startsWith(".")&&(f=mU(f,gU)),n(f(s+u))}}async function*mQ(t,e,n){let i=new Intl.Collator(void 0,{numeric:!0,sensitivity:"variant"});if(!t?.length){yield*zx(e,!1,n);return}for(let r of t){if(n?.isCancellationRequested)return;let[s,o]=RU(r,e);if(!s){let a=await MU(o);if(a instanceof Error){yield[r,a];continue}if(a.type&Jl.FileType.Directory){yield*zx(o,!1,n);continue}yield[r,a];continue}try{let a=await zg(s,o,void 0,void 0,n);a.sort((c,u)=>i.compare(c.path,u.path));for await(let[c,u]of _U(a,n))yield[OU(e,c),u]}catch(a){yield[r,ua(a)]}}}async function UU(t,e){let r=(await it("client").serverApi.spellingSuggestions(t,{uri:e.toString()})).suggestions,s=[];s.push(`Suggestions for "${t}":`),r||s.push(_t.yellow("  No suggestions"));for(let o of r){let a=o.isPreferred||o.word===t?_t.green(o.word):o.word;s.push(`  ${a}${o.isPreferred?_t.yellow("*"):""}`)}return s.join(`
`)}var GU=Fe(VU(),1);async function JU(t,e,n){let{width:i}=n,r=it("client");e=e.toString(),e.endsWith("/")||(e=e+"/");let s=await r.serverApi.traceWord({word:t,uri:e.toString(),searchAllDictionaries:!0,languageId:n.filetype,allowCompoundWords:n.allowCompoundWords});if(!s)return"No trace results";let o=[];o.push(`Trace: "${s.word}"`),s.errors&&(o.push(_t.red("Errors:")),o.push(`  ${s.errors}`));let a=GU.default.configure({maxTotalWidth:i}),c=[n.all?void 0:f=>zU(f)||f.dictEnabled,n.onlyFound?f=>zU(f):void 0,n.onlyEnabled?f=>f.dictEnabled:void 0].filter(vn),u=bQ(c);for(let f of s.traces||[]){o.push(`${f.word}: ${f.found?"":_t.yellow("Not found")}`);let p=[...f.traces].filter(u).sort((l,d)=>l.dictName.localeCompare(d.dictName)).map(l=>{let d=_t.yellow(l.dictName);return{Word:DQ(l.word,l.foundWord,l.found),F:l.forbidden?_t.red("!"):l.found?_t.whiteBright("*"):_t.dim("-"),Dictionary:l.dictEnabled?d:_t.dim(d)}});o.push(a(p))}return o.join(`
`)}function bQ(t){return e=>t.every(n=>n(e))}function DQ(t,e,n){e&&(e=e.split("+").map(_t.green).join(_t.gray("+")));let i=e||_t.green(t);return n?i:_t.dim(i)}function zU(t){return t.found||t.forbidden||t.noSuggest}var e0=Fe(require("node:stream"),1);var TQ=!1,Xi=TQ?console.debug:()=>{};function XU(t){return new Qx(t)}var wQ={ascii:!0,utf8:!0,utf16le:!0,ucs2:!0,base64:!0,base64url:!0,latin1:!0,binary:!0,hex:!0,"utf-8":!0,"ucs-2":!0,"utf-16le":!0},Qx=class extends e0.default.Writable{#e={columns:80,rows:24};constructor(e){super({write:(n,i,r)=>{let s=i in wQ?i:void 0,o=n.toString(s);Xi("write: %o",QU(o)),e.fire(o),setTimeout(r,0)}})}get dimensions(){return this.#e}set dimensions(e){this.#e=e}clearLine(e,n){return Xi("clearLine: %o",e),this.write(Kg(e),n)}clearScreenDown(e){return Xi("clearScreenDown"),this.write(CU(),e)}cursorTo(e,n,i){return Xi("cursorTo: %o, %o",e,n),i=typeof n=="function"?n:i,n=typeof n=="number"?n:void 0,this.write(SU(e,n),i)}moveCursor(e,n,i){return Xi("moveCursor: %o, %o",e,n),this.write(vU(e,n),i)}getColorDepth(e){return Xi("getColorDepth"),256}hasColors(e,n){return Xi("hasColors: %o",e),typeof e!="number"||e<=256}getWindowSize(){return Xi("getWindowSize: %o",this.#e),[this.#e.columns,this.#e.rows]}get columns(){return Xi("columns: %o",this.#e.columns),this.#e.columns}get rows(){return Xi("rows: %o",this.#e.rows),this.#e.rows}get isTTY(){return Xi("isTTY"),!0}},Zx=class extends e0.default.Readable{buffer=[];paused=!0;disposable;constructor(e){super({}),this.disposable=e.event(n=>{this.buffer.push(n),this.pushBuffer()})}_read(){this.paused=!1,this.pushBuffer()}_destroy(){this.disposable.dispose()}pushBuffer(){if(!this.paused)for(let e=this.buffer.shift();e!==void 0&&!this.paused;e=this.buffer.shift())Xi("read: %o",QU(e)),this.push(e)}};function YU(t){return new Zx(t)}var xQ={"\x1B":"\u241B","\n":"\u21B5","\r":"\u21A4","	":"\u21E5"," ":"\u2423"};function QU(t){return[...t].map(e=>xQ[e]||e).join("")}var Yg=Fe(require("node:assert"),1),ZU={n:`
`,r:"\r",t:"	",f:"\f",'"':'"',"'":"'"};function n0(t){return i2(t2(t))}var EQ=[" ","	",`
`,"\r"];function t2(t){let e=[],n=0,i=0,r;for(;n<t.length;){let f=t[n];switch(f){case`
`:case"\r":case"	":case" ":s(r),r=void 0,s(o(),!0);break;case"\\":if([`
`,"\r"].includes(t[n+1])){s(r),r=void 0,s(o(),!0);continue}r=(r||"")+a();break;case'"':case"'":case"`":s(r),r=void 0,s(u(),!1,f);break;default:r=(r||"")+f,++n;break}}return s(r),e;function s(f,g=!1,p=""){f!==void 0&&(e.push({i:n,value:f,original:t.slice(i,n),quote:p,separator:g}),i=n)}function o(){let f=t[n++];for(;n<t.length&&EQ.includes(t[n]);n++)f+=t[n];return f}function a(){return(0,Yg.default)(t[n]==="\\"),++n,n>=t.length?"\\":t[n++]}function c(){if(n>=t.length)return"\\";let f=t[n++];return f===`
`||f==="\r"?(f==="\r"&&t[n]===`
`&&++n,""):f in ZU?ZU[f]:"\\"+f}function u(){let f=t[n++],g="";for(;n<t.length;){let p=t[n++];if(p==="\\")g+=c();else{if(p===f)return g;g+=p}}return g}}var n2={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\\":"\\\\"},kQ=[" ","&",";","|","<",">","`",'"',"'","\\"],FQ=Object.fromEntries(kQ.map(t=>[t,"\\"+t])),PQ={...n2,...FQ};function i2(t){return r2(t).map(n=>n.arg)}function r2(t){let e=[],n;for(let[i,r]of t.entries()){if(r.separator){n!==void 0&&(e.push(n),n=void 0);continue}if(!n){n={arg:r.value,startTokenIndex:i,tokens:[r]};continue}n.arg+=r.value,n.tokens.push(r)}return n!==void 0&&e.push(n),e}function s2(t){return new t0(t2(t))}var t0=class t{constructor(e=[]){this.tokens=e}get line(){return this.tokens.map(e=>e.original).join("")}get args(){return i2(this.tokens)}setArg(e,n,i){let s=r2(this.tokens)[e];(0,Yg.default)(s,"Invalid index"),i??=s.tokens[0].quote,this.tokens.splice(s.startTokenIndex,s.tokens.length,{value:n,original:e2(n,i),quote:i,separator:!1})}pushArg(e,n=""){let i={value:e,original:e2(e,n),quote:n,separator:!1},r=this.tokens[this.tokens.length-1];r&&!r.separator&&this.pushSeparator(),this.tokens.push(i)}hasTrailingSeparator(){return this.tokens[this.tokens.length-1]?.separator||!1}pushSeparator(e=" "){this.tokens.push({value:e,original:e,quote:"",separator:!0})}clone(){return new t([...this.tokens])}};function e2(t,e=""){return t?e?RQ(t,e):AQ(t):e+e||'""'}function RQ(t,e){(0,Yg.default)(e==='"'||e==="'","Invalid quote");let n="";for(let i of t){let r=n2[i]||i;r===e?n+="\\"+e:n+=r}return e+n+e}function AQ(t){if(!t)return'""';let e="";for(let n of t)e+=PQ[n]||n;return e}var IQ=80;function s0(){let t=new Qg;Nt.window.createTerminal({name:"Spell Checker REPL",pty:t}).show()}function o0(){return Nt.window.registerTerminalProfileProvider("cSpell.terminal-profile",{provideTerminalProfile:()=>new Nt.TerminalProfile({name:"Spell Checker REPL",pty:new Qg})})}var Qg=class{#e=new Nt.EventEmitter;#t=new Nt.EventEmitter;#n=new Nt.EventEmitter;onDidWrite=this.#t.event;onDidClose=this.#n.event;handleInput=e=>this.#e.fire(e);#i=XU(this.#t);#r=YU(this.#e);#s=e=>this.#t.fire(e);#l=new AbortController;#d={signal:this.#l.signal};#o=Yo();#a;#c;#f=!1;#u;#p;open(e){gn("Repl.open"),(0,i0.default)(!this.#c,"Repl already open"),(0,i0.default)(!this.#f,"Repl already closed"),e&&(this.#u=e,this.#i.dimensions=e),this.#c=o2.default.createInterface({input:this.#r,output:this.#i,completer:this.completer,terminal:!0});let n=this.#c;n.on("SIGTSTP",()=>{}),n.on("SIGINT",this.#I),n.on("close",()=>(gn("rl close"),this.close())),n.on("line",this.#b),this.#u=e,e&&(this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.#C())}setDimensions(e){this.#u=e,this.#i.dimensions=e,gn("Repl.setDimensions %o",e),this.#v()}dispose=()=>{gn("Repl.dispose"),this.close()};#b=e=>{e=e.trim(),gn("Repl.processLine %o",{line:e,args:n0(e)});let n=async()=>{if(!e)return;if(e==="?"){this.showHelp();return}let i=n0(e);return this.#h().exec(i,this.log)};this.#C(n())};#h(){if(this.#p)return this.#p;let e=new Hg("CSpell REPL"),n=new Gn("check","Spell check the files matching the globs.",{...zs("globs","string[]","File glob patterns.")},{},h=>this.#D(h.args.globs)),i=new Gn("echo","Echo the values.",{...zs("values","string[]","Echo the values to the console.")},{},h=>this.#T(h.args.values)),r=new Gn("trace","Trace which dictionaries contain the word.",{...zs("word","string","The word to trace.",!0)},{...Xo("all","boolean","Show all dictionaries.",""),...Xo("only-found","boolean","Show only found dictionaries.","f"),...Xo("only-enabled","boolean","Show only enabled dictionaries.",""),...Xo("filetype","string","The file type to use. Example: `python`","t"),...Xo("allow-compound-words","boolean","Allow compound words.","")},h=>this.#F(h.args,h.options)),s=new Gn("suggestions","Generate suggestions for a word.",{...zs("word","string","The word to make suggestions.",!0)},{...Xo("max","number","The maximum number of suggestions to generate.","")},h=>this.#A(h.args.word,h.options)),o=new Gn("pwd","Print the current working directory.",{},{},()=>this.#S()),a=new Gn("cd","Change the current working directory.",{...zs("path","string","The path to change to.")},{},h=>this.#R(h.args.path)),c=new Gn("ls","List the directory contents.",{...zs("paths","string[]","The paths to list.")},{},h=>this.#P(h.args)),u=new Gn("env","Show environment variables.",{...zs("filter","string[]","Optional filter.")},{},h=>this.#k(h.args.filter)),f=new Gn("exit","Exit the REPL.",{},{},()=>{this.log("Exiting..."),this.close()}),g=new Gn("help","Show help.",{command:{type:"string",description:"Show Help",required:!1}},{},h=>this.showHelp(h.args.command)),p=new Gn("cls","Clear the screen.",{},{},()=>this.#s(yU())),l=new Gn("info","Show information about the REPL.",{},{},()=>{this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.log("Working Directory: %s",vc(this.#o.toString(!0))),this.log("Dimensions: %o",this.#u)}),d=[n,i,r,o,a,c,u,f,g,p,l,s];return e.addCommands(d),this.#p=e,e}showHelp(e){this.log(this.#h().getHelp(e))}#C(e){(async()=>{try{if(await e,e)this.#a?.dispose(),this.#a=void 0;else if(this.#a)return}catch(i){i instanceof Error&&this.error(i.message)}if(this.#v(),this.#c?.prompt(),this.#c){let{cursor:i,line:r,terminal:s}=this.#c;gn("cursor pos: %o",{cursorPos:this.#c.getCursorPos(),dim:this.#u,cursor:i,line:r,terminal:s})}})()}#v(){this.#c?.setPrompt(`cspell ${vc(LU(Nt.Uri.joinPath(this.#o,"/"))||"")} > `)}async#D(e){gn("Repl.cmdCheck");let{log:n,error:i}=this,r=this.#s,s=Hx(e);if(s||(s=await this.#c?.question("File glob pattern: ",this.#d)),!s)return;r(jx()+"Gathering Files...");let o=Nt.workspace.getConfiguration("search.exclude"),a=Object.keys(o).filter(f=>o[f]===!0),c=Hx(a),u=await zg(s,this.#o||Yo(),c,void 0,this.#y());n(jx()+"Checking..."),await EU(u,{log:n,error:i,output:r,cancellationToken:this.#y(),width:this.width})}async#T(e){gn("Repl.cmdEcho"),this.log((e||[]).join(" "))}getCommandNames(){return this.#h().getCommandNames().sort()}completer=async e=>{let n=this.getCommandNames();if(!e.trim())return[n,""];let i=s2(e),r=i.args;if(r.length===1&&e===r[0])return[this.#m(e,n).map(f=>f+" "),e];let s=r[0],o=i.hasTrailingSeparator()?0:r.length-1,a=o?r[o]:"";return[(await this.#w(s,a,r)).map(f=>{let g=i.clone();return o?g.setArg(o,f):g.pushArg(f),g.line}).filter(f=>f.startsWith(e)),e]};#w=async(e,n,i)=>{switch(console.error("Repl.cmdCompletion %o",{command:e,current:n}),e){case"check":return this.#x(n);case"cd":return this.#E(n,i);case"ls":return this.#g(n,!1);case"help":return this.#m(n,this.getCommandNames())}return[]};#x=async e=>this.#g(e,!1);#E=async(e,n)=>n.length>2||n.length===2&&n[1]!==e?[]:this.#g(e,!0);#g=async(e,n)=>{try{let i=await this.readDirEntryNames(e,n?Nt.FileType.Directory:void 0);return this.#m(e,i.map(r=>r.startsWith("-")?`./${r}`:r))}catch{return[]}};#m=(e,n)=>{let i=n.filter(s=>s.startsWith(e)),r=NQ(i);return r&&r!==e?[r]:i};#S(){gn("Repl.cmdPwd"),this.log(this.#o?.toString(!1)||"No Working Directory")}#k(e){gn("Repl.cmdEnv"),this.log("Environment:");let n=Object.entries(process.env).filter(([i])=>!e||e.find(r=>i.toLowerCase().includes(r))).sort((i,r)=>i[0].localeCompare(r[0]));for(let[i,r]of n)this.log(`${vc(i)}${zl("=")}${r}`)}async#F(e,n){gn("Repl.cmdTrace %o",e);let{word:i}=e;if(!i){this.log("No word specified.");return}let r=await JU(i,this.#o,{...(0,a2.default)(n),width:this.width});this.log("%s",r)}get width(){return this.#u?.columns||IQ}async#P(e){gn("Repl.cmdLs %o",e),await qU(e.paths,{log:this.log,cwd:this.#o,cancellationToken:this.#y()})}async readDir(e){return NU(e,this.#o)}async readDirEntryNames(e,n){let i=e.split("/").slice(0,-1).join("/"),r=n?([,c])=>c&n:()=>!0,s=i?[]:[["..",Nt.FileType.Directory]],o=i?i+"/":"";return[...s,...(await this.readDir(i)).map(([c,u])=>[o+c,u])].filter(r).map(([c,u])=>c+(u&Nt.FileType.Directory?"/":""))}async#R(e){if(!e)return this.#S();try{let n=Vx(e,this.#o);if((await Nt.workspace.fs.stat(n)).type&Nt.FileType.Directory)this.#o=n;else throw Nt.FileSystemError.FileNotADirectory(n)}catch(n){if(n instanceof Nt.FileSystemError){this.log(`"${e}" is not a valid directory.`);return}this.log("Error: %o",n)}}async#A(e,n){if(!e)return;let i=await UU(e,this.#o);this.log("%s",i)}close=()=>{gn("Repl.close"),!this.#f&&(this.#f=!0,this.#a?.cancel(),this.#l.abort(),this.#c?.close(),this.#r.destroy(),this.#i.destroy(),this.#n.fire(),this.#a?.dispose(),this.#a=void 0)};log=(...e)=>this.#s(Ux((0,r0.formatWithOptions)({colors:!0},...e)+`
`));error=(...e)=>this.#s(Wg("Error: ")+Ux((0,r0.formatWithOptions)({colors:!0},...e)+`
`));#I=()=>this.#a?.cancel();#_(){return this.#N().token}#y(){return this.#a?.token||this.#_()}#N(){this.#a?.dispose();let e=_Q(this.#l);return this.#a=e,e}};function _Q(t){let e=new Nt.CancellationTokenSource;return t.signal.onabort=()=>e.cancel(),e}function NQ(t){if(!t.length)return"";let e=t[0];for(let n of t){let i=0;for(;i<e.length&&i<n.length&&e[i]===n[i];++i);if(e=e.slice(0,i),!e)return e}return e}var Qo=Fe(require("vscode"),1);var LQ=!0;function c2(t){let e=tt();if(!LQ)return e;let n=new Map,i,r,s;return e.push(Qo.default.window.onDidChangeActiveTextEditor(u)),e.push(Qo.default.workspace.onDidChangeConfiguration(f=>{f.affectsConfiguration($t)&&u()})),e.push(Gm().onDidChangeDiagnostics(()=>c())),e.push(t.onDidChangeVisibility(()=>c(!1))),c(),e;function o(f){let g=io(n,f,p=>Qo.default.languages.createLanguageStatusItem(p,{language:"*"}));return e.add(g),g}function a(f){let g="cspell-issues",{enabled:p,fileEnabled:l,languageIdEnabled:d,languageId:h=""}=f||{},m=p&&l&&d,C=Qo.default.window.activeTextEditor?.document,w=(C?Gm().getSpellingIssues(C.uri):void 0)?.getStats()||{},k=o(g);k.name="Issues";let A=[],B=w.spelling||0,W=w.flagged||0,U=B-W;m===void 0&&A.push("$(repo-sync)"),m===!1&&A.push("$(exclude)"),m&&!t.areIssuesVisible()&&A.push("$(eye-closed)"),m&&!B&&A.push("$(check)"),m&&W&&A.push(`$(error) ${W}`),m&&U&&A.push(`$(warning) ${U}`);let ie=A.join(" ");k.severity=Qo.default.LanguageStatusSeverity.Information,k.text=`${ie} Spell`;let ne=[];if(m===!1&&ne.push("- Spell checking is NOT enabled for this file."),d===!1&&ne.push(`- File Type: \`${h}\` is NOT enabled.`),f?.fileIsExcluded){let $=[];f.excludedBy?.forEach(N=>$.push(`- Excluded by ${N.name}`)),ne.push(...$)}k.detail=ne.length?ne.join(`
`):void 0,k.command={command:di["cspell.showActionsMenu"],title:"menu"}}function c(f=!0){if(f){let g=Qo.default.window.activeTextEditor?.document;g!==s&&(s=g,r=void 0),rt(g?co().isSpellCheckEnabled(g):Promise.resolve(void 0),"Language Status").then(p=>a(r=p))}a(r)}function u(){i&&clearTimeout(i),i=setTimeout(()=>{i=void 0,c()},100)}}var Am=require("vscode"),Ij=Fe(Ql(),1);function u0(t){let e;return new Promise((n,i)=>{let r=!1;e=t.subscribe(s=>{if(!r){r=!0;try{n(s)}finally{ln(e)}}})})}var ki;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=4]="info",t[t.warn=8]="warn",t[t.error=16]="error",t[t.everything=31]="everything"})(ki||(ki={}));var Zl;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=3]="info",t[t.warn=4]="warn",t[t.error=5]="error"})(Zl||(Zl={}));var l0=class{logger;logLevelMask=0;constructor(e,n){this.logger=e,this.logLevelMask=YQ(n)}log=this.bindLogger("log",ki.log);error=this.bindLogger("error",ki.error);warn=this.bindLogger("warn",ki.warn);info=this.bindLogger("info",ki.info);debug=this.bindLogger("debug",ki.debug);enableLog=this.bindEnable("log");enableError=this.bindEnable("error");enableWarn=this.bindEnable("warn");enableInfo=this.bindEnable("info");enableDebug=this.bindEnable("debug");isMethodEnabled(e){return!!(ki[e]&this.logLevelMask)}setLogger(e){return this.logger=e,this}enableMethod(e,n=!0){let i=ki[e];return n?this.logLevelMask|=i:this.logLevelMask&=~i,this}setLogLevelMask(e){return this.logLevelMask=e,this}bindLogger(e,n){return(...i)=>this.logLevelMask&n&&this.logger[e](...i)||void 0}bindEnable(e){return n=>this.enableMethod(e,n)}};function YQ(t){return t?ki.everything&ki.everything<<t-1:0}function R2(t=console,e=Zl.log){return new l0(t,e)}var ea=require("vscode");var ts=Fe(require("vscode"),1),ed=require("vscode");function A2(t){return e=>e===void 0?t:e}function d0(t){return e=>e===void 0?void 0:t(e)}function I2(t){if(arguments.length>1){let e=[...arguments].slice(1),n=t;for(let i of e)n=i(n);return n}return t}async function O2(t,e,n,i){let r=e||sZ(t?.uri),s=hw(r),o=await n.getConfigurationForDocument(t,{enabledFileTypes:!0,enabledLanguageIds:!0,enableFiletypes:!0,dictionaries:!0,dictionaryDefinitions:!0,languageSettings:!0,language:!0});return{knownLanguageIds:[...n.languageIds].sort(),dictionaries:q2(o.settings),configs:ZQ(s,o,t,i),workspace:hZ(n.allowedSchemas,ts.workspace),activeFileUri:t?.uri.toString(),activeFolderUri:r?.toString()}}var _2={defaultValue:"default",globalValue:"user",workspaceValue:"workspace",workspaceFolderValue:"folder"},M2=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],QQ=new Map(M2.map((t,e)=>[t,e]));function ZQ(t,e,n,i){return{user:f0(1,t),workspace:f0(2,t),folder:f0(3,t),file:nZ(e,n,i)}}function N2(t){return QQ.get(t)||0}function eZ(t,e){return N2(t)>N2(e)?t:e}function rm(t,e,n){for(let i=t;i>0;--i){let r=M2[i],s=n[r];if(s&&s[e])return r}return"defaultValue"}function f0(t,e){let n=rm(t,"language",e),i=rm(t,Be.enabledLanguageIds,e),r=rm(t,Be.enableFiletypes,e),s=rm(t,Be.enabledFileTypes,e),o=mZ(e[i],e[r],e[s]),a=eZ(i,r);return{inherited:{locales:_2[n],languageIdsEnabled:_2[a]},locales:p0(e[n]?.language),languageIdsEnabled:o}}function tZ(t){if(t)return t.map(e=>({...e,name:e.name||e.configUri&&Ai(Xe(e.configUri))}))}function nZ(t,e,n){if(!e)return;let{uri:i,fileName:r,languageId:s,isUntitled:o}=e,{enabled:a,enabledVSCode:c,languageIdEnabled:u,docSettings:f,fileEnabled:g,fileIsExcluded:p,fileIsIncluded:l,gitignoreInfo:d,excludedBy:h,uriUsed:m,workspaceFolderUri:C}=t,T=new Set(f&&f.dictionaries||[]),w=q2(f).filter(U=>T.has(U.name)),k=m?ed.Uri.parse(m):i,A=C&&ts.workspace.getWorkspaceFolder(ed.Uri.parse(C))||ts.workspace.getWorkspaceFolder(k);function B(){if(!d)return;let{glob:U,gitIgnoreFile:ie,line:ne,matched:$,root:N}=d,H=ed.Uri.file(ie);return{matched:$,glob:U,line:ne,root:N,gitignoreFileUri:H.toString(),gitignoreName:Ai(H)}}return{enabled:a,enabledVSCode:c,uri:i.toString(),uriActual:k.toString(),fileName:r,name:k.path.split("/").slice(-1)[0],isUntitled:o,locales:p0(f?.language),languageId:s,dictionaries:w,languageIdEnabled:u,fileEnabled:g,configFiles:cZ(t),fileIsExcluded:p,fileIsIncluded:l,fileIsInWorkspace:!!A||!!C||o,excludedBy:tZ(h),gitignoreInfo:B(),blockedReason:t.blockedReason,workspaceFolder:iZ(A)}}function iZ(t){if(t)return{uri:t.uri.toString(),name:t.name,index:t.index}}function rZ(){return ts.workspace.workspaceFolders?.[0]}function sZ(t){return t&&ts.workspace.getWorkspaceFolder(t)?.uri||rZ()?.uri}function oZ(t){return ts.workspace.asRelativePath(t,!0)}function aZ(t){return t.scheme==="file"||ts.workspace.getWorkspaceFolder(t)?ts.workspace.asRelativePath(t,!0):t.toString(!0)}function cZ(t){let{configFiles:e,configTargets:n}=t,i=n.filter(uZ).map(({name:s,configUri:o})=>({name:s,uri:o}));return i.length?i:e.map(s=>({name:Ai(Xe(s)),uri:s}))}function uZ(t){return t.kind==="cspell"}var lZ=/\.txt$/,dZ=/(?:@|%40)cspell\//;function q2(t){if(!t)return[];let e=t.dictionaryDefinitions||[],n=new Map(e.map(fZ).map(r=>[r.name,r]));return(t.languageSettings||[]).forEach(r=>{let s=p0(r.locale||r.local),o=U2(r.languageId);(r.dictionaries||[]).forEach(c=>{let u=n.get(c);u&&(u.locales=L2(u.locales,s),u.languageIds=L2(u.languageIds,o))})}),[...n.values()]}function fZ(t){let e=pZ(t),n=e?.toString(),i=n&&(t.addWords||lZ.test(n)&&!dZ.test(n));return{name:t.name,locales:[],languageIds:[],description:t.description,uri:i?n:void 0,uriName:i&&e?aZ(e):void 0}}function pZ(t){if(!(!t.path&&!t.file))return ed.Uri.joinPath(Xe(t.path||""),t.file||"")}function p0(t){return U2(t)}function U2(t){return I2(t,d0(e=>typeof e=="string"?e:e.join(",")),d0(e=>e.replace(/\*/g,"").split(/[,;]/).map(n=>n.trim()).filter(n=>!!n)),A2([]))}function L2(t,e){return t.concat(e).filter(oo())}function hZ(t,e){function n(c){let{name:u,index:f}=c;return{uri:c.uri.toString(),name:u,index:f}}function i(c){let{fileName:u,languageId:f,isUntitled:g}=c;return{uri:c.uri.toString(),fileName:oZ(u),languageId:f,isUntitled:g}}let{name:r,workspaceFolders:s,textDocuments:o}=e;return{name:r,workspaceFolders:s?s.map(n):void 0,textDocuments:o.filter(c=>t.has(c.uri.scheme)).map(i)}}function gZ(...t){let e={};return t.reduce((n,i)=>bd(i,n),e)}function mZ(...t){let e=gZ(...t.filter(vn));return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}var W2=Fe(B2());function g0(t){return new h0(t)}var h0=class extends Vs{_value;constructor(e){super(),this._value=e}get value(){return this._value}set value(e){this.set(e)}set(e){this._value===e||(0,W2.default)(this._value,e)||(this._value=e,this.notify(e))}subscribe(e){let n=super.subscribe(e);return gc(e)(this._value),n}update(e){return this.set(e(this._value))}};var td=require("vscode"),H2=Fe(Ql(),1);var K2=[{uuid:1,done:!1,text:"finish Svelte tutorial"},{uuid:2,done:!1,text:"build an app"},{uuid:3,done:!1,text:"world domination"}];function m0(t){return CZ(t,Ys())}var yZ={...console},V2=R2(yZ,Zl.none);function kc(){return V2}function CZ(t,e){let n,i=new Set,r=tt([()=>ln(n)],"bindApiAndStore"),s=r.dispose,a=(0,H2.createServerSideSpellInfoWebviewApi)(t,{serverRequests:{whatTimeIsIt:u,getLogDebug:()=>e.state.logDebug.value,getTodos:()=>$2(e.state.todos),getCurrentDocument:()=>$2(e.state.currentDocument),getDocSettings:y0,updateEnabledFileTypes:g=>Ws(g.enabledFileTypes,g.url),setLogDebug:g=>e.state.logDebug.value=g,setTodos:g=>vZ(g,e.state.todos),watchFields:c,resetTodos:f},serverNotifications:{async showInformationMessage(g){await td.window.showInformationMessage("Show Message: "+g)},async openTextDocument(g){if(!g)return;let p=td.Uri.parse(g);await td.window.showTextDocument(p)}},clientRequests:{},clientNotifications:{onStateChange:!0}},V2);return r.push(rs(a)),ao({...a},s,"bindApiAndStore");function c(g){ln(n),g.forEach(p=>i.add(p)),n=z2(i,p=>{a.clientNotification.onStateChange(p)})}function u(){return new Date().toString()}function f(){return C0(void 0,K2.map(g=>({...g})),e.state.todos)}}function vZ(t,e){return C0(t.seq,t.value,e)}function $2(t){return SZ(u0(t))}async function SZ(t){let e=await t;return bZ(e)}function bZ(t){return{seq:Ys().seq,value:t}}var DZ=!1;DZ&&kc().setLogLevelMask(ki.everything);var nd;function Ys(){if(nd)return nd;let t=ql(TZ),e=Go(t,Ml(500),yx);function n(){ln(t);let s=nd;nd=void 0,s&&Object.values(s.state).forEach(o=>ln(o))}let i={logDebug:g0(kc().isMethodEnabled("debug")),todos:g0([])};return nd=ao({seq:1,state:{...i,currentDocument:e}},n,"getWebviewGlobalStore")}function TZ(t){let e=gc(t),n=[],i=vd(n);return r(ea.window.activeTextEditor),n.push(J2(ea.window.onDidChangeActiveTextEditor(r,void 0))),n.push(J2(ea.window.onDidChangeTextEditorSelection(s=>s.textEditor===ea.window.activeTextEditor&&r(s.textEditor),void 0))),i;function r(s){if(!s)return;let o=s.document,a={url:o.uri.toString(),version:o.version};e(a)}}async function y0(t){let e=t&&wZ(t)||void 0,n=Kc();return O2(e,void 0,n.client,console.log)}function C0(t,e,n){let i=Ys();return t&&t!==i.seq?{seq:i.seq,value:n.value,success:!1}:(i.seq++,n.set(e),{seq:i.seq,value:n.value,success:!0})}function z2(t,e){let n=Ys(),r=[...t].map(s=>({field:s,sub:n.state[s]})).map(s=>s.sub.subscribe(()=>e([s.field])));return vd(r)}function wZ(t){for(let e of ea.workspace.textDocuments)if(!xZ(e.uri,t))return e}function xZ(t,e){let n=G2(t),i=G2(e);return n===i?0:n<i?-1:1}function G2(t){return decodeURIComponent(decodeURIComponent(t.toString())).normalize("NFC").replace(/^file:\/\/\/[a-z]:/i,n=>n.toLowerCase())}function J2(t){return Kn(()=>t.dispose(),void 0,"disposeClassic")}var ud=require("vscode");var Rj=Fe(Ql(),1);var IE=require("vscode");var Oc=Fe(kj(),1),PE=class extends Oc.AbstractMessageReader{webview;logger;constructor(e,n){super(),this.webview=e,this.logger=n}listen(e){return this.logger?.debug("start listening"),this.webview.onDidReceiveMessage(n=>{this.logger?.debug("listen: %o",n),e(n)})}},RE=class extends Oc.AbstractMessageWriter{webview;logger;errorCount;constructor(e,n){super(),this.webview=e,this.logger=n,this.errorCount=0}async write(e){try{await this.webview.postMessage(e),this.errorCount=0}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};function AE(t,e){return(0,Oc.createMessageConnection)(new PE(t,e),new RE(t,e),e)}function Fj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Pj=require("vscode");function Em(t,e,...n){return t.asWebviewUri(Pj.Uri.joinPath(e,...n))}var no=class t{constructor(e,n,i){this.webview=e;this.extensionUri=n;this.viewName=i;e.options=this.calcOptions(),e.html=this._getWebviewContent();let r=AE(e,kc());this._disposables.push(rs(m0(r),"createApi")),r.listen(),this._disposables.push(rs(r,"rpc"))}_disposables=tt(void 0,"AppView");dispose=this._disposables.dispose;calcOptions(){let e=this.extensionUri;return{enableScripts:!0,localResourceRoots:[IE.Uri.joinPath(e,"out"),IE.Uri.joinPath(e,"packages/webview-ui/public")]}}_getWebviewContent(){let{webview:e,extensionUri:n,viewName:i}=this,r=Em(e,n,"packages/webview-ui/public/build/bundle.css"),s=Em(e,n,"packages/webview-ui/public/assets/css/codicon.css"),o=Em(e,n,"packages/webview-ui/public/build/bundle.js"),a=Fj();return`
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <title>Hello World</title>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <meta http-equiv="Content-Security-Policy" content="
            default-src 'none';
            font-src ${e.cspSource};
            style-src 'nonce-${a}';
            style-src-elem 'nonce-${a}';
            script-src 'nonce-${a}';
          ">
          <meta property="csp-nonce" content="${a}" />
          <meta property="view-name" content="${i}" />
          <link rel="stylesheet" type="text/css" nonce="${a}" href="${r}">
          <link rel="stylesheet" type="text/css" nonce="${a}" href="${s}">
          <script nonce="${a}">
            var process = { env: { NODE_ENV: 'production' } };
          </script>
          <script defer nonce="${a}" src="${o}"></script>
        </head>
        <body>
        </body>
      </html>
    `}static bindView(e,n,i){return new t(e,n,i)}};var km=class{static bindView(e,n){return new no(e,n,Rj.supportedViewsByName["hello-world"])}};var ld=class t{static currentPanel;_panel;_disposables=tt(void 0,"HelloWorldPanel");constructor(e,n){this._panel=e,this._disposables.push(this._panel),this._disposables.push(this._panel.onDidDispose(()=>this.dispose())),this._disposables.push(km.bindView(this._panel.webview,n))}static render(e){if(t.currentPanel){t.currentPanel._panel.reveal(ud.ViewColumn.One);return}let n=ud.window.createWebviewPanel("showHelloWorld","Hello World",ud.ViewColumn.One,{});t.currentPanel=new t(n,e)}dispose(){t.currentPanel===this&&(t.currentPanel=void 0),this._disposables.dispose()}};var Aj=Fe(Ql(),1);var Fm=class{static bindView(e,n){return new no(e,n,Aj.supportedViewsByName.todo)}};var Pm=class{constructor(e){this.extensionUri=e}viewType="cspell-info.todoView";_view;resolveWebviewView(e,n,i){this._view=e;let r=Fm.bindView(e.webview,this.extensionUri);this._view.onDidDispose(()=>r.dispose())}};var Rm=class{constructor(e,n,i){this.extensionUri=e;this.viewName=n;this.viewType=i}_view;resolveWebviewView(e,n,i){this._view=e;let r=no.bindView(e.webview,this.extensionUri,this.viewName);this._view.onDidDispose(()=>r.dispose())}};var _j=["cspell-info.showHelloWorld"],oee=Object.fromEntries(_j.map(t=>[t,t]));function _E(t){let{subscriptions:e,extensionUri:n}=t,i=[new Pm(n),new Rm(n,Ij.supportedViewsByName["cspell-info"],"cSpellInfoView")];for(let s of i)e.push(Am.window.registerWebviewViewProvider(s.viewType,s));let r=Am.commands.registerCommand(oee["cspell-info.showHelloWorld"],()=>{ld.render(t.extensionUri)});e.push(r,{dispose:()=>ld.currentPanel?.dispose()}),e.push(Ys())}Yt.mark("cspell_done_import");var Lj=!1,dd;nU();function aee(t){try{Yt.mark("cspell_activate_start"),$c("extensionContext",t);let e=Uw(t.globalStorageUri);$c("eventLogger",e),e.logActivate(),Mj();let n=new Bt.EventEmitter,i=new Promise(r=>n.event(r));return Yt.mark("activateIssueViewer"),Ix(t,i),Yt.mark("activateFileIssuesViewer"),Ex(t,i),Yt.mark("start_async_activate"),cee({context:t,eIssueTracker:n}).catch(r=>{throw Nj(r)})}catch(e){throw Nj(e)}}function Nj(t){return new Error(`Failed to activate: (${Yt.getLastEventName()}) ${t}`,{cause:t})}async function cee(t){let{context:e,eIssueTracker:n}=t,i=Bt.window.createOutputChannel("Code Spell Checker",{log:!0}),r=uee(i);Yt.mark("create client");let s=await Wh.create(e);if(e.subscriptions.push(s,i,r),$c("client",s),Lj){let H=Bt.Uri.joinPath(e.globalStorageUri,"data.json");console.log('Extension "Code Spell Checker" is now active! %o',{extensionUri:e.extensionUri.toJSON(),globalStorageUri:e.globalStorageUri.toJSON(),dataFileUri:H.toJSON(),dataFileDirUri:Bt.Uri.joinPath(H,"..").toJSON(),workspaceState:e.workspaceState.keys(),globalState:e.globalState.keys()})}Yt.mark("ExtensionRegEx.activate"),Jq(e,s),Yt.mark("start client"),await s.start(),Yt.mark("start IssueTracker");let o=new Ig(s);$c("issueTracker",o),n.fire(o),n.dispose();function a(H=0){setTimeout(c,H)}function c(){lo(s.triggerSettingsRefresh(),"triggerGetSettings").then(()=>{}).catch(()=>{})}function u(H){gi.log(`Configuration Change: ${H.toString()}`),dd=void 0,a()}Yt.mark("createConfigWatcher");let f=Nq(),g=new Ol(e,o),p=new Ul(e,s),l={"cSpell.toggleTraceMode":()=>p.toggleVisible(),"cSpell.toggleVisible":()=>g.toggleVisible(),"cSpell.show":()=>g.visible=!0,"cSpell.hide":()=>g.visible=!1,"cSpell.createCSpellTerminal":s0};Yt.mark("register"),e.subscriptions.push(o,f,f.onDidChangeConfig(u),Bt.workspace.onDidSaveTextDocument(h),Bt.workspace.onDidRenameFiles(m),Bt.workspace.onDidDeleteFiles(C),Bt.workspace.onDidCreateFiles(T),Bt.workspace.onDidOpenTextDocument(w),Bt.workspace.onDidChangeConfiguration(k),Bt.window.onDidChangeActiveTextEditor(A),Bt.window.onDidChangeVisibleTextEditors(B),o.onDidChangeDiagnostics(W),g,p,Iq(o),QM(g.visible,g.onDidChangeVisibility),o0(),...wq(l),Bt.workspace.onDidChangeConfiguration(d),c2({areIssuesVisible:()=>g.visible,onDidChangeVisibility:g.onDidChangeVisibility}),kq({areIssuesVisible:()=>g.visible}),s.onBlockFile(lee)),Yt.mark("registerCspellInlineCompletionProviders"),await Rq(e.subscriptions).catch(()=>{});function d(H){H.affectsConfiguration(wi)&&a()}function h(H){U([H.uri])}function m(H){let te=H.files.map(K=>K.newUri).concat(H.files.map(K=>K.oldUri));U(te)}function C(H){U(H.files)}function T(H){U(H.files)}function w(H){}function k(H){H.affectsConfiguration(AM("logLevel"))&&Mj()}function A(H){dn(lc(s,H?.document),"handleOnDidChangeActiveTextEditor")}function B(H){dn(lc(s,Bt.window.activeTextEditor?.document),"handleOnDidChangeVisibleTextEditors")}function W(H){let te=Bt.window.activeTextEditor;if(!te)return;new Set(H.uris.map(G=>G.toString())).has(te.document.uri.toString())&&setTimeout(()=>{dn(lc(s,te.document),"handleOnDidChangeDiagnostics")},10)}function U(H){for(let te of H)if(kv.has(yr.basename(te))){a();break}}function ie(H){s.registerConfiguration(H)}let ne={enableLocale:(H,te)=>sx(H,te,!0),disableLocale:(H,te)=>sx(H,te,!1)},$=(H,te)=>s.getConfigurationForDocument(H,te);Yt.mark("setup Extension API");let N={registerConfig:ie,triggerGetSettings:a,enableLanguageId:ix,disableLanguageId:rx,enableCurrentFileType:_l,disableCurrentFileType:Nl,addWordToUserDictionary:Rd,addWordToWorkspaceDictionary:Pd,enableLocale:ne.enableLocale,disableLocale:ne.disableLocale,updateSettings:()=>!1,cSpellClient:()=>s,getConfigurationForDocument:$,checkDocument:bg,enableLocal:ne.enableLocale,disableLocal:ne.disableLocale,enableCurrentLanguage:_l,disableCurrentLanguage:Nl};return Yt.mark("activateWebview"),_E(e),Yt.mark("cspell_activate_end"),Yt.measure("cspell_activation","cspell_activate_start","cspell_activate_end"),N}function uee(t){let e=tt(),n=Oj(),i={log:(...r)=>Lj||n==="Debug"?t.info(...r):t.debug(...r),error:t.error.bind(t),info:t.info.bind(t),warn:t.warn.bind(t)};return gi.setConnection({console:i,onExit:r=>e.push(r)}),gi.logTime=!1,gi.logSequence=!1,e}Yt.mark("cspell_done_load");function Oj(){return dd||(dd=Qr("logLevel",void 0)||"Error",dd)}function Mj(t){let e=t??Oj();gi.level=e}async function lee(t){try{let{uri:e,reason:n}=t;if(!GM(e))return;let i=[{title:"Ok"},{title:"Open Settings"}];(await Bt.window.showInformationMessage(`File "${Ai(Bt.Uri.parse(e))}" not spell checked:
${n.notificationMessage}
`,...i))?.title==="Open Settings"&&await Bt.commands.executeCommand("workbench.action.openSettings",n.settingsID)}catch{}}0&&(module.exports={activate});
/*! Bundled license information:

repeat-string/index.js:
  (*!
   * repeat-string <https://github.com/jonschlinkert/repeat-string>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=extension.cjs.map
